<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>cs61a：从入土到入门 | 等到天亮我们都寻找到最漂亮的愿望</title><meta name="keywords" content="cs, python"><meta name="author" content="Sheeta Liu"><meta name="copyright" content="Sheeta Liu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="幸好没成为梦结束的地方...">
<meta property="og:type" content="article">
<meta property="og:title" content="cs61a：从入土到入门">
<meta property="og:url" content="http://liuydd.github.io/2022/07/02/cs61aa/index.html">
<meta property="og:site_name" content="等到天亮我们都寻找到最漂亮的愿望">
<meta property="og:description" content="幸好没成为梦结束的地方...">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://liuydd.github.io/images/cover12.jpg">
<meta property="article:published_time" content="2022-07-02T13:03:32.000Z">
<meta property="article:modified_time" content="2022-10-16T04:13:17.665Z">
<meta property="article:author" content="Sheeta Liu">
<meta property="article:tag" content="cs, python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://liuydd.github.io/images/cover12.jpg"><link rel="shortcut icon" href="../../../../img/tubiao.jpg"><link rel="canonical" href="http://liuydd.github.io/2022/07/02/cs61aa/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="../../../../css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'cs61a：从入土到入门',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-10-16 12:13:17'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="atom.xml" title="等到天亮我们都寻找到最漂亮的愿望" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="../img/touxiang2.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="../archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="../tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="../index.html"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="../archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="../categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="../link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="../about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="../html/Site/Resume.html"><i class="fa-fw fas fa-file-user"></i><span> Resume</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('../../../../images/cover12.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="../index.html">等到天亮我们都寻找到最漂亮的愿望</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="../index.html"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="../archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="../categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="../link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="../about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="../html/Site/Resume.html"><i class="fa-fw fas fa-file-user"></i><span> Resume</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">cs61a：从入土到入门</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-02T13:03:32.000Z" title="发表于 2022-07-02 21:03:32">2022-07-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-16T04:13:17.665Z" title="更新于 2022-10-16 12:13:17">2022-10-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="../../../../categories/cs/">cs</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">27.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>166分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="cs61a：从入土到入门"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Readme"><a href="#Readme" class="headerlink" title="Readme"></a>Readme</h2><p>版本：CS 61A Fall 2021</p>
<p>记录homework, lab and projects.</p>
<p>github地址：<a target="_blank" rel="noopener" href="https://github.com/liuydd/cs61a-2021fall">liuydd&#x2F;cs61a-2021fall (github.com)</a></p>
<h2 id="HW-01-Control"><a href="#HW-01-Control" class="headerlink" title="HW 01:Control"></a>HW 01:Control</h2><p>可能刚开始，连ok用的都不太熟练，所以hw01做的比较水…</p>
<p>cs61a每一题都会给出大概的模板，(<del>是为了避免让你造轮子吗</del></p>
<h3 id="Q2-A-Plus-Abs-B"><a href="#Q2-A-Plus-Abs-B" class="headerlink" title="Q2:A Plus Abs B"></a>Q2:A Plus Abs B</h3><p>Fill in the blanks in the following function for adding <code>a</code> to the absolute value of <code>b</code>, without calling <code>abs</code>. You may <strong>not</strong> modify any of the provided code other than the two blanks.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">a_plus_abs_b</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a+abs(b), but without calling abs.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a_plus_abs_b(2, 3)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a_plus_abs_b(2, -3)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> b &lt; <span class="number">0</span>:</span><br><span class="line">        f = _____</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        f = _____</span><br><span class="line">    <span class="keyword">return</span> f(a, b)</span><br></pre></td></tr></table></figure>

<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q a_plus_abs_b</span><br></pre></td></tr></table></figure>

<p><strong>my answer:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">a_plus_abs_b</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a+abs(b), but without calling abs.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a_plus_abs_b(2, 3)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a_plus_abs_b(2, -3)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> b &lt; <span class="number">0</span>:</span><br><span class="line">        f = a-b</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        f = a+b</span><br><span class="line">    <span class="keyword">return</span> f(a, b)</span><br></pre></td></tr></table></figure>

<h3 id="Q3-Two-of-Three"><a href="#Q3-Two-of-Three" class="headerlink" title="Q3: Two of Three"></a>Q3: Two of Three</h3><p>Write a function that takes three <em>positive</em> numbers as arguments and returns the sum of the squares of the two smallest numbers.<strong>Use only a single line for the body of the function.</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">two_of_three</span>(<span class="params">x, y, z</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a*a + b*b, where a and b are the two smallest members of the</span></span><br><span class="line"><span class="string">    positive numbers x, y, and z.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; two_of_three(1, 2, 3)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; two_of_three(5, 3, 1)</span></span><br><span class="line"><span class="string">    10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; two_of_three(10, 2, 8)</span></span><br><span class="line"><span class="string">    68</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; two_of_three(5, 5, 5)</span></span><br><span class="line"><span class="string">    50</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> _____</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Hint:</strong> Consider using the <code>max</code> or <code>min</code> function:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">max</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">min</span>(-<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">3</span>)</span><br><span class="line">-<span class="number">3</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q two_of_three</span><br></pre></td></tr></table></figure>

<p><strong>my answer:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">two_of_three</span>(<span class="params">x, y, z</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a*a + b*b, where a and b are the two smallest members of the</span></span><br><span class="line"><span class="string">    positive numbers x, y, and z.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; two_of_three(1, 2, 3)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; two_of_three(5, 3, 1)</span></span><br><span class="line"><span class="string">    10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; two_of_three(10, 2, 8)</span></span><br><span class="line"><span class="string">    68</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; two_of_three(5, 5, 5)</span></span><br><span class="line"><span class="string">    50</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> x*x+y*y+z*z-<span class="built_in">max</span>(x,y,z)*<span class="built_in">max</span>(x,y,z)</span><br></pre></td></tr></table></figure>

<h3 id="Q4-Largest-Factor"><a href="#Q4-Largest-Factor" class="headerlink" title="Q4: Largest Factor"></a>Q4: Largest Factor</h3><p>Write a function that takes an integer <code>n</code> that is <strong>greater than 1</strong> andreturns the largest integer that is smaller than <code>n</code> and evenly divides <code>n</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">largest_factor</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the largest factor of n that is smaller than n.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; largest_factor(15) # factors are 1, 3, 5</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; largest_factor(80) # factors are 1, 2, 4, 5, 8, 10, 16, 20, 40</span></span><br><span class="line"><span class="string">    40</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; largest_factor(13) # factor is 1 since 13 is prime</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Hint:</strong> To check if <code>b</code> evenly divides <code>a</code>, you can use the expression <code>a % b == 0</code>, which can be read as, “the remainder of dividing <code>a</code> by <code>b</code> is 0.”</p>
</blockquote>
<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q largest_factor</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>my answer:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">largest_factor</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the largest factor of n that is smaller than n.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; largest_factor(15) # factors are 1, 3, 5</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; largest_factor(80) # factors are 1, 2, 4, 5, 8, 10, 16, 20, 40</span></span><br><span class="line"><span class="string">    40</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; largest_factor(13) # factor is 1 since 13 is prime</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    i=n-<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n%i!=<span class="number">0</span>:</span><br><span class="line">        i=i-<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<h3 id="Q6-Hailstone"><a href="#Q6-Hailstone" class="headerlink" title="Q6: Hailstone"></a>Q6: Hailstone</h3><p>Douglas Hofstadter’s Pulitzer-prize-winning book, <em>Gödel, Escher, Bach</em>, poses the following mathematical puzzle.</p>
<ol>
<li>Pick a positive integer <code>n</code> as the start.</li>
<li>If <code>n</code> is even, divide it by 2.</li>
<li>If <code>n</code> is odd, multiply it by 3 and add 1.</li>
<li>Continue this process until <code>n</code> is 1.</li>
</ol>
<p>The number <code>n</code> will travel up and down but eventually end at 1 (at least for all numbers that have ever been tried – nobody has ever proved that the sequence will terminate). Analogously, a hailstone travels up and down in the atmosphere before eventually landing on earth.</p>
<p>This sequence of values of <code>n</code> is often called a Hailstone sequence. Write a function that takes a single argument with formal parameter name <code>n</code>, prints out the hailstone sequence starting at <code>n</code>, and returns the number of steps in the sequence:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">hailstone</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Print the hailstone sequence starting at n and return its</span></span><br><span class="line"><span class="string">    length.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = hailstone(10)</span></span><br><span class="line"><span class="string">    10</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    16</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a</span></span><br><span class="line"><span class="string">    7</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p>Hailstone sequences can get quite long! Try 27. What’s the longest you can find?</p>
<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q hailstone</span><br></pre></td></tr></table></figure>

<p><strong>my answer:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#hw01 Q6:Hailstone</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hailstone</span>(<span class="params">n</span>):</span><br><span class="line">    i=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n!=<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">int</span>(n))</span><br><span class="line">        <span class="keyword">if</span> n%<span class="number">2</span>==<span class="number">0</span>:</span><br><span class="line">            n=n/<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            n=n*<span class="number">3</span>+<span class="number">1</span></span><br><span class="line">        i=i+<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="comment">#print(int(i))</span></span><br></pre></td></tr></table></figure>



<h2 id="Lab-01-Variables-amp-Functions-Control"><a href="#Lab-01-Variables-amp-Functions-Control" class="headerlink" title="Lab 01: Variables &amp; Functions,Control"></a>Lab 01: Variables &amp; Functions,Control</h2><h3 id="Q4：-Falling-Factorial"><a href="#Q4：-Falling-Factorial" class="headerlink" title="Q4： Falling Factorial"></a>Q4： Falling Factorial</h3><p>Let’s write a function <code>falling</code>, which is a “falling” factorial that takes two arguments, <code>n</code> and <code>k</code>, and returns the product of <code>k</code> consecutive numbers, starting from <code>n</code> and working downwards. When <code>k</code> is 0, the function should return 1.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">falling</span>(<span class="params">n, k</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Compute the falling factorial of n to depth k.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; falling(6, 3)  # 6 * 5 * 4</span></span><br><span class="line"><span class="string">    120</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; falling(4, 3)  # 4 * 3 * 2</span></span><br><span class="line"><span class="string">    24</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; falling(4, 1)  # 4</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; falling(4, 0)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q falling</span><br></pre></td></tr></table></figure>

<p><strong>my answer:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">falling</span>(<span class="params">n, k</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Compute the falling factorial of n to depth k.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; falling(6, 3)  # 6 * 5 * 4</span></span><br><span class="line"><span class="string">    120</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; falling(4, 3)  # 4 * 3 * 2</span></span><br><span class="line"><span class="string">    24</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; falling(4, 1)  # 4</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; falling(4, 0)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;  if(k==0):</span></span><br><span class="line"><span class="string">        temp=1</span></span><br><span class="line"><span class="string">    else:</span></span><br><span class="line"><span class="string">        temp=n</span></span><br><span class="line"><span class="string">        while(k!=1):</span></span><br><span class="line"><span class="string">            k-=1</span></span><br><span class="line"><span class="string">            temp*=(n-1)</span></span><br><span class="line"><span class="string">            n-=1</span></span><br><span class="line"><span class="string">    return temp    &#x27;&#x27;&#x27;</span></span><br><span class="line">    total,stop=<span class="number">1</span>,n-k</span><br><span class="line">    <span class="keyword">while</span> n&gt;stop:</span><br><span class="line">        total,n=total*n,n-<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> total                <span class="comment">#感觉python有很多都和C++不同，而我的思维还在C++上面</span></span><br></pre></td></tr></table></figure>

<h3 id="Q5-Sum-Digits"><a href="#Q5-Sum-Digits" class="headerlink" title="Q5: Sum Digits"></a>Q5: Sum Digits</h3><p>Write a function that takes in a nonnegative integer and sums its digits. (Using floor division and modulo might be helpful here!)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_digits</span>(<span class="params">y</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Sum all the digits of y.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sum_digits(10) # 1 + 0 = 1</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sum_digits(4224) # 4 + 2 + 2 + 4 = 12</span></span><br><span class="line"><span class="string">    12</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sum_digits(1234567890)</span></span><br><span class="line"><span class="string">    45</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = sum_digits(123) # make sure that you are using return rather than print</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q sum_digits</span><br></pre></td></tr></table></figure>

<p><strong>my answer:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sum_digits</span>(<span class="params">y</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Sum all the digits of y.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sum_digits(10) # 1 + 0 = 1</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sum_digits(4224) # 4 + 2 + 2 + 4 = 12</span></span><br><span class="line"><span class="string">    12</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sum_digits(1234567890)</span></span><br><span class="line"><span class="string">    45</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = sum_digits(123) # make sure that you are using return rather than print</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    total=y%<span class="number">10</span></span><br><span class="line">    <span class="keyword">while</span>(y!=<span class="number">0</span>):</span><br><span class="line">        y=y//<span class="number">10</span></span><br><span class="line">        total+=y%<span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> total         <span class="comment">#这个过的挺轻松的</span></span><br></pre></td></tr></table></figure>

<h3 id="Q7-Double-Eights"><a href="#Q7-Double-Eights" class="headerlink" title="Q7: Double Eights"></a>Q7: Double Eights</h3><p>Write a function that takes in a number and determines if the digits contain two<br>adjacent 8s.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">double_eights</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return true if n has two eights in a row.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(8)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(88)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(2882)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(880088)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(12345)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(80808080)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q double_eights</span><br></pre></td></tr></table></figure>

<p><strong>my answer:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">double_eights</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return true if n has two eights in a row.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(8)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(88)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(2882)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(880088)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(12345)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_eights(80808080)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">while</span>(n!=<span class="number">0</span>):</span><br><span class="line">        t=n%<span class="number">10</span></span><br><span class="line">        <span class="keyword">if</span>(t==<span class="number">8</span>):</span><br><span class="line">            n//=<span class="number">10</span></span><br><span class="line">            _t=n%<span class="number">10</span></span><br><span class="line">            <span class="keyword">if</span>(_t==<span class="number">8</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            n//=<span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span>    <span class="comment">#最后这里不要忘了还有个return，针对while循环走完的情况</span></span><br></pre></td></tr></table></figure>



<h2 id="Project1：The-Game-of-Hog"><a href="#Project1：The-Game-of-Hog" class="headerlink" title="Project1：The Game of Hog"></a>Project1：The Game of Hog</h2><h3 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h3><ul>
<li><strong>Sow Sad:</strong> If any of the dice outcomes is a 1, the current player’s score for the turn is <code>1</code>.<ul>
<li>所有骰子中有一个数为1，则得1分</li>
</ul>
</li>
<li><strong>Picky Piggy:</strong> A player who chooses to roll zero dice scores the <code>n</code>th digit of the decimal expansion of 1&#x2F;7 (0.14285714…), where <code>n</code> is the opponent’s score. As a special case, if <code>n</code> is 0, the player scores 7 points.<ul>
<li>玩家选择不掷骰子，则对手分数为几，他的分数就为1&#x2F;7的第几位数字</li>
</ul>
</li>
<li><strong>Hog Pile:</strong> After points for the turn are added to the current player’s score, if  the players’ scores are the same, the current player’s score doubles.<ul>
<li>如果当前玩家掷骰子后的分数与对手相同，则当前玩家分数翻倍</li>
</ul>
</li>
</ul>
<h3 id="Phase1-Simulator"><a href="#Phase1-Simulator" class="headerlink" title="Phase1: Simulator"></a>Phase1: Simulator</h3><p>In the first phase, you will develop a simulator for the game of Hog.</p>
<h4 id="Problem-0"><a href="#Problem-0" class="headerlink" title="Problem 0"></a>Problem 0</h4><ul>
<li>a fair dice：正常的骰子</li>
<li>a test dice：在输入进去的数中选一个输出</li>
</ul>
<h4 id="Problem-1"><a href="#Problem-1" class="headerlink" title="Problem 1"></a>Problem 1</h4><p>num_rolls：要掷的骰子数量</p>
<p>dice：所掷的骰子情况</p>
<blockquote>
<p>cs61a的project会先设置一个unlocking环节，以填空的形式确保你真的理解了题目的意思</p>
<p>居然还会给你debugging tips，有点感动</p>
</blockquote>
<p><strong>www我破防了，为什么unlocking只能用vscode交互而不能用git</strong></p>
<p><del>刚夸了这个理解程序的功能，结果在这耗了四五十分钟…</del></p>
<p>讲个笑话：</p>
<p><img src="/2022/07/02/cs61aa/img1.png"></p>
<blockquote>
<p>死者：lyd</p>
<p>死因：python3.9 -q 01 -u –local的50+cases</p>
<p><del>太好了，不是50+，只有几个cases</del></p>
</blockquote>
<p>attention：令a&#x3D;make_test_dice(4,1,2,6)，roll_dice(3,a)输出后，roll_dice(1,a)中a的值会接着来。</p>
<p>anyway，Berkerly的这门课程让我喜欢的就在这，给出了error、是哪个suite出了问题、过了多少个cases</p>
<p><img src="/2022/07/02/cs61aa/img2.png"></p>
<p><del>又到了愉快的debug时间</del></p>
<p><img src="/2022/07/02/cs61aa/img3.png"></p>
<p>好开心！！！虽然是个很简单的函数，虽然不知道前几次为什么过不了…</p>
<p><strong>my answer:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">roll_dice</span>(<span class="params">num_rolls, dice=six_sided</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Simulate rolling the DICE exactly NUM_ROLLS &gt; 0 times. Return the sum of</span></span><br><span class="line"><span class="string">    the outcomes unless any of the outcomes is 1. In that case, return 1.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    num_rolls:  The number of dice rolls that will be made.</span></span><br><span class="line"><span class="string">    dice:       A function that simulates a single dice roll outcome.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># These assert statements ensure that num_rolls is a positive integer.</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">type</span>(num_rolls) == <span class="built_in">int</span>, <span class="string">&#x27;num_rolls must be an integer.&#x27;</span></span><br><span class="line">    <span class="keyword">assert</span> num_rolls &gt; <span class="number">0</span>, <span class="string">&#x27;Must roll at least once.&#x27;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 1</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="built_in">sum</span>,f=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    num_of_rolls=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> num_of_rolls&lt;=num_rolls:</span><br><span class="line">        c=dice()</span><br><span class="line">        <span class="built_in">sum</span>+=c</span><br><span class="line">        num_of_rolls+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> c==<span class="number">1</span>:</span><br><span class="line">            f=<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> f==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>        </span><br><span class="line">    <span class="comment"># END PROBLEM 1</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-2"><a href="#Problem-2" class="headerlink" title="Problem 2"></a>Problem 2</h4><p>写的比较水…用枚举的方法直接AC</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">picky_piggy</span>(<span class="params">score</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the points scored from rolling 0 dice.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    score:  The opponent&#x27;s current score.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 2</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> score%<span class="number">6</span>==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">7</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        s=score%<span class="number">6</span></span><br><span class="line">        <span class="keyword">if</span> s==<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> s==<span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line">        <span class="keyword">elif</span> s==<span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">        <span class="keyword">elif</span> s==<span class="number">4</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">8</span></span><br><span class="line">        <span class="keyword">elif</span> s==<span class="number">5</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">5</span></span><br><span class="line">    <span class="comment"># END PROBLEM 2</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-3"><a href="#Problem-3" class="headerlink" title="Problem 3"></a>Problem 3</h4><p>函数take_turn：综合考虑roll_dice和picky_piggy情况。即若num_rolls&gt;0，按roll_dice考虑，若num_rolls&#x3D;0，按picky_piggy考虑</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">take_turn</span>(<span class="params">num_rolls, opponent_score, dice=six_sided, goal=GOAL_SCORE</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Simulate a turn rolling NUM_ROLLS dice, which may be 0 in the case</span></span><br><span class="line"><span class="string">    of a player using Picky Piggy.</span></span><br><span class="line"><span class="string">    Return the points scored for the turn by the current player.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    num_rolls:       The number of dice rolls that will be made.</span></span><br><span class="line"><span class="string">    opponent_score:  The total score of the opponent.</span></span><br><span class="line"><span class="string">    dice:            A function that simulates a single dice roll outcome.</span></span><br><span class="line"><span class="string">    goal:            The goal score of the game.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># Leave these assert statements here; they help check for errors.</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">type</span>(num_rolls) == <span class="built_in">int</span>, <span class="string">&#x27;num_rolls must be an integer.&#x27;</span></span><br><span class="line">    <span class="keyword">assert</span> num_rolls &gt;= <span class="number">0</span>, <span class="string">&#x27;Cannot roll a negative number of dice in take_turn.&#x27;</span></span><br><span class="line">    <span class="keyword">assert</span> num_rolls &lt;= <span class="number">10</span>, <span class="string">&#x27;Cannot roll more than 10 dice.&#x27;</span></span><br><span class="line">    <span class="keyword">assert</span> opponent_score &lt; goal, <span class="string">&#x27;The game should be over.&#x27;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 3</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> num_rolls==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> picky_piggy(opponent_score)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> roll_dice(num_rolls,dice)</span><br><span class="line">    <span class="comment"># END PROBLEM 3</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-4"><a href="#Problem-4" class="headerlink" title="Problem 4"></a>Problem 4</h4><p>函数hog_pile：return的是current player增加的points，而非总points</p>
<p>如果player_score!&#x3D;opponent_score，则return 0；反之，return player_score</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">hog_pile</span>(<span class="params">player_score, opponent_score</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the points scored by player due to Hog Pile.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    player_score:   The total score of the current player.</span></span><br><span class="line"><span class="string">    opponent_score: The total score of the other player.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 4</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> player_score!=opponent_score:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> player_score</span><br><span class="line">    <span class="comment"># END PROBLEM 4</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-5"><a href="#Problem-5" class="headerlink" title="Problem 5"></a>Problem 5</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">play</span>(<span class="params">strategy0, strategy1, score0=<span class="number">0</span>, score1=<span class="number">0</span>, dice=six_sided,</span></span><br><span class="line"><span class="params">         goal=GOAL_SCORE, say=silence</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Simulate a game and return the final scores of both players, with Player</span></span><br><span class="line"><span class="string">    0&#x27;s score first, and Player 1&#x27;s score second.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    A strategy is a function that takes two total scores as arguments (the</span></span><br><span class="line"><span class="string">    current player&#x27;s score, and the opponent&#x27;s score), and returns a number of</span></span><br><span class="line"><span class="string">    dice that the current player will roll this turn.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    strategy0:  The strategy function for Player 0, who plays first.</span></span><br><span class="line"><span class="string">    strategy1:  The strategy function for Player 1, who plays second.</span></span><br><span class="line"><span class="string">    score0:     Starting score for Player 0</span></span><br><span class="line"><span class="string">    score1:     Starting score for Player 1</span></span><br><span class="line"><span class="string">    dice:       A function of zero arguments that simulates a dice roll.</span></span><br><span class="line"><span class="string">    goal:       The game ends and someone wins when this score is reached.</span></span><br><span class="line"><span class="string">    say:        The commentary function to call at the end of the first turn.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    who = <span class="number">0</span>  <span class="comment"># Who is about to take a turn, 0 (first) or 1 (second)</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 5</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">while</span> score0&lt;goal <span class="keyword">and</span> score1&lt;goal:</span><br><span class="line">        <span class="keyword">if</span> next_player(who)==<span class="number">1</span>:</span><br><span class="line">            score0+=take_turn(strategy0(score0,score1), score1, dice, goal)</span><br><span class="line">            a=hog_pile(score0,score1)</span><br><span class="line">            score0+=a</span><br><span class="line">            who=<span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> next_player(who)==<span class="number">0</span>:</span><br><span class="line">            score1+=take_turn(strategy1(score1,score0),score0,dice,goal) <span class="comment">#这里如果继续的话可能会有score0&gt;goal而游戏还没停止，所以应该增加判断</span></span><br><span class="line">            b=hog_pile(score1,score0)</span><br><span class="line">            score1+=b</span><br><span class="line">            who=<span class="number">0</span></span><br><span class="line">    <span class="comment"># END PROBLEM 5</span></span><br><span class="line">    <span class="comment"># (note that the indentation for the problem 6 prompt (***YOUR CODE HERE***) might be misleading)</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 6</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="comment"># END PROBLEM 6</span></span><br><span class="line">    <span class="keyword">return</span> score0, score1</span><br></pre></td></tr></table></figure>

<h3 id="Phase-2：Commentary"><a href="#Phase-2：Commentary" class="headerlink" title="Phase 2：Commentary"></a>Phase 2：Commentary</h3><p>这个phase不重要吧，我就不改了（暴论</p>
<h4 id="Problem-6"><a href="#Problem-6" class="headerlink" title="Problem 6"></a>Problem 6</h4><p>比较简单，不知为何，-u环节我的line2过不了，总报not quite。</p>
<h4 id="Problem-7"><a href="#Problem-7" class="headerlink" title="Problem 7"></a>Problem 7</h4><p>…比较离谱</p>
<p><strong>to be debug</strong></p>
<p>执行了python3 hog_gui.py后发现bug：</p>
<ul>
<li><p>底下的文字不会消失，本应该报历史最大新增，但却报的是当前的points，如</p>
<blockquote>
<p>8 point(s)! That’s a record gain for Player 0! 8 point(s)! That’s a record gain for Player 1!</p>
</blockquote>
</li>
</ul>
<h3 id="Phase3：Strategies"><a href="#Phase3：Strategies" class="headerlink" title="Phase3：Strategies"></a>Phase3：Strategies</h3><h4 id="Problem-8"><a href="#Problem-8" class="headerlink" title="Problem 8"></a>Problem 8</h4><blockquote>
<p><strong>a new piece of Python syntax</strong></p>
<p>We would like to write a function that accepts an arbitrary number of arguments, and then calls another function using exactly those arguments. Here’s how it works.</p>
<p>Instead of listing formal parameters for a function, you can write <code>*args</code>, which represents all of the <strong>arg</strong>ument<strong>s</strong> that get passed into the function. We can then call another function with these same arguments by passing these <code>*args</code> into this other function. For example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="keyword">def</span> <span class="title function_">printed</span>(<span class="params">f</span>):</span><br><span class="line">		<span class="keyword">def</span> <span class="title function_">print_and_return</span>(<span class="params">*args</span>):</span><br><span class="line">         result=f(*args)</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&#x27;Result:&#x27;</span>,result)</span><br><span class="line">         <span class="keyword">return</span> result</span><br><span class="line">     <span class="keyword">return</span> print_and_return</span><br></pre></td></tr></table></figure>
</blockquote>
<p>简单的循环计算sum</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">make_averaged</span>(<span class="params">original_function, trials_count=<span class="number">1000</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a function that returns the average value of ORIGINAL_FUNCTION</span></span><br><span class="line"><span class="string">    called TRIALS_COUNT times.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    To implement this function, you will have to use *args syntax, a new Python</span></span><br><span class="line"><span class="string">    feature introduced in this project.  See the project description.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; dice = make_test_dice(4, 2, 5, 1)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; averaged_dice = make_averaged(roll_dice, 1000)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; averaged_dice(1, dice)</span></span><br><span class="line"><span class="string">    3.0</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 8</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">average</span>(<span class="params">*args</span>):</span><br><span class="line">        dice_nums=<span class="number">1</span></span><br><span class="line">        <span class="built_in">sum</span>=<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> dice_nums&lt;=trials_count:</span><br><span class="line">            <span class="built_in">sum</span>+=original_function(*args)</span><br><span class="line">            dice_nums+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>/trials_count</span><br><span class="line">    <span class="keyword">return</span> average</span><br><span class="line">    <span class="comment"># END PROBLEM 8</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-9"><a href="#Problem-9" class="headerlink" title="Problem 9"></a>Problem 9</h4><p>注意调用含*args函数的方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">max_scoring_num_rolls</span>(<span class="params">dice=six_sided, trials_count=<span class="number">1000</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the number of dice (1 to 10) that gives the highest average turn score</span></span><br><span class="line"><span class="string">    by calling roll_dice with the provided DICE a total of TRIALS_COUNT times.</span></span><br><span class="line"><span class="string">    Assume that the dice always return positive outcomes.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; dice = make_test_dice(1, 6)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_scoring_num_rolls(dice)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 9</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="comment">#要用到make_averaged和roll_dice(num_rolls,dice)</span></span><br><span class="line">    max_ave,num=<span class="number">0</span>,<span class="number">1</span></span><br><span class="line">    flag=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> num&lt;=<span class="number">10</span>:</span><br><span class="line">        a=make_averaged(roll_dice,trials_count)</span><br><span class="line">        b=a(num,dice)</span><br><span class="line">        <span class="keyword">if</span> max_ave&lt;b:</span><br><span class="line">            max_ave=b</span><br><span class="line">            flag=num</span><br><span class="line">        num+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line">    <span class="comment"># END PROBLEM 9</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-10"><a href="#Problem-10" class="headerlink" title="Problem 10"></a>Problem 10</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">picky_piggy_strategy</span>(<span class="params">score, opponent_score, cutoff=<span class="number">8</span>, num_rolls=<span class="number">6</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;This strategy returns 0 dice if that gives at least CUTOFF points, and</span></span><br><span class="line"><span class="string">    returns NUM_ROLLS otherwise.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 10</span></span><br><span class="line">    <span class="keyword">if</span> picky_piggy(opponent_score)&gt;=cutoff:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> num_rolls</span><br><span class="line">    <span class="comment"># END PROBLEM 10</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-11"><a href="#Problem-11" class="headerlink" title="Problem 11"></a>Problem 11</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">hog_pile_strategy</span>(<span class="params">score, opponent_score, cutoff=<span class="number">8</span>, num_rolls=<span class="number">6</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;This strategy returns 0 dice when this would result in Hog Pile taking</span></span><br><span class="line"><span class="string">    effect. It also returns 0 dice if it gives at least CUTOFF points.</span></span><br><span class="line"><span class="string">    Otherwise, it returns NUM_ROLLS.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 11</span></span><br><span class="line">    a=hog_pile(score+picky_piggy(opponent_score),opponent_score)</span><br><span class="line">    <span class="keyword">if</span> a!=<span class="number">0</span>:  <span class="comment">#触发了</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> picky_piggy(opponent_score)&gt;=cutoff:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> num_rolls</span><br><span class="line">    <span class="comment"># END PROBLEM 11</span></span><br></pre></td></tr></table></figure>

<h3 id="Some-feelings-when-finishing-the-project"><a href="#Some-feelings-when-finishing-the-project" class="headerlink" title="Some feelings when finishing the project"></a>Some feelings when finishing the project</h3><p>写的过程比较痛苦。</p>
<p>这个痛苦主要在于语言。毕竟是第一次做project，还是全英文，有好几处都不能理解，还好有部分cases来帮助我理解这个函数的作用。</p>
<p>写的过程有部分借鉴，但95%均为本人完成（有的看上去就写的很烂的代码除了你还有谁会写出来啊喂</p>
<p>写完的成就感还是很高的，高于写的过程中感受到的痛苦。</p>
<p>喜欢这种一个problem一个problem给我让我完成的，等我一步步写完后发现，我居然也能写个小游戏出来了（x</p>
<p>课程本身帮你写好了GUI，代码每完成一部分，就可以执行python3 hog_gui.py来试试功能。</p>
<p>挺好的，我就喜欢这种一看就知道重点在哪的project。</p>
<h2 id="HW-02-Higher-Order-Functions"><a href="#HW-02-Higher-Order-Functions" class="headerlink" title="HW 02: Higher-Order Functions"></a>HW 02: Higher-Order Functions</h2><h3 id="Required-questions"><a href="#Required-questions" class="headerlink" title="Required questions"></a>Required questions</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> add, mul</span><br><span class="line"></span><br><span class="line">square = <span class="keyword">lambda</span> x: x * x</span><br><span class="line"></span><br><span class="line">identity = <span class="keyword">lambda</span> x: x</span><br><span class="line"></span><br><span class="line">triple = <span class="keyword">lambda</span> x: <span class="number">3</span> * x</span><br><span class="line"></span><br><span class="line">increment = <span class="keyword">lambda</span> x: x + <span class="number">1</span></span><br></pre></td></tr></table></figure>



<h3 id="Q1：Product"><a href="#Q1：Product" class="headerlink" title="Q1：Product"></a>Q1：Product</h3><p>The <code>summation(n, term)</code> function from the higher-order functions lecture adds up <code>term(1) + ... + term(n)</code>. Write a similar function called <code>product</code> that returns <code>term(1) * ... * term(n)</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">product</span>(<span class="params">n, term</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the product of the first n terms in a sequence.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    n: a positive integer</span></span><br><span class="line"><span class="string">    term:  a function that takes one argument to produce the term</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; product(3, identity)  # 1 * 2 * 3</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; product(5, identity)  # 1 * 2 * 3 * 4 * 5</span></span><br><span class="line"><span class="string">    120</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; product(3, square)    # 1^2 * 2^2 * 3^2</span></span><br><span class="line"><span class="string">    36</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; product(5, square)    # 1^2 * 2^2 * 3^2 * 4^2 * 5^2</span></span><br><span class="line"><span class="string">    14400</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; product(3, increment) # (1+1) * (2+1) * (3+1)</span></span><br><span class="line"><span class="string">    24</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; product(3, triple)    # 1*3 * 2*3 * 3*3</span></span><br><span class="line"><span class="string">    162</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>my answer:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">product</span>(<span class="params">n, term</span>):</span><br><span class="line">    a,pro=<span class="number">1</span>,<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> a&lt;=n:</span><br><span class="line">        pro*=term(a)</span><br><span class="line">        a+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> pro</span><br></pre></td></tr></table></figure>



<h3 id="Q2：Accumulate"><a href="#Q2：Accumulate" class="headerlink" title="Q2：Accumulate"></a>Q2：Accumulate</h3><p>Let’s take a look at how <code>summation</code> and <code>product</code> are instances of a more general function called <code>accumulate</code>, which we would like to implement:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">accumulate</span>(<span class="params">merger, base, n, term</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the result of merging the first n terms in a sequence and base.</span></span><br><span class="line"><span class="string">    The terms to be merged are term(1), term(2), ..., term(n). merger is a</span></span><br><span class="line"><span class="string">    two-argument commutative function.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accumulate(add, 0, 5, identity)  # 0 + 1 + 2 + 3 + 4 + 5</span></span><br><span class="line"><span class="string">    15</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accumulate(add, 11, 5, identity) # 11 + 1 + 2 + 3 + 4 + 5</span></span><br><span class="line"><span class="string">    26</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accumulate(add, 11, 0, identity) # 11</span></span><br><span class="line"><span class="string">    11</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accumulate(add, 11, 3, square)   # 11 + 1^2 + 2^2 + 3^2</span></span><br><span class="line"><span class="string">    25</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accumulate(mul, 2, 3, square)    # 2 * 1^2 * 2^2 * 3^2</span></span><br><span class="line"><span class="string">    72</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # 2 + (1^2 + 1) + (2^2 + 1) + (3^2 + 1)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accumulate(lambda x, y: x + y + 1, 2, 3, square)</span></span><br><span class="line"><span class="string">    19</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # ((2 * 1^2 * 2) * 2^2 * 2) * 3^2 * 2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accumulate(lambda x, y: 2 * x * y, 2, 3, square)</span></span><br><span class="line"><span class="string">    576</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accumulate(lambda x, y: (x + y) % 17, 19, 20, square)</span></span><br><span class="line"><span class="string">    16</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p>After implementing <code>accumulate</code>, show how <code>summation</code> and <code>product</code> can both be defined as function calls to <code>accumulate</code>.</p>
<p><strong>Important:</strong> You should have a single line of code (which should be a <code>return</code> statement) in each of your implementations for <code>summation_using_accumulate</code> and <code>product_using_accumulate</code>, which the syntax check will check for.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">summation_using_accumulate</span>(<span class="params">n, term</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the sum: term(1) + ... + term(n), using accumulate.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; summation_using_accumulate(5, square)</span></span><br><span class="line"><span class="string">    55</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; summation_using_accumulate(5, triple)</span></span><br><span class="line"><span class="string">    45</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">product_using_accumulate</span>(<span class="params">n, term</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the product: term(1) * ... * term(n), using accumulate.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; product_using_accumulate(4, square)</span></span><br><span class="line"><span class="string">    576</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; product_using_accumulate(6, triple)</span></span><br><span class="line"><span class="string">    524880</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>my answer：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">accumulate</span>(<span class="params">merger, base, n, term</span>):</span><br><span class="line">    a=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> a&lt;=n:</span><br><span class="line">         base=merger(base,term(a))</span><br><span class="line">         a+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> base</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">summation_using_accumulate</span>(<span class="params">n, term</span>):</span><br><span class="line">    <span class="keyword">return</span> accumulate(add,<span class="number">1</span>,n,term)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">product_using_accumulate</span>(<span class="params">n, term</span>):</span><br><span class="line">    <span class="keyword">return</span> accumulate(mul,<span class="number">1</span>,n,term)</span><br></pre></td></tr></table></figure>

<p>一点点感触：果然简洁的才是最美的</p>
<h3 id="Q3：Church-numerals（just-for-fun-question"><a href="#Q3：Church-numerals（just-for-fun-question" class="headerlink" title="Q3：Church numerals（just for fun question)"></a>Q3：Church numerals（just for fun question)</h3><blockquote>
<p>This question is out of scope for 61A. You can try it if you want an extra challenge, but it’s just a puzzle that is not required or recommended at all. <strong>Almost all students will skip it, and that’s fine.</strong></p>
</blockquote>
<p>to be debug…</p>
<h2 id="Lab2：Higher-Order-Functions，Lambda-Expressions"><a href="#Lab2：Higher-Order-Functions，Lambda-Expressions" class="headerlink" title="Lab2：Higher-Order Functions，Lambda Expressions"></a>Lab2：Higher-Order Functions，Lambda Expressions</h2><h3 id="Q3：Lambdas-and-Currying"><a href="#Q3：Lambdas-and-Currying" class="headerlink" title="Q3：Lambdas and Currying"></a>Q3：Lambdas and Currying</h3><p>We can transform multiple-argument functions into a chain of single-argument, higher order functions by taking advantage of lambda expressions. For example, we can write a function <code>f(x, y)</code> as a different function <code>g(x)(y)</code>. This is known as <strong>currying</strong>. It’s useful when dealing with functions that take only single-argument functions. We will see some examples of these later on.</p>
<p>Write a function <code>lambda_curry2</code> that will curry any two argument function using lambdas. Refer to the <a target="_blank" rel="noopener" href="http://composingprograms.com/pages/16-higher-order-functions.html#currying">textbook</a> for more details about currying.</p>
<p><strong>Your solution to this problem should fit entirely on the return line.</strong> You can try first writing a solution without the restriction, and then rewriting it into one line after.</p>
<blockquote>
<p><strong>If the syntax check isn’t passing:</strong> Make sure you’ve removed the line containing <code>&quot;***YOUR CODE HERE***&quot;</code> so that it doesn’t get treated as part of the function for the syntax check.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">lambda_curry2</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Returns a Curried version of a two-argument function FUNC.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; from operator import add, mul, mod</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; curried_add = lambda_curry2(add)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_three = curried_add(3)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_three(5)</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; curried_mul = lambda_curry2(mul)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; mul_5 = curried_mul(5)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; mul_5(42)</span></span><br><span class="line"><span class="string">    210</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; lambda_curry2(mod)(123)(10)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> ______</span><br></pre></td></tr></table></figure>

<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q lambda_curry2</span><br></pre></td></tr></table></figure>

<p><strong>my answer：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">lambda_curry2</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x:<span class="keyword">lambda</span> y:func(x,y)</span><br></pre></td></tr></table></figure>



<h3 id="Q4：Count-van-Count"><a href="#Q4：Count-van-Count" class="headerlink" title="Q4：Count van Count"></a>Q4：Count van Count</h3><p>Consider the following implementations of <code>count_factors</code> and <code>count_primes</code>:</p>
<p>The implementations look quite similar! Generalize this logic by writing a function <code>count_cond</code>, which takes in a two-argument predicate function <code>condition(n, i)</code>. <code>count_cond</code> returns a one-argument function that takes in <code>n</code>, which counts all the numbers from 1 to <code>n</code> that satisfy <code>condition</code> when called.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_cond</span>(<span class="params">condition</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns a function with one parameter N that counts all the numbers from</span></span><br><span class="line"><span class="string">    1 to N that satisfy the two-argument predicate function Condition, where</span></span><br><span class="line"><span class="string">    the first argument for Condition is N and the second argument is the</span></span><br><span class="line"><span class="string">    number from 1 to N.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_factors = count_cond(lambda n, i: n % i == 0)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_factors(2)   # 1, 2</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_factors(4)   # 1, 2, 4</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_factors(12)  # 1, 2, 3, 4, 6, 12</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; is_prime = lambda n, i: count_factors(i) == 2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_primes = count_cond(is_prime)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_primes(2)    # 2</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_primes(3)    # 2, 3</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_primes(4)    # 2, 3</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_primes(5)    # 2, 3, 5</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_primes(20)   # 2, 3, 5, 7, 11, 13, 17, 19</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q count_cond</span><br></pre></td></tr></table></figure>

<p><strong>my answer：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_cond</span>(<span class="params">condition</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">count_func</span>(<span class="params">n</span>):</span><br><span class="line">        i=<span class="number">1</span></span><br><span class="line">        count=<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i&lt;=n:</span><br><span class="line">            <span class="keyword">if</span> condition(n,i):</span><br><span class="line">                count+=<span class="number">1</span></span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line">    <span class="keyword">return</span> count_func</span><br></pre></td></tr></table></figure>



<h3 id="Q7：Composite-Identity-Function"><a href="#Q7：Composite-Identity-Function" class="headerlink" title="Q7：Composite Identity Function"></a>Q7：Composite Identity Function</h3><p>optional</p>
<p>Write a function that takes in two single-argument functions, <code>f</code> and <code>g</code>, and returns another <strong>function</strong> that has a single parameter <code>x</code>. The returned function should return <code>True</code> if <code>f(g(x))</code> is equal to <code>g(f(x))</code>. You can assume the output of <code>g(x)</code> is a valid input for <code>f</code> and vice versa. Try to use the <code>composer</code> function defined below for more HOF practice.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">composer</span>(<span class="params">f, g</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the composition function which given x, computes f(g(x)).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_one = lambda x: x + 1        # adds one to x</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; square = lambda x: x**2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a1 = composer(square, add_one)   # (x + 1)^2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a1(4)</span></span><br><span class="line"><span class="string">    25</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; mul_three = lambda x: x * 3      # multiplies 3 to x</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a2 = composer(mul_three, a1)    # ((x + 1)^2) * 3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a2(4)</span></span><br><span class="line"><span class="string">    75</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a2(5)</span></span><br><span class="line"><span class="string">    108</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: f(g(x))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">composite_identity</span>(<span class="params">f, g</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Return a function with one parameter x that returns True if f(g(x)) is</span></span><br><span class="line"><span class="string">    equal to g(f(x)). You can assume the result of g(x) is a valid input for f</span></span><br><span class="line"><span class="string">    and vice versa.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_one = lambda x: x + 1        # adds one to x</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; square = lambda x: x**2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b1 = composite_identity(square, add_one)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b1(0)                            # (0 + 1)^2 == 0^2 + 1</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b1(4)                            # (4 + 1)^2 != 4^2 + 1</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q composite_identity</span><br></pre></td></tr></table></figure>

<p><strong>my answer：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">composite_identity</span>(<span class="params">f, g</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">judge</span>(<span class="params">x</span>):</span><br><span class="line">        <span class="keyword">if</span> composer(f,g)(x)==composer(g,f)(x):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>: </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> judge</span><br></pre></td></tr></table></figure>

<h3 id="Q8：I-Heard-You-Liked-Functions…"><a href="#Q8：I-Heard-You-Liked-Functions…" class="headerlink" title="Q8：I Heard You Liked Functions…"></a>Q8：I Heard You Liked Functions…</h3><p>optional</p>
<p>Define a function <code>cycle</code> that takes in three functions <code>f1</code>, <code>f2</code>, <code>f3</code>, as arguments. <code>cycle</code> will return another function that should take in an integer argument <code>n</code> and return another function. That final function should take in an argument <code>x</code> and cycle through applying <code>f1</code>, <code>f2</code>, and <code>f3</code> to <code>x</code>, depending on what <code>n</code> was. Here’s what the final function should do to <code>x</code> for a few values of <code>n</code>:</p>
<ul>
<li><code>n = 0</code>, return <code>x</code></li>
<li><code>n = 1</code>, apply <code>f1</code> to <code>x</code>, or return <code>f1(x)</code></li>
<li><code>n = 2</code>, apply <code>f1</code> to <code>x</code> and then <code>f2</code> to the result of that, or return <code>f2(f1(x))</code></li>
<li><code>n = 3</code>, apply <code>f1</code> to <code>x</code>, <code>f2</code> to the result of applying <code>f1</code>, and then <code>f3</code> to the result of applying <code>f2</code>, or <code>f3(f2(f1(x)))</code></li>
<li><code>n = 4</code>, start the cycle again applying <code>f1</code>, then <code>f2</code>, then <code>f3</code>, then <code>f1</code> again, or <code>f1(f3(f2(f1(x))))</code></li>
<li>And so forth.</li>
</ul>
<p><em>Hint</em>: most of the work goes inside the most nested function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cycle</span>(<span class="params">f1, f2, f3</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns a function that is itself a higher-order function.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; def add1(x):</span></span><br><span class="line"><span class="string">    ...     return x + 1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; def times2(x):</span></span><br><span class="line"><span class="string">    ...     return x * 2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; def add3(x):</span></span><br><span class="line"><span class="string">    ...     return x + 3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_cycle = cycle(add1, times2, add3)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; identity = my_cycle(0)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; identity(5)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_one_then_double = my_cycle(2)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_one_then_double(1)</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_all_functions = my_cycle(3)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_all_functions(2)</span></span><br><span class="line"><span class="string">    9</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_more_than_a_cycle = my_cycle(4)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_more_than_a_cycle(2)</span></span><br><span class="line"><span class="string">    10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_two_cycles = my_cycle(6)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_two_cycles(1)</span></span><br><span class="line"><span class="string">    19</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br></pre></td></tr></table></figure>

<p>Use Ok to test your code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ok -q cycle</span><br></pre></td></tr></table></figure>

<p><strong>my answer：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cycle</span>(<span class="params">f1, f2, f3</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">func1</span>(<span class="params">x</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">func2</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="keyword">def</span> <span class="title function_">func3</span>(<span class="params">x</span>):</span><br><span class="line">                <span class="keyword">return</span> f1(x)</span><br><span class="line">            <span class="keyword">return</span> f2(f1(x))</span><br><span class="line">        <span class="keyword">return</span> f3(f2(f1(x)))</span><br><span class="line">    <span class="keyword">return</span> func1</span><br></pre></td></tr></table></figure>



<h2 id="Disc-2：Higher-Order-Functions，Self-Reference"><a href="#Disc-2：Higher-Order-Functions，Self-Reference" class="headerlink" title="Disc 2：Higher-Order Functions，Self Reference"></a>Disc 2：Higher-Order Functions，Self Reference</h2><h3 id="Q1：Make-Keeper"><a href="#Q1：Make-Keeper" class="headerlink" title="Q1：Make Keeper"></a>Q1：Make Keeper</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">make_keeper</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns a function which takes one parameter cond and prints</span></span><br><span class="line"><span class="string">    out all integers 1..i..n where calling cond(i) returns True.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; def is_even(x):</span></span><br><span class="line"><span class="string">    ...     # Even numbers have remainder 0 when divided by 2.</span></span><br><span class="line"><span class="string">    ...     return x % 2 == 0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; make_keeper(5)(is_even)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">cond</span>):</span><br><span class="line">        i=<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i&lt;=n:</span><br><span class="line">            <span class="keyword">if</span> cond(i):</span><br><span class="line">                <span class="built_in">print</span>(i)</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> func</span><br></pre></td></tr></table></figure>

<h3 id="Q5：Print-N"><a href="#Q5：Print-N" class="headerlink" title="Q5：Print N"></a>Q5：Print N</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">print_n</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; f = print_n(2)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; f = f(&quot;hi&quot;)</span></span><br><span class="line"><span class="string">    hi</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; f = f(&quot;hello&quot;)</span></span><br><span class="line"><span class="string">    hello</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; f = f(&quot;bye&quot;)</span></span><br><span class="line"><span class="string">    done</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; g = print_n(1)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; g(&quot;first&quot;)(&quot;second&quot;)(&quot;third&quot;)</span></span><br><span class="line"><span class="string">    first</span></span><br><span class="line"><span class="string">    done</span></span><br><span class="line"><span class="string">    done</span></span><br><span class="line"><span class="string">    &lt;function inner_print&gt;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner_print</span>(<span class="params">x</span>):</span><br><span class="line">        <span class="keyword">if</span> n&lt;=<span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;done&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(x)</span><br><span class="line">        <span class="keyword">return</span> print_n(n-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> inner_print</span><br></pre></td></tr></table></figure>

<h3 id="Q8：Match-Maker"><a href="#Q8：Match-Maker" class="headerlink" title="Q8：Match Maker"></a>Q8：Match Maker</h3><p>optional</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">match_k</span>(<span class="params">k</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; Return a function that checks if digits k apart match</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_k(2)(1010)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_k(2)(2010)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_k(1)(1010)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_k(1)(1)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_k(1)(2111111111111111)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_k(3)(123123)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_k(2)(123123)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x</span>):</span><br><span class="line">        i=<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> x!=<span class="number">0</span> <span class="keyword">and</span> x//(<span class="number">10</span>**k)!=<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> x%<span class="number">10</span>==x//(<span class="number">10</span>**k)%<span class="number">10</span>:</span><br><span class="line">                x=x//<span class="number">10</span></span><br><span class="line">            <span class="keyword">else</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> func</span><br></pre></td></tr></table></figure>

<h3 id="Q9：Three-Memory-amp-Q10：Natural-Chain"><a href="#Q9：Three-Memory-amp-Q10：Natural-Chain" class="headerlink" title="Q9：Three Memory &amp; Q10：Natural Chain"></a>Q9：Three Memory &amp; Q10：Natural Chain</h3><p>咕了…</p>
<p>等能力再强点再来补坑吧</p>
<h2 id="Lab-3：Midterm-Review"><a href="#Lab-3：Midterm-Review" class="headerlink" title="Lab 3：Midterm Review"></a>Lab 3：Midterm Review</h2><h3 id="Q1：Unique-Digits"><a href="#Q1：Unique-Digits" class="headerlink" title="Q1：Unique Digits"></a>Q1：Unique Digits</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">unique_digits</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the number of unique digits in positive integer n.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; unique_digits(8675309) # All are unique</span></span><br><span class="line"><span class="string">    7</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; unique_digits(1313131) # 1 and 3</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; unique_digits(13173131) # 1, 3, and 7</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; unique_digits(10000) # 0 and 1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; unique_digits(101) # 0 and 1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; unique_digits(10) # 0 and 1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    i,count=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i&lt;<span class="number">10</span>:</span><br><span class="line">        <span class="keyword">if</span> has_digit(n,i):</span><br><span class="line">            count+=<span class="number">1</span></span><br><span class="line">        i+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">has_digit</span>(<span class="params">n, k</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns whether K is a digit in N.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; has_digit(10, 1)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; has_digit(12, 7)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">while</span> n!=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> n%<span class="number">10</span>==k:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            n=n//<span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="Q2：Ordered-Digits"><a href="#Q2：Ordered-Digits" class="headerlink" title="Q2：Ordered Digits"></a>Q2：Ordered Digits</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ordered_digits</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return True if the (base 10) digits of X&gt;0 are in non-decreasing</span></span><br><span class="line"><span class="string">    order, and False otherwise.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ordered_digits(5)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ordered_digits(11)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ordered_digits(127)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ordered_digits(1357)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ordered_digits(21)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; result = ordered_digits(1375) # Return, don&#x27;t print</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; result</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    vis=x%<span class="number">10</span></span><br><span class="line">    <span class="keyword">while</span> x!=<span class="number">0</span>:</span><br><span class="line">        x=x//<span class="number">10</span></span><br><span class="line">        <span class="keyword">if</span> vis&gt;=x%<span class="number">10</span>:</span><br><span class="line">            vis=x%<span class="number">10</span></span><br><span class="line">        <span class="keyword">else</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h3 id="Q3：K-Runner"><a href="#Q3：K-Runner" class="headerlink" title="Q3：K Runner"></a>Q3：K Runner</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_k_run_starter</span>(<span class="params">n, k</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_k_run_starter(123444345, 0) # example from description</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_k_run_starter(123444345, 1)</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_k_run_starter(123444345, 2)</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_k_run_starter(123444345, 3)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_k_run_starter(123412341234, 1)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_k_run_starter(1234234534564567, 0)</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_k_run_starter(1234234534564567, 1)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_k_run_starter(1234234534564567, 2)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    final = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">while</span> i&lt;=k:</span><br><span class="line">        <span class="keyword">while</span> n%<span class="number">10</span>&gt;(n//<span class="number">10</span>)%<span class="number">10</span> <span class="keyword">and</span> n//<span class="number">10</span>!=<span class="number">0</span>:</span><br><span class="line">            n=n//<span class="number">10</span></span><br><span class="line">        final = n%<span class="number">10</span></span><br><span class="line">        i = i+<span class="number">1</span></span><br><span class="line">        n = n//<span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> final</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Make-Repeater"><a href="#Q4：Make-Repeater" class="headerlink" title="Q4：Make Repeater"></a>Q4：Make Repeater</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">make_repeater</span>(<span class="params">func, n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the function that computes the nth application of func.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_three = make_repeater(increment, 3)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_three(5)</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; make_repeater(triple, 5)(1) # 3 * 3 * 3 * 3 * 3 * 1</span></span><br><span class="line"><span class="string">    243</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; make_repeater(square, 2)(5) # square(square(5))</span></span><br><span class="line"><span class="string">    625</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; make_repeater(square, 4)(5) # square(square(square(square(5))))</span></span><br><span class="line"><span class="string">    152587890625</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; make_repeater(square, 0)(5) # Yes, it makes sense to apply the function zero times!</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">func_n</span>(<span class="params">x</span>):</span><br><span class="line">        <span class="keyword">if</span> n==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line">        <span class="keyword">elif</span> n==<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> func(x)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i,final_func=<span class="number">2</span>,composer(func,func)</span><br><span class="line">            <span class="keyword">while</span> i&lt;n:</span><br><span class="line">                final_func=composer(func,final_func)</span><br><span class="line">                i+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> final_func(x)</span><br><span class="line">    <span class="keyword">return</span> func_n</span><br></pre></td></tr></table></figure>

<h3 id="Q5：Apply-Twice"><a href="#Q5：Apply-Twice" class="headerlink" title="Q5：Apply Twice"></a>Q5：Apply Twice</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">apply_twice</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; Return a function that applies func twice.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    func -- a function that takes one argument</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; apply_twice(square)(2)</span></span><br><span class="line"><span class="string">    16</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> make_repeater(func,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q8-Protected-Secret"><a href="#Q8-Protected-Secret" class="headerlink" title="Q8 Protected Secret"></a>Q8 Protected Secret</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">protected_secret</span>(<span class="params">password, secret, num_attempts</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Returns a function which takes in a password and prints the SECRET if the password entered matches</span></span><br><span class="line"><span class="string">    the PASSWORD given to protected_secret. Otherwise it prints &quot;INCORRECT PASSWORD&quot;. After NUM_ATTEMPTS</span></span><br><span class="line"><span class="string">    incorrect passwords are entered, the secret is locked and the function should print &quot;SECRET LOCKED&quot;.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_secret = protected_secret(&quot;correcthorsebatterystaple&quot;, &quot;I love UCB&quot;, 2)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_secret = my_secret(&quot;hax0r_1&quot;) # 2 attempts left</span></span><br><span class="line"><span class="string">    INCORRECT PASSWORD</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_secret = my_secret(&quot;correcthorsebatterystaple&quot;)</span></span><br><span class="line"><span class="string">    I love UCB</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_secret = my_secret(&quot;hax0r_2&quot;) # 1 attempt left</span></span><br><span class="line"><span class="string">    INCORRECT PASSWORD</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_secret = my_secret(&quot;hax0r_3&quot;) # No attempts left</span></span><br><span class="line"><span class="string">    SECRET LOCKED</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_secret = my_secret(&quot;correcthorsebatterystaple&quot;)</span></span><br><span class="line"><span class="string">    SECRET LOCKED</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_secret</span>(<span class="params">password_attempt</span>):</span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">if</span> num_attempts&gt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> password_attempt==password:</span><br><span class="line">                <span class="built_in">print</span>(secret)</span><br><span class="line">                <span class="keyword">return</span> get_secret</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;INCORRECT PASSWORD&quot;</span>)</span><br><span class="line">                num=num_attempts-<span class="number">1</span></span><br><span class="line">                <span class="keyword">return</span> protected_secret(password,secret,num)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;SECRET LOCKED&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> get_secret</span><br><span class="line">    <span class="keyword">return</span> get_secret</span><br></pre></td></tr></table></figure>



<h2 id="Disc-3：Recursive"><a href="#Disc-3：Recursive" class="headerlink" title="Disc 3：Recursive"></a>Disc 3：Recursive</h2><h3 id="Q1：Warm-Up：Recursive-Multiplication"><a href="#Q1：Warm-Up：Recursive-Multiplication" class="headerlink" title="Q1：Warm Up：Recursive Multiplication"></a>Q1：Warm Up：Recursive Multiplication</h3><blockquote>
<p>Hint:5*3&#x3D;5+(5*2)&#x3D;5+5+(5*1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">multiply</span>(<span class="params">m, n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; Takes two positive integers and returns their product using recursion.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; multiply(5, 3)</span></span><br><span class="line"><span class="string">    15</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> m</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> m+multiply(m,n-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Is-Prime"><a href="#Q4：Is-Prime" class="headerlink" title="Q4：Is Prime"></a>Q4：Is Prime</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">is_prime</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns True if n is a prime number and False otherwise.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; is_prime(2)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; is_prime(16)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; is_prime(521)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">helper</span>(<span class="params">x</span>):</span><br><span class="line">        <span class="keyword">if</span> x==n:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">elif</span> n%x==<span class="number">0</span> <span class="keyword">or</span> n==<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">elif</span> x==n:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>: <span class="keyword">return</span> helper(x+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> helper(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q5：Recursive-Hailstone"><a href="#Q5：Recursive-Hailstone" class="headerlink" title="Q5：Recursive Hailstone"></a>Q5：Recursive Hailstone</h3><p>fail to return the number of elements in the wequence…</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">hailstone</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Print out the hailstone sequence starting at n, and return the number of elements in the sequence.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = hailstone(10)</span></span><br><span class="line"><span class="string">    10</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    16</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a</span></span><br><span class="line"><span class="string">    7</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n%<span class="number">2</span>==<span class="number">0</span> <span class="keyword">and</span> n!=<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(n)</span><br><span class="line">        <span class="keyword">return</span> hailstone(n//<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">elif</span> n%<span class="number">2</span>!=<span class="number">0</span> <span class="keyword">and</span> n!=<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(n)</span><br><span class="line">        <span class="keyword">return</span> hailstone(n*<span class="number">3</span>+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">elif</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(n)</span><br><span class="line">        <span class="keyword">return</span> count_num(n)</span><br></pre></td></tr></table></figure>

<h3 id="Q6：Merge-Numbers"><a href="#Q6：Merge-Numbers" class="headerlink" title="Q6：Merge Numbers"></a>Q6：Merge Numbers</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">n1, n2</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; Merges two numbers by digit in decreasing order</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; merge(31, 42)</span></span><br><span class="line"><span class="string">    4321</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; merge(21, 0)</span></span><br><span class="line"><span class="string">    21</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; merge (21, 31) </span></span><br><span class="line"><span class="string">    3211</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n1==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> n2</span><br><span class="line">    <span class="keyword">elif</span> n2==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> n1</span><br><span class="line">    <span class="keyword">elif</span> n1%<span class="number">10</span>&gt;n2%<span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> merge(n1,n2//<span class="number">10</span>)*<span class="number">10</span>+n2%<span class="number">10</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> merge(n1//<span class="number">10</span>,n2)*<span class="number">10</span>+n1%<span class="number">10</span></span><br></pre></td></tr></table></figure>



<h2 id="HW03：Recursion，Tree-Recursion"><a href="#HW03：Recursion，Tree-Recursion" class="headerlink" title="HW03：Recursion，Tree Recursion"></a>HW03：Recursion，Tree Recursion</h2><h3 id="Q1：Num-eights"><a href="#Q1：Num-eights" class="headerlink" title="Q1：Num eights"></a>Q1：Num eights</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">num_eights</span>(<span class="params">pos</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the number of times 8 appears as a digit of pos.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_eights(3)</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_eights(8)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_eights(88888888)</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_eights(2638)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_eights(86380)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_eights(12345)</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; from construct_check import check</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # ban all assignment statements</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;num_eights&#x27;,</span></span><br><span class="line"><span class="string">    ...       [&#x27;Assign&#x27;, &#x27;AnnAssign&#x27;, &#x27;AugAssign&#x27;, &#x27;NamedExpr&#x27;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> pos//<span class="number">10</span>!=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> pos%<span class="number">10</span>==<span class="number">8</span>:</span><br><span class="line">            <span class="keyword">return</span> num_eights(pos//<span class="number">10</span>)+<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> num_eights(pos//<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> pos%<span class="number">10</span>==<span class="number">8</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h3 id="Q2：Ping-pong"><a href="#Q2：Ping-pong" class="headerlink" title="Q2：Ping-pong"></a>Q2：Ping-pong</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pingpong</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the nth element of the ping-pong sequence.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(8)</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(10)</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(15)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(21)</span></span><br><span class="line"><span class="string">    -1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(22)</span></span><br><span class="line"><span class="string">    -2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(30)</span></span><br><span class="line"><span class="string">    -2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(68)</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(69)</span></span><br><span class="line"><span class="string">    -1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(80)</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(81)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(82)</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pingpong(100)</span></span><br><span class="line"><span class="string">    -6</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; from construct_check import check</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # ban assignment statements</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;pingpong&#x27;,</span></span><br><span class="line"><span class="string">    ...       [&#x27;Assign&#x27;, &#x27;AnnAssign&#x27;, &#x27;AugAssign&#x27;, &#x27;NamedExpr&#x27;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">helper</span>(<span class="params">current,count,up</span>):</span><br><span class="line">        <span class="keyword">if</span> n==count:</span><br><span class="line">            <span class="keyword">return</span> current</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> (count+<span class="number">1</span>)%<span class="number">8</span>==<span class="number">0</span> <span class="keyword">or</span> num_eights(count+<span class="number">1</span>)&gt;<span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> up:</span><br><span class="line">                    <span class="keyword">return</span> helper(current+<span class="number">1</span>,count+<span class="number">1</span>,<span class="literal">False</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">return</span> helper(current-<span class="number">1</span>,count+<span class="number">1</span>,<span class="literal">True</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> up:</span><br><span class="line">                    <span class="keyword">return</span> helper(current+<span class="number">1</span>,count+<span class="number">1</span>,<span class="literal">True</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">return</span> helper(current-<span class="number">1</span>,count+<span class="number">1</span>,<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">return</span> helper(<span class="number">0</span>,<span class="number">0</span>,<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q3：Missing-Digits"><a href="#Q3：Missing-Digits" class="headerlink" title="Q3：Missing Digits"></a>Q3：Missing Digits</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">missing_digits</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Given a number a that is in sorted, non-decreasing order,</span></span><br><span class="line"><span class="string">    return the number of missing digits in n. A missing digit is</span></span><br><span class="line"><span class="string">    a number between the first and last digit of a that is not in n.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; missing_digits(1248) # 3, 5, 6, 7</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; missing_digits(19) # 2, 3, 4, 5, 6, 7, 8</span></span><br><span class="line"><span class="string">    7</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; missing_digits(1122) # No missing numbers</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; missing_digits(123456) # No missing numbers</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; missing_digits(3558) # 4, 6, 7</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; missing_digits(35578) # 4, 6</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; missing_digits(12456) # 3</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; missing_digits(16789) # 2, 3, 4, 5</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; missing_digits(4) # No missing numbers between 4 and 4</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; from construct_check import check</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # ban while or for loops</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;missing_digits&#x27;, [&#x27;While&#x27;, &#x27;For&#x27;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n//<span class="number">10</span>==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> n%<span class="number">10</span>&gt;n//<span class="number">10</span>%<span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> missing_digits(n//<span class="number">10</span>)+n%<span class="number">10</span>-n//<span class="number">10</span>%<span class="number">10</span>-<span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n%<span class="number">10</span>==n//<span class="number">10</span>%<span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> missing_digits(n//<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Count-coins（to-be-continued"><a href="#Q4：Count-coins（to-be-continued" class="headerlink" title="Q4：Count coins（to be continued"></a>Q4：Count coins（to be continued</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p>跳过…</p>
<p>待填坑</p>
<h2 id="Lab-4：Recursion，Tree-Recursion，Python-Lists"><a href="#Lab-4：Recursion，Tree-Recursion，Python-Lists" class="headerlink" title="Lab 4：Recursion，Tree Recursion，Python Lists"></a>Lab 4：Recursion，Tree Recursion，Python Lists</h2><h3 id="Q2：Summation"><a href="#Q2：Summation" class="headerlink" title="Q2：Summation"></a>Q2：Summation</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">summation</span>(<span class="params">n, term</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the sum of numbers 1 through n (including n) wíth term applied to each number.</span></span><br><span class="line"><span class="string">    Implement using recursion!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; summation(5, lambda x: x * x * x) # 1^3 + 2^3 + 3^3 + 4^3 + 5^3</span></span><br><span class="line"><span class="string">    225</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; summation(9, lambda x: x + 1) # 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10</span></span><br><span class="line"><span class="string">    54</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; summation(5, lambda x: 2**x) # 2^1 + 2^2 + 2^3 + 2^4 + 2^5</span></span><br><span class="line"><span class="string">    62</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # Do not use while/for loops!</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; from construct_check import check</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # ban iteration</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;summation&#x27;,</span></span><br><span class="line"><span class="string">    ...       [&#x27;While&#x27;, &#x27;For&#x27;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> n &gt;= <span class="number">1</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> term(n)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> summation(n-<span class="number">1</span>,term)+term(n)</span><br></pre></td></tr></table></figure>



<h3 id="Q3：Pascal’s-Triangle"><a href="#Q3：Pascal’s-Triangle" class="headerlink" title="Q3：Pascal’s Triangle"></a>Q3：Pascal’s Triangle</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pascal</span>(<span class="params">row, column</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the value of the item in Pascal&#x27;s Triangle </span></span><br><span class="line"><span class="string">    whose position is specified by row and column.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pascal(0, 0)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pascal(0, 5)	# Empty entry; outside of Pascal&#x27;s Triangle</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pascal(3, 2)	# Row 3 (1 3 3 1), Column 2</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pascal(4, 2)     # Row 4 (1 4 6 4 1), Column 2</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> column&gt;row:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> column==<span class="number">0</span> <span class="keyword">or</span> row==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> pascal(row-<span class="number">1</span>,column-<span class="number">1</span>)+pascal(row-<span class="number">1</span>,column)</span><br></pre></td></tr></table></figure>



<h3 id="Q4：Insect-Combinatorics"><a href="#Q4：Insect-Combinatorics" class="headerlink" title="Q4：Insect Combinatorics"></a>Q4：Insect Combinatorics</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">paths</span>(<span class="params">m, n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the number of paths from one corner of an</span></span><br><span class="line"><span class="string">    M by N grid to the opposite corner.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; paths(2, 2)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; paths(5, 7)</span></span><br><span class="line"><span class="string">    210</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; paths(117, 1)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; paths(1, 157)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> m==<span class="number">1</span> <span class="keyword">or</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> paths(m-<span class="number">1</span>,n)+paths(m,n-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>



<h3 id="Q5：Couple"><a href="#Q5：Couple" class="headerlink" title="Q5：Couple"></a>Q5：Couple</h3><p>…感觉自己真傻</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">couple</span>(<span class="params">s, t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a list of two-element lists in which the i-th element is [s[i], t[i]].</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = [1, 2, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = [4, 5, 6]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; couple(a, b)</span></span><br><span class="line"><span class="string">    [[1, 4], [2, 5], [3, 6]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c = [&#x27;c&#x27;, 6]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; d = [&#x27;s&#x27;, &#x27;1&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; couple(c, d)</span></span><br><span class="line"><span class="string">    [[&#x27;c&#x27;, &#x27;s&#x27;], [6, &#x27;1&#x27;]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">len</span>(s) == <span class="built_in">len</span>(t)</span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> [[s[i],t[i]] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(s))]</span><br></pre></td></tr></table></figure>



<h3 id="Q6：Coordinates"><a href="#Q6：Coordinates" class="headerlink" title="Q6：Coordinates"></a>Q6：Coordinates</h3><p>optional</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">coords</span>(<span class="params">fn, seq, lower, upper</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; seq = [-4, -2, 0, 1, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; fn = lambda x: x**2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; coords(fn, seq, 1, 9)</span></span><br><span class="line"><span class="string">    [[-2, 4], [1, 1], [3, 9]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> [[x,fn(x)] <span class="keyword">for</span> x <span class="keyword">in</span> seq <span class="keyword">if</span> fn(x)&gt;=lower <span class="keyword">and</span> fn(x)&lt;=upper]</span><br></pre></td></tr></table></figure>



<h3 id="Q7：Riffle-Shuffle"><a href="#Q7：Riffle-Shuffle" class="headerlink" title="Q7：Riffle Shuffle"></a>Q7：Riffle Shuffle</h3><p>optional</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">riffle</span>(<span class="params">deck</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Produces a single, perfect riffle shuffle of DECK, consisting of</span></span><br><span class="line"><span class="string">    DECK[0], DECK[M], DECK[1], DECK[M+1], ... where M is position of the</span></span><br><span class="line"><span class="string">    second half of the deck.  Assume that len(DECK) is even.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; riffle([3, 4, 5, 6])</span></span><br><span class="line"><span class="string">    [3, 5, 4, 6]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; riffle(range(20))</span></span><br><span class="line"><span class="string">    [0, 10, 1, 11, 2, 12, 3, 13, 4, 14, 5, 15, 6, 16, 7, 17, 8, 18, 9, 19]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> [deck[i//<span class="number">2</span>+(<span class="built_in">len</span>(deck)//<span class="number">2</span>)*(i%<span class="number">2</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(deck))]</span><br></pre></td></tr></table></figure>



<h2 id="Disc-4：Tree-Recursion，Python-Lists"><a href="#Disc-4：Tree-Recursion，Python-Lists" class="headerlink" title="Disc 4：Tree Recursion，Python Lists"></a>Disc 4：Tree Recursion，Python Lists</h2><h3 id="Q1：Count-Stair-Ways"><a href="#Q1：Count-Stair-Ways" class="headerlink" title="Q1：Count Stair Ways"></a>Q1：Count Stair Ways</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_stair_ways</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the number of ways to climb up a flight of</span></span><br><span class="line"><span class="string">    n stairs, moving either 1 step or 2 steps at a time.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_stair_ways(4)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> count_stair_ways(n-<span class="number">1</span>)+count_stair_ways(n-<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q2：Count-K"><a href="#Q2：Count-K" class="headerlink" title="Q2：Count K"></a>Q2：Count K</h3><p>呜呜真的不会写这类题目，说我递归次数太多了…</p>
<p>算了算了，先放着吧x</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_k</span>(<span class="params">n, k</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; Counts the number of paths up a flight of n stairs</span></span><br><span class="line"><span class="string">    when taking up to and including k steps at a time.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_k(3, 3) # 3, 2 + 1, 1 + 2, 1 + 1 + 1</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_k(4, 4)</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_k(10, 3)</span></span><br><span class="line"><span class="string">    274</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_k(300, 1) # Only one step at a time</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        i,<span class="built_in">sum</span>=<span class="number">1</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span>  i&lt;=k:</span><br><span class="line">            <span class="built_in">sum</span>+=count_k(n-i,k)</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure>

<h3 id="Q5：Max-Product"><a href="#Q5：Max-Product" class="headerlink" title="Q5：Max Product"></a>Q5：Max Product</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">max_product</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the maximum product that can be formed using</span></span><br><span class="line"><span class="string">    non-consecutive elements of s.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_product([10,3,1,9,2]) # 10 * 9</span></span><br><span class="line"><span class="string">    90</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_product([5,10,5,10,5]) # 5 * 5 * 5</span></span><br><span class="line"><span class="string">    125</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_product([])</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> s==[]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(max_product(s[<span class="number">1</span>:]),s[<span class="number">0</span>]*max_product(s[<span class="number">2</span>:]))</span><br></pre></td></tr></table></figure>





<h2 id="Project-2：CS61A-Autocorrected-Typing-Software——Cats"><a href="#Project-2：CS61A-Autocorrected-Typing-Software——Cats" class="headerlink" title="Project 2：CS61A Autocorrected Typing Software——Cats"></a>Project 2：CS61A Autocorrected Typing Software——Cats</h2><h3 id="Phase-1：Typing"><a href="#Phase-1：Typing" class="headerlink" title="Phase 1：Typing"></a>Phase 1：Typing</h3><h4 id="Problem-1-1"><a href="#Problem-1-1" class="headerlink" title="Problem 1"></a>Problem 1</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">choose</span>(<span class="params">paragraphs, select, k</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the Kth paragraph from PARAGRAPHS for which SELECT called on the</span></span><br><span class="line"><span class="string">    paragraph returns True. If there are fewer than K such paragraphs, return</span></span><br><span class="line"><span class="string">    the empty string.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        paragraphs: a list of strings</span></span><br><span class="line"><span class="string">        select: a function that returns True for paragraphs that can be selected</span></span><br><span class="line"><span class="string">        k: an integer</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ps = [&#x27;hi&#x27;, &#x27;how are you&#x27;, &#x27;fine&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = lambda p: len(p) &lt;= 4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; choose(ps, s, 0)</span></span><br><span class="line"><span class="string">    &#x27;hi&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; choose(ps, s, 1)</span></span><br><span class="line"><span class="string">    &#x27;fine&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; choose(ps, s, 2)</span></span><br><span class="line"><span class="string">    &#x27;&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 1</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    i,j=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    store_list=[]</span><br><span class="line">    <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(paragraphs):</span><br><span class="line">        <span class="keyword">if</span> select(paragraphs[i]):</span><br><span class="line">            store_list.insert(j,paragraphs[i])</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">            j+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> k&gt;=j:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> store_list[k]</span><br><span class="line">    <span class="comment"># END PROBLEM 1</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-2-1"><a href="#Problem-2-1" class="headerlink" title="Problem 2"></a>Problem 2</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">about</span>(<span class="params">topic</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a select function that returns whether</span></span><br><span class="line"><span class="string">    a paragraph contains one of the words in TOPIC.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        topic: a list of words related to a subject</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; about_dogs = about([&#x27;dog&#x27;, &#x27;dogs&#x27;, &#x27;pup&#x27;, &#x27;puppy&#x27;])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; choose([&#x27;Cute Dog!&#x27;, &#x27;That is a cat.&#x27;, &#x27;Nice pup!&#x27;], about_dogs, 0)</span></span><br><span class="line"><span class="string">    &#x27;Cute Dog!&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; choose([&#x27;Cute Dog!&#x27;, &#x27;That is a cat.&#x27;, &#x27;Nice pup.&#x27;], about_dogs, 1)</span></span><br><span class="line"><span class="string">    &#x27;Nice pup.&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">all</span>([lower(x) == x <span class="keyword">for</span> x <span class="keyword">in</span> topic]), <span class="string">&#x27;topics should be lowercase.&#x27;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 2</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sel</span>(<span class="params">para</span>):</span><br><span class="line">        i=<span class="number">0</span></span><br><span class="line">        para=remove_punctuation(para)</span><br><span class="line">        para=lower(para)</span><br><span class="line">        para=split(para)</span><br><span class="line">        <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(para):</span><br><span class="line">            <span class="keyword">if</span> para[i] <span class="keyword">in</span> topic:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> sel</span><br><span class="line">    <span class="comment"># END PROBLEM 2</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-3-1"><a href="#Problem-3-1" class="headerlink" title="Problem 3"></a>Problem 3</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">accuracy</span>(<span class="params">typed, reference</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the accuracy (percentage of words typed correctly) of TYPED</span></span><br><span class="line"><span class="string">    when compared to the prefix of REFERENCE that was typed.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        typed: a string that may contain typos</span></span><br><span class="line"><span class="string">        reference: a string without errors</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accuracy(&#x27;Cute Dog!&#x27;, &#x27;Cute Dog.&#x27;)</span></span><br><span class="line"><span class="string">    50.0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accuracy(&#x27;A Cute Dog!&#x27;, &#x27;Cute Dog.&#x27;)</span></span><br><span class="line"><span class="string">    0.0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accuracy(&#x27;cute Dog.&#x27;, &#x27;Cute Dog.&#x27;)</span></span><br><span class="line"><span class="string">    50.0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accuracy(&#x27;Cute Dog. I say!&#x27;, &#x27;Cute Dog.&#x27;)</span></span><br><span class="line"><span class="string">    50.0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accuracy(&#x27;Cute&#x27;, &#x27;Cute Dog.&#x27;)</span></span><br><span class="line"><span class="string">    100.0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accuracy(&#x27;&#x27;, &#x27;Cute Dog.&#x27;)</span></span><br><span class="line"><span class="string">    0.0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; accuracy(&#x27;&#x27;, &#x27;&#x27;)</span></span><br><span class="line"><span class="string">    100.0</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    typed_words = split(typed)</span><br><span class="line">    reference_words = split(reference)</span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 3</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> typed==<span class="string">&#x27;&#x27;</span> <span class="keyword">and</span> reference==<span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100.0</span></span><br><span class="line">    <span class="keyword">elif</span> typed==<span class="string">&#x27;&#x27;</span> <span class="keyword">or</span> reference==<span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ty=split(typed)</span><br><span class="line">        ref=split(reference)</span><br><span class="line">        i,count=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(ty)&lt;=<span class="built_in">len</span>(ref):</span><br><span class="line">            <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(ty):</span><br><span class="line">                <span class="keyword">if</span> ty[i]==ref[i]:</span><br><span class="line">                    count+=<span class="number">1</span></span><br><span class="line">                i+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">100</span>*count/<span class="built_in">len</span>(ty)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(ref):</span><br><span class="line">                <span class="keyword">if</span> ty[i]==ref[i]:</span><br><span class="line">                    count+=<span class="number">1</span></span><br><span class="line">                i+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">100</span>*count/<span class="built_in">len</span>(ty)</span><br><span class="line">    <span class="comment"># END PROBLEM 3</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-4-1"><a href="#Problem-4-1" class="headerlink" title="Problem 4"></a>Problem 4</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">wpm</span>(<span class="params">typed, elapsed</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the words-per-minute (WPM) of the TYPED string.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        typed: an entered string</span></span><br><span class="line"><span class="string">        elapsed: an amount of time in seconds</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; wpm(&#x27;hello friend hello buddy hello&#x27;, 15)</span></span><br><span class="line"><span class="string">    24.0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; wpm(&#x27;0123456789&#x27;,60)</span></span><br><span class="line"><span class="string">    2.0</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> elapsed &gt; <span class="number">0</span>, <span class="string">&#x27;Elapsed time must be positive&#x27;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 4</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    vis=<span class="built_in">len</span>(typed)/<span class="number">5</span></span><br><span class="line">    <span class="keyword">return</span> vis*<span class="number">60</span>/elapsed</span><br><span class="line">    <span class="comment"># END PROBLEM 4</span></span><br></pre></td></tr></table></figure>



<h3 id="Phase-2：Autocorrect"><a href="#Phase-2：Autocorrect" class="headerlink" title="Phase 2：Autocorrect"></a>Phase 2：Autocorrect</h3><h4 id="Problem-5-1"><a href="#Problem-5-1" class="headerlink" title="Problem 5"></a>Problem 5</h4><p>太ugly了我写的…</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">autocorrect</span>(<span class="params">typed_word, valid_words, diff_function, limit</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the element of VALID_WORDS that has the smallest difference</span></span><br><span class="line"><span class="string">    from TYPED_WORD. Instead returns TYPED_WORD if that difference is greater</span></span><br><span class="line"><span class="string">    than LIMIT.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        typed_word: a string representing a word that may contain typos</span></span><br><span class="line"><span class="string">        valid_words: a list of strings representing valid words</span></span><br><span class="line"><span class="string">        diff_function: a function quantifying the difference between two words</span></span><br><span class="line"><span class="string">        limit: a number</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ten_diff = lambda w1, w2, limit: 10 # Always returns 10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; autocorrect(&quot;hwllo&quot;, [&quot;butter&quot;, &quot;hello&quot;, &quot;potato&quot;], ten_diff, 20)</span></span><br><span class="line"><span class="string">    &#x27;butter&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; first_diff = lambda w1, w2, limit: (1 if w1[0] != w2[0] else 0) # Checks for matching first char</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; autocorrect(&quot;tosting&quot;, [&quot;testing&quot;, &quot;asking&quot;, &quot;fasting&quot;], first_diff, 10)</span></span><br><span class="line"><span class="string">    &#x27;testing&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 5</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> typed_word <span class="keyword">in</span> valid_words:</span><br><span class="line">        <span class="keyword">return</span> typed_word</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        i,j=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        vis=limit+<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(valid_words):</span><br><span class="line">            a=diff_function(typed_word,valid_words[i],limit)</span><br><span class="line">            <span class="keyword">if</span> a&lt;vis:</span><br><span class="line">                vis=a</span><br><span class="line">                j=i</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> vis&lt;=limit:</span><br><span class="line">            <span class="keyword">return</span> valid_words[j]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> typed_word</span><br><span class="line">    <span class="comment"># END PROBLEM 5</span></span><br></pre></td></tr></table></figure>

<p>嘛，google到了一种简单的方法：建立一个dictionary</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">autocorrect</span>(<span class="params">user_word, valid_words, diff_function, limit</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the element of VALID_WORDS that has the smallest difference</span></span><br><span class="line"><span class="string">    from USER_WORD. Instead returns USER_WORD if that difference is greater</span></span><br><span class="line"><span class="string">    than LIMIT.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 5</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> user_word <span class="keyword">in</span> valid_words:</span><br><span class="line">        <span class="keyword">return</span> user_word</span><br><span class="line">    <span class="comment"># Create dictionary with keys as iterables in valid_words list</span></span><br><span class="line">    <span class="comment"># and values as difference between them and user_word</span></span><br><span class="line">    d = &#123;v : diff_function(user_word, v, limit) <span class="keyword">for</span> v <span class="keyword">in</span> valid_words&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span>(d, key=d.get) <span class="keyword">if</span> <span class="built_in">min</span>(d.values()) &lt;= limit <span class="keyword">else</span> user_word</span><br><span class="line">    <span class="comment"># END PROBLEM 5</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-6-1"><a href="#Problem-6-1" class="headerlink" title="Problem 6"></a>Problem 6</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">feline_flips</span>(<span class="params">start, goal, limit</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A diff function for autocorrect that determines how many letters</span></span><br><span class="line"><span class="string">    in START need to be substituted to create GOAL, then adds the difference in</span></span><br><span class="line"><span class="string">    their lengths and returns the result.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        start: a starting word</span></span><br><span class="line"><span class="string">        goal: a string representing a desired goal word</span></span><br><span class="line"><span class="string">        limit: a number representing an upper bound on the number of chars that must change</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; big_limit = 10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; feline_flips(&quot;nice&quot;, &quot;rice&quot;, big_limit)    # Substitute: n -&gt; r</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; feline_flips(&quot;range&quot;, &quot;rungs&quot;, big_limit)  # Substitute: a -&gt; u, e -&gt; s</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; feline_flips(&quot;pill&quot;, &quot;pillage&quot;, big_limit) # Don&#x27;t substitute anything, length difference of 3.</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; feline_flips(&quot;roses&quot;, &quot;arose&quot;, big_limit)  # Substitute: r -&gt; a, o -&gt; r, s -&gt; o, e -&gt; s, s -&gt; e</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; feline_flips(&quot;rose&quot;, &quot;hello&quot;, big_limit)   # Substitute: r-&gt;h, o-&gt;e, s-&gt;l, e-&gt;l, length difference of 1.</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 6</span></span><br><span class="line">    <span class="keyword">if</span> limit&lt;<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(start)==<span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(goal)==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">abs</span>(<span class="built_in">len</span>(start)-<span class="built_in">len</span>(goal))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> start[<span class="number">0</span>]==goal[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">return</span> feline_flips(start[<span class="number">1</span>:], goal[<span class="number">1</span>:], limit)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> feline_flips(start[<span class="number">1</span>:], goal[<span class="number">1</span>:], limit-<span class="number">1</span>)+<span class="number">1</span></span><br><span class="line">    <span class="comment"># END PROBLEM 6</span></span><br></pre></td></tr></table></figure>

<h4 id="Problem-7-1"><a href="#Problem-7-1" class="headerlink" title="Problem 7"></a>Problem 7</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">minimum_mewtations</span>(<span class="params">start, goal, limit</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A diff function that computes the edit distance from START to GOAL.</span></span><br><span class="line"><span class="string">    This function takes in a string START, a string GOAL, and a number LIMIT.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        start: a starting word</span></span><br><span class="line"><span class="string">        goal: a goal word</span></span><br><span class="line"><span class="string">        limit: a number representing an upper bound on the number of edits</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; big_limit = 10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; minimum_mewtations(&quot;cats&quot;, &quot;scat&quot;, big_limit)       # cats -&gt; scats -&gt; scat</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; minimum_mewtations(&quot;purng&quot;, &quot;purring&quot;, big_limit)   # purng -&gt; purrng -&gt; purring</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; minimum_mewtations(&quot;ckiteus&quot;, &quot;kittens&quot;, big_limit) # ckiteus -&gt; kiteus -&gt; kitteus -&gt; kittens</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> limit&lt;<span class="number">0</span>:  <span class="comment"># Fill in the condition</span></span><br><span class="line">        <span class="comment"># BEGIN</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="comment"># END</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>(start)==<span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(goal)==<span class="number">0</span>:  <span class="comment"># Feel free to remove or add additional cases</span></span><br><span class="line">        <span class="comment"># BEGIN</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">abs</span>(<span class="built_in">len</span>(start)-<span class="built_in">len</span>(goal))</span><br><span class="line">        <span class="comment"># END</span></span><br><span class="line">    <span class="keyword">elif</span> start[<span class="number">0</span>]==goal[<span class="number">0</span>]:</span><br><span class="line">        <span class="keyword">return</span> minimum_mewtations(start[<span class="number">1</span>:], goal[<span class="number">1</span>:], limit)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        add = minimum_mewtations(start,goal[<span class="number">1</span>:],limit-<span class="number">1</span>)  <span class="comment"># Fill in these lines</span></span><br><span class="line">        remove = minimum_mewtations(start[<span class="number">1</span>:],goal,limit-<span class="number">1</span>)</span><br><span class="line">        substitute = minimum_mewtations(start[<span class="number">1</span>:],goal[<span class="number">1</span>:],limit-<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># BEGIN</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>(add,remove,substitute)+<span class="number">1</span></span><br><span class="line">        <span class="comment"># END</span></span><br></pre></td></tr></table></figure>



<h3 id="Phase-3：Multiplayer"><a href="#Phase-3：Multiplayer" class="headerlink" title="Phase 3：Multiplayer"></a>Phase 3：Multiplayer</h3><h4 id="Problem-8-1"><a href="#Problem-8-1" class="headerlink" title="Problem 8"></a>Problem 8</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">report_progress</span>(<span class="params">sofar, prompt, user_id, upload</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Upload a report of your id and progress so far to the multiplayer server.</span></span><br><span class="line"><span class="string">    Returns the progress so far.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        sofar: a list of the words input so far</span></span><br><span class="line"><span class="string">        prompt: a list of the words in the typing prompt</span></span><br><span class="line"><span class="string">        user_id: a number representing the id of the current user</span></span><br><span class="line"><span class="string">        upload: a function used to upload progress to the multiplayer server</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_progress = lambda d: print(&#x27;ID:&#x27;, d[&#x27;id&#x27;], &#x27;Progress:&#x27;, d[&#x27;progress&#x27;])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # The above function displays progress in the format ID: __, Progress: __</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_progress(&#123;&#x27;id&#x27;: 1, &#x27;progress&#x27;: 0.6&#125;)</span></span><br><span class="line"><span class="string">    ID: 1 Progress: 0.6</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sofar = [&#x27;how&#x27;, &#x27;are&#x27;, &#x27;you&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; prompt = [&#x27;how&#x27;, &#x27;are&#x27;, &#x27;you&#x27;, &#x27;doing&#x27;, &#x27;today&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; report_progress(sofar, prompt, 2, print_progress)</span></span><br><span class="line"><span class="string">    ID: 2 Progress: 0.6</span></span><br><span class="line"><span class="string">    0.6</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; report_progress([&#x27;how&#x27;, &#x27;aree&#x27;], prompt, 3, print_progress)</span></span><br><span class="line"><span class="string">    ID: 3 Progress: 0.2</span></span><br><span class="line"><span class="string">    0.2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 8</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    i,j,count=<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(sofar) <span class="keyword">and</span> j&lt;<span class="built_in">len</span>(prompt):</span><br><span class="line">        <span class="keyword">if</span> sofar[i]==prompt[j]:</span><br><span class="line">            count+=<span class="number">1</span></span><br><span class="line">            j+=<span class="number">1</span></span><br><span class="line">        i+=<span class="number">1</span></span><br><span class="line">    gress=count/<span class="built_in">len</span>(prompt)</span><br><span class="line">    d=&#123;<span class="string">&#x27;id&#x27;</span>:user_id,<span class="string">&#x27;progress&#x27;</span>:gress&#125;</span><br><span class="line">    upload(d)</span><br><span class="line">    <span class="keyword">return</span> gress</span><br><span class="line">    <span class="comment"># END PROBLEM 8</span></span><br></pre></td></tr></table></figure>



<h4 id="Problem-9-1"><a href="#Problem-9-1" class="headerlink" title="Problem 9"></a>Problem 9</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">time_per_word</span>(<span class="params">words, times_per_player</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Given timing data, return a match data abstraction, which contains a</span></span><br><span class="line"><span class="string">    list of words and the amount of time each player took to type each word.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        words: a list of words, in the order they are typed.</span></span><br><span class="line"><span class="string">        times_per_player: A list of lists of timestamps including the time</span></span><br><span class="line"><span class="string">                          the player started typing, followed by the time</span></span><br><span class="line"><span class="string">                          the player finished typing each word.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; p = [[75, 81, 84, 90, 92], [19, 29, 35, 36, 38]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match = time_per_word([&#x27;collar&#x27;, &#x27;plush&#x27;, &#x27;blush&#x27;, &#x27;repute&#x27;], p)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_words(match)</span></span><br><span class="line"><span class="string">    [&#x27;collar&#x27;, &#x27;plush&#x27;, &#x27;blush&#x27;, &#x27;repute&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; get_times(match)</span></span><br><span class="line"><span class="string">    [[6, 3, 6, 2], [10, 6, 1, 2]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 9</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    i=<span class="number">0</span></span><br><span class="line">    test=[]</span><br><span class="line">    <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(times_per_player):</span><br><span class="line">        p=times_per_player[i]</span><br><span class="line">        j=<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> j&lt;<span class="built_in">len</span>(p)-<span class="number">1</span>:</span><br><span class="line">            p[j]=p[j+<span class="number">1</span>]-p[j]</span><br><span class="line">            j+=<span class="number">1</span></span><br><span class="line">        test.append(p[:<span class="built_in">len</span>(p)-<span class="number">1</span>])</span><br><span class="line">        i+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> match(words,test)</span><br><span class="line">    <span class="comment"># END PROBLEM 9</span></span><br></pre></td></tr></table></figure>



<h4 id="Problem-10-1"><a href="#Problem-10-1" class="headerlink" title="Problem 10"></a>Problem 10</h4><p>这个好难，参考了别人做的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fastest_words</span>(<span class="params">match</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a list of lists of which words each player typed fastest.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        match: a match data abstraction as returned by time_per_word.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; p0 = [5, 1, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; p1 = [4, 1, 6]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; fastest_words(match([&#x27;Just&#x27;, &#x27;have&#x27;, &#x27;fun&#x27;], [p0, p1]))</span></span><br><span class="line"><span class="string">    [[&#x27;have&#x27;, &#x27;fun&#x27;], [&#x27;Just&#x27;]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; p0  # input lists should not be mutated</span></span><br><span class="line"><span class="string">    [5, 1, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; p1</span></span><br><span class="line"><span class="string">    [4, 1, 6]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    player_indices = <span class="built_in">range</span>(<span class="built_in">len</span>(get_times(match)))  <span class="comment"># contains an *index* for each player</span></span><br><span class="line">    word_indices = <span class="built_in">range</span>(<span class="built_in">len</span>(get_words(match)))    <span class="comment"># contains an *index* for each word</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 10</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    test=[[] <span class="keyword">for</span> k <span class="keyword">in</span> player_indices]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> word_indices:</span><br><span class="line">        times=[time(match,j,i) <span class="keyword">for</span> j <span class="keyword">in</span> player_indices]</span><br><span class="line">        test[times.index(<span class="built_in">min</span>(times))].append(word_at(match,i))</span><br><span class="line">    <span class="keyword">return</span> test</span><br><span class="line">    <span class="comment"># END PROBLEM 10</span></span><br></pre></td></tr></table></figure>

<h4 id="Some-feelings"><a href="#Some-feelings" class="headerlink" title="Some feelings"></a>Some feelings</h4><p>明显感觉project2比project1简单不少，花的时间也少多了</p>
<p>希望是我python水平提高的原因吧</p>
<h2 id="Lab-5：Python-Lists-Trees"><a href="#Lab-5：Python-Lists-Trees" class="headerlink" title="Lab 5：Python Lists, Trees"></a>Lab 5：Python Lists, Trees</h2><h3 id="Q1：Factors-List"><a href="#Q1：Factors-List" class="headerlink" title="Q1：Factors List"></a>Q1：Factors List</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">factors_list</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a list containing all the numbers that divide `n` evenly, except</span></span><br><span class="line"><span class="string">    for the number itself. Make sure the list is in ascending order.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; factors_list(6)</span></span><br><span class="line"><span class="string">    [1, 2, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; factors_list(8)</span></span><br><span class="line"><span class="string">    [1, 2, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; factors_list(28)</span></span><br><span class="line"><span class="string">    [1, 2, 4, 7, 14]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    all_factors = []</span><br><span class="line">    i=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i&lt;n:</span><br><span class="line">        <span class="keyword">if</span> n%i==<span class="number">0</span>:</span><br><span class="line">            all_factors.append(i)</span><br><span class="line">        i+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> all_factors</span><br></pre></td></tr></table></figure>

<h3 id="Q2：Flatten"><a href="#Q2：Flatten" class="headerlink" title="Q2：Flatten"></a>Q2：Flatten</h3><blockquote>
<p><strong>Hint</strong>: you can check if something is a list by using the built-in <code>type</code> function. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; type(3) == list</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; type([1, 2, 3]) == list</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">flatten</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns a flattened version of list s.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; flatten([1, 2, 3])     # normal list</span></span><br><span class="line"><span class="string">    [1, 2, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x = [1, [2, 3], 4]     # deep list</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; flatten(x)</span></span><br><span class="line"><span class="string">    [1, 2, 3, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x # Ensure x is not mutated</span></span><br><span class="line"><span class="string">    [1, [2, 3], 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x = [[1, [1, 1]], 1, [1, 1]] # deep list</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; flatten(x)</span></span><br><span class="line"><span class="string">    [1, 1, 1, 1, 1, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x</span></span><br><span class="line"><span class="string">    [[1, [1, 1]], 1, [1, 1]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    result=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(i)==<span class="built_in">list</span>:</span><br><span class="line">            result+=flatten(i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(i)</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<h3 id="Q3：Distance"><a href="#Q3：Distance" class="headerlink" title="Q3：Distance"></a>Q3：Distance</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">distance</span>(<span class="params">city_a, city_b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; city_a = make_city(&#x27;city_a&#x27;, 0, 1)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; city_b = make_city(&#x27;city_b&#x27;, 0, 2)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; distance(city_a, city_b)</span></span><br><span class="line"><span class="string">    1.0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; city_c = make_city(&#x27;city_c&#x27;, 6.5, 12)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; city_d = make_city(&#x27;city_d&#x27;, 2.5, 15)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; distance(city_c, city_d)</span></span><br><span class="line"><span class="string">    5.0</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> sqrt((get_lat(city_a)-get_lat(city_b))**<span class="number">2</span>+(get_lon(city_a)-get_lon(city_b))**<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Closer-city"><a href="#Q4：Closer-city" class="headerlink" title="Q4：Closer city"></a>Q4：Closer city</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">closer_city</span>(<span class="params">lat, lon, city_a, city_b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Returns the name of either city_a or city_b, whichever is closest to</span></span><br><span class="line"><span class="string">    coordinate (lat, lon). If the two cities are the same distance away</span></span><br><span class="line"><span class="string">    from the coordinate, consider city_b to be the closer city.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berkeley = make_city(&#x27;Berkeley&#x27;, 37.87, 112.26)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; stanford = make_city(&#x27;Stanford&#x27;, 34.05, 118.25)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; closer_city(38.33, 121.44, berkeley, stanford)</span></span><br><span class="line"><span class="string">    &#x27;Stanford&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; bucharest = make_city(&#x27;Bucharest&#x27;, 44.43, 26.10)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; vienna = make_city(&#x27;Vienna&#x27;, 48.20, 16.37)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; closer_city(41.29, 174.78, bucharest, vienna)</span></span><br><span class="line"><span class="string">    &#x27;Bucharest&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    city=make_city(<span class="string">&#x27;city&#x27;</span>,lat,lon)</span><br><span class="line">    <span class="keyword">if</span> distance(city,city_a)&gt;=distance(city,city_b):</span><br><span class="line">        <span class="keyword">return</span> get_name(city_b)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> get_name(city_a)</span><br></pre></td></tr></table></figure>

<h3 id="Q6：Finding-Berries"><a href="#Q6：Finding-Berries" class="headerlink" title="Q6：Finding Berries!"></a>Q6：Finding Berries!</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">berry_finder</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns True if t contains a node with the value &#x27;berry&#x27; and </span></span><br><span class="line"><span class="string">    False otherwise.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; scrat = tree(&#x27;berry&#x27;)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berry_finder(scrat)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sproul = tree(&#x27;roots&#x27;, [tree(&#x27;branch1&#x27;, [tree(&#x27;leaf&#x27;), tree(&#x27;berry&#x27;)]), tree(&#x27;branch2&#x27;)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berry_finder(sproul)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; numbers = tree(1, [tree(2), tree(3, [tree(4), tree(5)]), tree(6, [tree(7)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berry_finder(numbers)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(1, [tree(&#x27;berry&#x27;,[tree(&#x27;not berry&#x27;)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; berry_finder(t)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> label(t)==<span class="string">&#x27;berry&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> branches(t):</span><br><span class="line">            <span class="keyword">if</span> berry_finder(b):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="Q7：Sprout-leaves"><a href="#Q7：Sprout-leaves" class="headerlink" title="Q7：Sprout leaves"></a>Q7：Sprout leaves</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sprout_leaves</span>(<span class="params">t, leaves</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Sprout new leaves containing the data in leaves at each leaf in</span></span><br><span class="line"><span class="string">    the original tree t and return the resulting tree.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t1 = tree(1, [tree(2), tree(3)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(t1)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">      3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; new1 = sprout_leaves(t1, [4, 5])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(new1)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        4</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">      3</span></span><br><span class="line"><span class="string">        4</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t2 = tree(1, [tree(2, [tree(3)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(t2)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; new2 = sprout_leaves(t2, [6, 1, 2])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(new2)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">          6</span></span><br><span class="line"><span class="string">          1</span></span><br><span class="line"><span class="string">          2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> is_leaf(t):</span><br><span class="line">        <span class="keyword">return</span> tree(label(t),[tree(b) <span class="keyword">for</span> b <span class="keyword">in</span> leaves])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> tree(label(t),[sprout_leaves(b,leaves) <span class="keyword">for</span> b <span class="keyword">in</span> branches(t)])</span><br></pre></td></tr></table></figure>



<h2 id="Disc-5：Trees-Data-Abstraction-Sequences"><a href="#Disc-5：Trees-Data-Abstraction-Sequences" class="headerlink" title="Disc 5：Trees, Data Abstraction, Sequences"></a>Disc 5：Trees, Data Abstraction, Sequences</h2><h3 id="Q2：Height"><a href="#Q2：Height" class="headerlink" title="Q2：Height"></a>Q2：Height</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">height</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the height of a tree.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(3, [tree(5, [tree(1)]), tree(2)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; height(t)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(3, [tree(1), tree(2, [tree(5, [tree(6)]), tree(1)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; height(t)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> is_leaf(t):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>([height(b) <span class="keyword">for</span> b <span class="keyword">in</span> branches(t)])  <span class="comment">#so cool</span></span><br></pre></td></tr></table></figure>

<h3 id="Q3：Maximum-Path-Sum"><a href="#Q3：Maximum-Path-Sum" class="headerlink" title="Q3：Maximum Path Sum"></a>Q3：Maximum Path Sum</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">max_path_sum</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the maximum path sum of the tree.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(1, [tree(5, [tree(1), tree(3)]), tree(10)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_path_sum(t)</span></span><br><span class="line"><span class="string">    11</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> is_leaf(t):</span><br><span class="line">        <span class="keyword">return</span> label(t)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>([max_path_sum(b) <span class="keyword">for</span> b <span class="keyword">in</span> branches(t)])+label(t)</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Find-Path"><a href="#Q4：Find-Path" class="headerlink" title="Q4：Find Path"></a>Q4：Find Path</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find_path</span>(<span class="params">t, x</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(2, [tree(7, [tree(3), tree(6, [tree(5), tree(11)])] ), tree(15)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; find_path(t, 5)</span></span><br><span class="line"><span class="string">    [2, 7, 6, 5]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; find_path(t, 10)  # returns None</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> x==label(t):</span><br><span class="line">        <span class="keyword">return</span> [label(t)]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> branches(t):</span><br><span class="line">            path=find_path(b,x)</span><br><span class="line">            <span class="keyword">if</span> path:</span><br><span class="line">                result=[label(t)]+path</span><br><span class="line">                <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<h3 id="Q5：Map-Filter-Reduce"><a href="#Q5：Map-Filter-Reduce" class="headerlink" title="Q5：Map, Filter, Reduce"></a>Q5：Map, Filter, Reduce</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_map</span>(<span class="params">fn, seq</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Applies fn onto each element in seq and returns a list.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_map(lambda x: x*x, [1, 2, 3])</span></span><br><span class="line"><span class="string">    [1, 4, 9]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    seq_new=[]</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> seq:</span><br><span class="line">        seq_new.append(fn(x))</span><br><span class="line">    <span class="keyword">return</span> seq_new</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_filter</span>(<span class="params">pred, seq</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Keeps elements in seq only if they satisfy pred.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_filter(lambda x: x % 2 == 0, [1, 2, 3, 4])  # new list has only even-valued elements</span></span><br><span class="line"><span class="string">    [2, 4]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    seq_new=[]</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> seq:</span><br><span class="line">        <span class="keyword">if</span> pred(x):</span><br><span class="line">            seq_new.append(x)</span><br><span class="line">    <span class="keyword">return</span> seq_new</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_reduce</span>(<span class="params">combiner, seq</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Combines elements in seq using combiner.</span></span><br><span class="line"><span class="string">    seq will have at least one element.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_reduce(lambda x, y: x + y, [1, 2, 3, 4])  # 1 + 2 + 3 + 4</span></span><br><span class="line"><span class="string">    10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_reduce(lambda x, y: x * y, [1, 2, 3, 4])  # 1 * 2 * 3 * 4</span></span><br><span class="line"><span class="string">    24</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_reduce(lambda x, y: x * y, [4])</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; my_reduce(lambda x, y: x + 2 * y, [1, 2, 3]) # (1 + 2 * 2) + 2 * 3</span></span><br><span class="line"><span class="string">    11</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(seq)==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> seq[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>(seq)==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> combiner(seq[<span class="number">0</span>],seq[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> combiner(combiner(seq[<span class="number">0</span>],seq[<span class="number">1</span>]),my_reduce(combiner,seq[<span class="number">2</span>:]))</span><br></pre></td></tr></table></figure>

<h3 id="Q6：Count-palindromes"><a href="#Q6：Count-palindromes" class="headerlink" title="Q6：Count palindromes"></a>Q6：Count palindromes</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_palindromes</span>(<span class="params">L</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;The number of palindromic words in the sequence of strings</span></span><br><span class="line"><span class="string">    L (ignoring case).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_palindromes((&quot;Acme&quot;, &quot;Madam&quot;, &quot;Pivot&quot;, &quot;Pip&quot;))</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(my_filter(<span class="keyword">lambda</span> x:x.lower()==x[::-<span class="number">1</span>].lower(),L))</span><br></pre></td></tr></table></figure>



<h3 id="Q7：Perfectly-Balanced"><a href="#Q7：Perfectly-Balanced" class="headerlink" title="Q7：Perfectly Balanced"></a>Q7：Perfectly Balanced</h3><p>似乎…有点问题</p>
<p>to be dubug</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sum_tree</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Add all elements in a tree.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(4, [tree(2, [tree(3)]), tree(6)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sum_tree(t)</span></span><br><span class="line"><span class="string">    15</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> is_leaf(t):</span><br><span class="line">        <span class="keyword">return</span> label(t)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">sum</span>=label(t)</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> branches(t):</span><br><span class="line">            <span class="built_in">sum</span>+=sum_tree(b)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">balanced</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Checks if each branch has same sum of all elements and</span></span><br><span class="line"><span class="string">    if each branch is balanced.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(1, [tree(3), tree(1, [tree(2)]), tree(1, [tree(1), tree(1)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; balanced(t)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(1, [t, tree(1)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; balanced(t)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(1, [tree(4), tree(1, [tree(2), tree(1)]), tree(1, [tree(3)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; balanced(t)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    store=[]</span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> branches(t):</span><br><span class="line">        store.append(sum_tree(b))</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">max</span>(store)==<span class="built_in">min</span>(store):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_tree</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Add all elements in a tree.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = tree(4, [tree(2, [tree(3)]), tree(6)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sum_tree(t)</span></span><br><span class="line"><span class="string">    15</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> is_leaf(t):</span><br><span class="line">        <span class="keyword">return</span> label(t)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">sum</span>=label(t)</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> branches(t):</span><br><span class="line">            <span class="built_in">sum</span>+=sum_tree(b)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure>



<h3 id="Q8：Hailstone-Tree"><a href="#Q8：Hailstone-Tree" class="headerlink" title="Q8：Hailstone Tree"></a>Q8：Hailstone Tree</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#orz，咕了 </span></span><br></pre></td></tr></table></figure>



<h2 id="HW-4：Data-Abstraction，Trees"><a href="#HW-4：Data-Abstraction，Trees" class="headerlink" title="HW 4：Data Abstraction，Trees"></a>HW 4：Data Abstraction，Trees</h2><h3 id="Q2：Weights"><a href="#Q2：Weights" class="headerlink" title="Q2：Weights"></a>Q2：Weights</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">planet</span>(<span class="params">size</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Construct a planet of some size.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> size &gt; <span class="number">0</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&#x27;planet&#x27;</span>,size]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">size</span>(<span class="params">w</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Select the size of a planet.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> is_planet(w), <span class="string">&#x27;must call size on a planet&#x27;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> w[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h3 id="Q3：Balanced"><a href="#Q3：Balanced" class="headerlink" title="Q3：Balanced"></a>Q3：Balanced</h3><p>平衡条件：①左右力矩相等    ②每个挂在arm上的mobile都平衡</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">balanced</span>(<span class="params">m</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return whether m is balanced.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t, u, v = examples()</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; balanced(t)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; balanced(v)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; w = mobile(arm(3, t), arm(2, u))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; balanced(w)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; balanced(mobile(arm(1, v), arm(1, w)))</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; balanced(mobile(arm(1, w), arm(1, v)))</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; from construct_check import check</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # checking for abstraction barrier violations by banning indexing</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;balanced&#x27;, [&#x27;Index&#x27;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="comment">#m指mobile</span></span><br><span class="line">    <span class="keyword">if</span> length(left(m))*total_weight(end(left(m)))==length(right(m))*total_weight(end(right(m))):</span><br><span class="line">        <span class="keyword">if</span> is_planet(end(left(m))) <span class="keyword">and</span> is_planet(end(right(m))):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">elif</span> is_mobile(end(left(m))) <span class="keyword">and</span> is_planet(end(right(m))):</span><br><span class="line">            <span class="keyword">if</span> balanced(end(left(m))):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">elif</span> is_mobile(end(right(m))) <span class="keyword">and</span> is_planet(end(left(m))):</span><br><span class="line">            <span class="keyword">if</span> balanced(end(right(m))):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span>    </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> balanced(end(left(m))) <span class="keyword">and</span> balanced(end(right(m))):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p><del>强行枚举所有情况</del></p>
<h3 id="Q4：Totals"><a href="#Q4：Totals" class="headerlink" title="Q4：Totals"></a>Q4：Totals</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">totals_tree</span>(<span class="params">m</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a tree representing the mobile with its total weight at the root.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t, u, v = examples()</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(totals_tree(t))</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">      1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(totals_tree(u))</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">      1</span></span><br><span class="line"><span class="string">      5</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">        2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(totals_tree(v))</span></span><br><span class="line"><span class="string">    9</span></span><br><span class="line"><span class="string">      3</span></span><br><span class="line"><span class="string">        2</span></span><br><span class="line"><span class="string">        1</span></span><br><span class="line"><span class="string">      6</span></span><br><span class="line"><span class="string">        1</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">          3</span></span><br><span class="line"><span class="string">          2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; from construct_check import check</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # checking for abstraction barrier violations by banning indexing</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;totals_tree&#x27;, [&#x27;Index&#x27;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> is_planet(m):</span><br><span class="line">        <span class="keyword">return</span> tree(size(m))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">assert</span> is_mobile(m)</span><br><span class="line">        <span class="keyword">return</span> tree(total_weight(m),[totals_tree(end(left(m))),totals_tree(end(right(m)))])</span><br></pre></td></tr></table></figure>

<h3 id="Q5：Replace-Loki-at-Leaf"><a href="#Q5：Replace-Loki-at-Leaf" class="headerlink" title="Q5：Replace Loki at Leaf"></a>Q5：Replace Loki at Leaf</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">replace_loki_at_leaf</span>(<span class="params">t, lokis_replacement</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns a new tree where every leaf value equal to &quot;loki&quot; has</span></span><br><span class="line"><span class="string">    been replaced with lokis_replacement.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; yggdrasil = tree(&#x27;odin&#x27;,</span></span><br><span class="line"><span class="string">    ...                  [tree(&#x27;balder&#x27;,</span></span><br><span class="line"><span class="string">    ...                        [tree(&#x27;loki&#x27;),</span></span><br><span class="line"><span class="string">    ...                         tree(&#x27;freya&#x27;)]),</span></span><br><span class="line"><span class="string">    ...                   tree(&#x27;frigg&#x27;,</span></span><br><span class="line"><span class="string">    ...                        [tree(&#x27;loki&#x27;)]),</span></span><br><span class="line"><span class="string">    ...                   tree(&#x27;loki&#x27;,</span></span><br><span class="line"><span class="string">    ...                        [tree(&#x27;sif&#x27;),</span></span><br><span class="line"><span class="string">    ...                         tree(&#x27;loki&#x27;)]),</span></span><br><span class="line"><span class="string">    ...                   tree(&#x27;loki&#x27;)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; laerad = copy_tree(yggdrasil) # copy yggdrasil for testing purposes</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(replace_loki_at_leaf(yggdrasil, &#x27;freya&#x27;))</span></span><br><span class="line"><span class="string">    odin</span></span><br><span class="line"><span class="string">      balder</span></span><br><span class="line"><span class="string">        freya</span></span><br><span class="line"><span class="string">        freya</span></span><br><span class="line"><span class="string">      frigg</span></span><br><span class="line"><span class="string">        freya</span></span><br><span class="line"><span class="string">      loki</span></span><br><span class="line"><span class="string">        sif</span></span><br><span class="line"><span class="string">        freya</span></span><br><span class="line"><span class="string">      freya</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; laerad == yggdrasil # Make sure original tree is unmodified</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> label(t)==<span class="string">&#x27;loki&#x27;</span> <span class="keyword">and</span> is_leaf(t):</span><br><span class="line">        <span class="keyword">return</span> tree(lokis_replacement)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> tree(label(t),[replace_loki_at_leaf(b,lokis_replacement) <span class="keyword">for</span> b <span class="keyword">in</span> branches(t)])</span><br></pre></td></tr></table></figure>

<p><strong>ATTENTION</strong>: tree的结构为tree(label(t),branches&#x3D;[])，所以可以直接用循环+递归：<strong>tree(label(t),[replace_loki_at_leaf(b,lokis_replacement) for b in branches(t)])</strong></p>
<h3 id="Q6：Has-Path"><a href="#Q6：Has-Path" class="headerlink" title="Q6：Has Path"></a>Q6：Has Path</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">has_path</span>(<span class="params">t, word</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return whether there is a path in a tree where the entries along the path</span></span><br><span class="line"><span class="string">    spell out a particular word.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; greetings = tree(&#x27;h&#x27;, [tree(&#x27;i&#x27;),</span></span><br><span class="line"><span class="string">    ...                        tree(&#x27;e&#x27;, [tree(&#x27;l&#x27;, [tree(&#x27;l&#x27;, [tree(&#x27;o&#x27;)])]),</span></span><br><span class="line"><span class="string">    ...                                   tree(&#x27;y&#x27;)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(greetings)</span></span><br><span class="line"><span class="string">    h</span></span><br><span class="line"><span class="string">      i</span></span><br><span class="line"><span class="string">      e</span></span><br><span class="line"><span class="string">        l</span></span><br><span class="line"><span class="string">          l</span></span><br><span class="line"><span class="string">            o</span></span><br><span class="line"><span class="string">        y</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; has_path(greetings, &#x27;h&#x27;)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; has_path(greetings, &#x27;i&#x27;)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; has_path(greetings, &#x27;hi&#x27;)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; has_path(greetings, &#x27;hello&#x27;)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; has_path(greetings, &#x27;hey&#x27;)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; has_path(greetings, &#x27;bye&#x27;)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; has_path(greetings, &#x27;hint&#x27;)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">len</span>(word) &gt; <span class="number">0</span>, <span class="string">&#x27;no path for empty word.&#x27;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> label(t)==word <span class="keyword">and</span> <span class="built_in">len</span>(word)==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> label(t)==word[<span class="number">0</span>]:</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> branches(t):</span><br><span class="line">            <span class="keyword">if</span> has_path(b,word[<span class="number">1</span>:]):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="Q7：Preorder"><a href="#Q7：Preorder" class="headerlink" title="Q7：Preorder"></a>Q7：Preorder</h3><p>optional</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">preorder</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a list of the entries in this tree in the order that they</span></span><br><span class="line"><span class="string">    would be visited by a preorder traversal (see problem description).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; numbers = tree(1, [tree(2), tree(3, [tree(4), tree(5)]), tree(6, [tree(7)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; preorder(numbers)</span></span><br><span class="line"><span class="string">    [1, 2, 3, 4, 5, 6, 7]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; preorder(tree(2, [tree(4, [tree(6)])]))</span></span><br><span class="line"><span class="string">    [2, 4, 6]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> is_leaf(t):</span><br><span class="line">        <span class="keyword">return</span> [label(t)]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result=[label(t)]</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> branches(t):</span><br><span class="line">            result+=preorder(b)   <span class="comment">#这里不能是=，如果赋值的话相当于最后result就等于最后那个分支加上去的值</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<h3 id="Q8：Interval-Abstraction"><a href="#Q8：Interval-Abstraction" class="headerlink" title="Q8：Interval Abstraction"></a>Q8：Interval Abstraction</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">interval</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Construct an interval from a to b.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> a &lt;= b, <span class="string">&#x27;Lower bound cannot be greater than upper bound&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> [a, b]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">lower_bound</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the lower bound of interval x.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> x[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">upper_bound</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the upper bound of interval x.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> x[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h3 id="Q9：Interval-Arithmetic"><a href="#Q9：Interval-Arithmetic" class="headerlink" title="Q9：Interval Arithmetic"></a>Q9：Interval Arithmetic</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">mul_interval</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the interval that contains the product of any value in x and any</span></span><br><span class="line"><span class="string">    value in y.&quot;&quot;&quot;</span></span><br><span class="line">    p1 = lower_bound(x)*lower_bound(y)</span><br><span class="line">    p2 = lower_bound(x)*upper_bound(y)</span><br><span class="line">    p3 = upper_bound(x)*lower_bound(y)</span><br><span class="line">    p4 = upper_bound(x)*upper_bound(y)</span><br><span class="line">    <span class="keyword">return</span> interval(<span class="built_in">min</span>(p1, p2, p3, p4), <span class="built_in">max</span>(p1, p2, p3, p4))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sub_interval</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the interval that contains the difference between any value in x</span></span><br><span class="line"><span class="string">    and any value in y.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    lower=lower_bound(x)-upper_bound(y)</span><br><span class="line">    upper=upper_bound(x)-lower_bound(y)</span><br><span class="line">    <span class="keyword">return</span> interval(lower,upper)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">div_interval</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the interval that contains the quotient of any value in x divided by</span></span><br><span class="line"><span class="string">    any value in y. Division is implemented as the multiplication of x by the</span></span><br><span class="line"><span class="string">    reciprocal of y.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> lower_bound(y)&gt;<span class="number">0</span> <span class="keyword">or</span> upper_bound(y)&lt;<span class="number">0</span></span><br><span class="line">    reciprocal_y = interval(<span class="number">1</span> / upper_bound(y), <span class="number">1</span> / lower_bound(y))</span><br><span class="line">    <span class="keyword">return</span> mul_interval(x, reciprocal_y)</span><br></pre></td></tr></table></figure>

<p>①提供的代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">mul_interval</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the interval that contains the product of any value in x and any</span></span><br><span class="line"><span class="string">    value in y.&quot;&quot;&quot;</span></span><br><span class="line">    p1 = x[<span class="number">0</span>] * y[<span class="number">0</span>]</span><br><span class="line">    p2 = x[<span class="number">0</span>] * y[<span class="number">1</span>]</span><br><span class="line">    p3 = x[<span class="number">1</span>] * y[<span class="number">0</span>]</span><br><span class="line">    p4 = x[<span class="number">1</span>] * y[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">min</span>(p1, p2, p3, p4), <span class="built_in">max</span>(p1, p2, p3, p4)]</span><br></pre></td></tr></table></figure>

<ol>
<li>提供的代码会报错**’function’ object is not subscriptable**</li>
</ol>
<blockquote>
<p>The error “TypeError: ‘function’ object is not subscriptable” occurs when you try to access an item from a function. Functions cannot be indexed using square brackets. </p>
</blockquote>
<p>即数据抽象要用其他函数去访问函数中的某个值，而不能直接用方括号索引函数</p>
<ol start="2">
<li>如果只改p1~p4的值，不改return，则会报错**’list’ object is not callable**</li>
</ol>
<blockquote>
<p>The Python “TypeError: ‘list’ object is not callable” occurs when we try to call a list as a function using parenthesis () . To solve the error, make sure to use square brackets when accessing a list at a specific index</p>
</blockquote>
<p>即[]和()没用对</p>
<ol start="3">
<li><strong>print(‘{0}:{1}’.format(key, value))</strong></li>
</ol>
<p>分别用key、value的值代替{0}和{1}</p>
<p>如输出-1 to 1：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="built_in">print</span>(<span class="string">&#x27;&#123;0&#125; to &#123;1&#125;&#x27;</span>.<span class="built_in">format</span>(-<span class="number">1</span>,<span class="number">1</span>))</span><br></pre></td></tr></table></figure>



<h2 id="Lab-06：Mutability-Iterators"><a href="#Lab-06：Mutability-Iterators" class="headerlink" title="Lab 06：Mutability, Iterators"></a>Lab 06：Mutability, Iterators</h2><h3 id="Q2：Insert-Items"><a href="#Q2：Insert-Items" class="headerlink" title="Q2：Insert Items"></a>Q2：Insert Items</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">insert_items</span>(<span class="params">lst, entry, elem</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Inserts elem into lst after each occurence of entry and then returns lst.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; test_lst = [1, 5, 8, 5, 2, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; new_lst = insert_items(test_lst, 5, 7)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; new_lst</span></span><br><span class="line"><span class="string">    [1, 5, 7, 8, 5, 7, 2, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_lst = [1, 2, 1, 2, 3, 3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_lst = insert_items(double_lst, 3, 4)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; double_lst</span></span><br><span class="line"><span class="string">    [1, 2, 1, 2, 3, 4, 3, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; large_lst = [1, 4, 8]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; large_lst2 = insert_items(large_lst, 4, 4)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; large_lst2</span></span><br><span class="line"><span class="string">    [1, 4, 4, 8]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; large_lst3 = insert_items(large_lst2, 4, 6)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; large_lst3</span></span><br><span class="line"><span class="string">    [1, 4, 6, 4, 6, 8]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; large_lst3 is large_lst</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # Ban creating new lists</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; from construct_check import check</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;insert_items&#x27;,</span></span><br><span class="line"><span class="string">    ...       [&#x27;List&#x27;, &#x27;ListComp&#x27;, &#x27;Slice&#x27;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    i=<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(lst):</span><br><span class="line">        <span class="keyword">if</span> lst[i]==entry:</span><br><span class="line">            lst.insert(i+<span class="number">1</span>,elem)</span><br><span class="line">            i+=<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> lst</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Count-Occurrences"><a href="#Q4：Count-Occurrences" class="headerlink" title="Q4：Count Occurrences"></a>Q4：Count Occurrences</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_occurrences</span>(<span class="params">t, n, x</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the number of times that x appears in the first n elements of iterator t.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = iter([10, 9, 10, 9, 9, 10, 8, 8, 8, 7])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_occurrences(s, 10, 9)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s2 = iter([10, 9, 10, 9, 9, 10, 8, 8, 8, 7])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_occurrences(s2, 3, 10)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = iter([3, 2, 2, 2, 1, 2, 1, 4, 4, 5, 5, 5])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_occurrences(s, 1, 3)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_occurrences(s, 4, 2)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; next(s)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s2 = iter([4, 1, 6, 6, 7, 7, 8, 8, 2, 2, 2, 5])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; count_occurrences(s2, 6, 6)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    i,count=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i&lt;n:</span><br><span class="line">        num=<span class="built_in">next</span>(t)</span><br><span class="line">        <span class="keyword">if</span> num==x:</span><br><span class="line">            count+=<span class="number">1</span></span><br><span class="line">        i+=<span class="number">1</span>             <span class="comment">#怎么老忘记加1啊啊啊啊啊</span></span><br><span class="line">    <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure>

<h3 id="Q5：Repeated"><a href="#Q5：Repeated" class="headerlink" title="Q5：Repeated"></a>Q5：Repeated</h3><p>本题关键点在于用一个变量记录前一个数的值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">repeated</span>(<span class="params">t, k</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the first value in iterator T that appears K times in a row.</span></span><br><span class="line"><span class="string">    Iterate through the items such that if the same iterator is passed into</span></span><br><span class="line"><span class="string">    the function twice, it continues in the second call at the point it left</span></span><br><span class="line"><span class="string">    off in the first.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = iter([10, 9, 10, 9, 9, 10, 8, 8, 8, 7])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s, 2)</span></span><br><span class="line"><span class="string">    9</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s2 = iter([10, 9, 10, 9, 9, 10, 8, 8, 8, 7])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s2, 3)</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = iter([3, 2, 2, 2, 1, 2, 1, 4, 4, 5, 5, 5])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s, 3)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s, 3)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s2 = iter([4, 1, 6, 6, 7, 7, 8, 8, 2, 2, 2, 5])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; repeated(s2, 3)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> k &gt; <span class="number">1</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    last_num,cnt=<span class="literal">None</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        num=<span class="built_in">next</span>(t)</span><br><span class="line">        <span class="keyword">if</span> last_num==<span class="literal">None</span> <span class="keyword">or</span> num!=last_num:</span><br><span class="line">            last_num,cnt=num,<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            cnt+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cnt==k:</span><br><span class="line">                <span class="keyword">return</span> num</span><br></pre></td></tr></table></figure>





<h2 id="Disc-06：Mutability-Iterators-and-Generators"><a href="#Disc-06：Mutability-Iterators-and-Generators" class="headerlink" title="Disc 06：Mutability, Iterators and Generators"></a>Disc 06：Mutability, Iterators and Generators</h2><p>pop(i)：i为索引</p>
<p>remove(el)：el为元素</p>
<h3 id="Q2：Add-This-Many"><a href="#Q2：Add-This-Many" class="headerlink" title="Q2：Add This Many"></a>Q2：Add This Many</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_this_many</span>(<span class="params">x, el, s</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; Adds el to the end of s the number of times x occurs in s.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = [1, 2, 4, 2, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_this_many(1, 5, s)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s</span></span><br><span class="line"><span class="string">    [1, 2, 4, 2, 1, 5, 5]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add_this_many(2, 2, s)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s</span></span><br><span class="line"><span class="string">    [1, 2, 4, 2, 1, 5, 5, 2, 2]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    i,count=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(s):</span><br><span class="line">        <span class="keyword">if</span> x==s[i]:</span><br><span class="line">            count+=<span class="number">1</span></span><br><span class="line">        i+=<span class="number">1</span></span><br><span class="line">    j=<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> j&lt;count:</span><br><span class="line">        s.append(el)</span><br><span class="line">        j+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span></span><br></pre></td></tr></table></figure>

<h3 id="Q4：Filter-Iter"><a href="#Q4：Filter-Iter" class="headerlink" title="Q4：Filter-Iter"></a>Q4：Filter-Iter</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">filter_iter</span>(<span class="params">iterable, fn</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; is_even = lambda x: x % 2 == 0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; list(filter_iter(range(5), is_even)) # a list of the values yielded from the call to filter_iter</span></span><br><span class="line"><span class="string">    [0, 2, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; all_odd = (2*y-1 for y in range(5))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; list(filter_iter(all_odd, is_even))</span></span><br><span class="line"><span class="string">    []</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; naturals = (n for n in range(1, 100))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = filter_iter(naturals, is_even)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; next(s)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; next(s)</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    t=[]</span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">if</span> fn(b):</span><br><span class="line">            t.append(b)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">iter</span>(t)</span><br><span class="line"></span><br><span class="line"><span class="comment">#用yield方法：</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">filter_iter</span>(<span class="params">iterable, fn</span>):</span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">if</span> fn(b):</span><br><span class="line">            <span class="keyword">yield</span> b</span><br></pre></td></tr></table></figure>

<h3 id="Q5：Merge"><a href="#Q5：Merge" class="headerlink" title="Q5：Merge"></a>Q5：Merge</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; def sequence(start, step):</span></span><br><span class="line"><span class="string">    ...     while True:</span></span><br><span class="line"><span class="string">    ...         yield start</span></span><br><span class="line"><span class="string">    ...         start += step</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = sequence(2, 3) # 2, 5, 8, 11, 14, ...</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = sequence(3, 2) # 3, 5, 7, 9, 11, 13, 15, ...</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; result = merge(a, b) # 2, 3, 5, 7, 8, 9, 11, 13, 14, 15</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; [next(result) for _ in range(10)]</span></span><br><span class="line"><span class="string">    [2, 3, 5, 7, 8, 9, 11, 13, 14, 15]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    num_a=<span class="built_in">next</span>(a)</span><br><span class="line">    num_b=<span class="built_in">next</span>(b)</span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> num_a==num_b:</span><br><span class="line">            <span class="keyword">yield</span> num_a</span><br><span class="line">            num_a=<span class="built_in">next</span>(a)</span><br><span class="line">            num_b=<span class="built_in">next</span>(b)</span><br><span class="line">        <span class="keyword">elif</span> num_a&lt;num_b:</span><br><span class="line">            <span class="keyword">yield</span> num_a</span><br><span class="line">            num_a=<span class="built_in">next</span>(a)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">yield</span> num_b</span><br><span class="line">            num_b=<span class="built_in">next</span>(b)</span><br></pre></td></tr></table></figure>

<h3 id="Q6：Primes-Generator"><a href="#Q6：Primes-Generator" class="headerlink" title="Q6：Primes Generator"></a>Q6：Primes Generator</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">is_prime</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns True if n is a prime number and False otherwise.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; is_prime(2)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; is_prime(16)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; is_prime(521)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">helper</span>(<span class="params">i</span>):</span><br><span class="line">        <span class="keyword">if</span> i &gt; (n ** <span class="number">0.5</span>): <span class="comment"># Could replace with i == n</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">elif</span> n % i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> helper(i + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> helper(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">primes_gen</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Generates primes in decreasing order.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; pg = primes_gen(7)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; list(pg)</span></span><br><span class="line"><span class="string">    [7, 5, 3, 2]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n&lt;<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">if</span> is_prime(n):</span><br><span class="line">        <span class="keyword">yield</span> n</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> primes_gen(n-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>





<h2 id="HW-05：Iterators-and-Generators"><a href="#HW-05：Iterators-and-Generators" class="headerlink" title="HW 05：Iterators and Generators"></a>HW 05：Iterators and Generators</h2><h3 id="Q1：Generate-Permutations"><a href="#Q1：Generate-Permutations" class="headerlink" title="Q1：Generate Permutations"></a>Q1：Generate Permutations</h3><p>先想base case是什么，然后将要写的函数当作已经完成要求的函数，实现递归。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">gen_perms</span>(<span class="params">seq</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Generates all permutations of the given sequence. Each permutation is a</span></span><br><span class="line"><span class="string">    list of the elements in SEQ in a different order. The permutations may be</span></span><br><span class="line"><span class="string">    yielded in any order.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; perms = gen_perms([100])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; type(perms)</span></span><br><span class="line"><span class="string">    &lt;class &#x27;generator&#x27;&gt;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; next(perms)</span></span><br><span class="line"><span class="string">    [100]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; try: #this piece of code prints &quot;No more permutations!&quot; if calling next would cause an error</span></span><br><span class="line"><span class="string">    ...     next(perms)</span></span><br><span class="line"><span class="string">    ... except StopIteration:</span></span><br><span class="line"><span class="string">    ...     print(&#x27;No more permutations!&#x27;)</span></span><br><span class="line"><span class="string">    No more permutations!</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sorted(gen_perms([1, 2, 3])) # Returns a sorted list containing elements of the generator</span></span><br><span class="line"><span class="string">    [[1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sorted(gen_perms((10, 20, 30)))</span></span><br><span class="line"><span class="string">    [[10, 20, 30], [10, 30, 20], [20, 10, 30], [20, 30, 10], [30, 10, 20], [30, 20, 10]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sorted(gen_perms(&quot;ab&quot;))</span></span><br><span class="line"><span class="string">    [[&#x27;a&#x27;, &#x27;b&#x27;], [&#x27;b&#x27;, &#x27;a&#x27;]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(seq)!=<span class="built_in">list</span>:</span><br><span class="line">        seq=<span class="built_in">list</span>(seq)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(seq)&lt;=<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">yield</span> seq</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> perm <span class="keyword">in</span> gen_perms(seq[<span class="number">1</span>:]):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(seq)):</span><br><span class="line">                <span class="keyword">yield</span> perm[:i]+seq[:<span class="number">1</span>]+perm[i:]</span><br></pre></td></tr></table></figure>



<h3 id="Q2：Yield-Paths"><a href="#Q2：Yield-Paths" class="headerlink" title="Q2：Yield Paths"></a>Q2：Yield Paths</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">path_yielder</span>(<span class="params">t, value</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Yields all possible paths from the root of t to a node with the label</span></span><br><span class="line"><span class="string">    value as a list.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t1 = tree(1, [tree(2, [tree(3), tree(4, [tree(6)]), tree(5)]), tree(5)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(t1)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">        4</span></span><br><span class="line"><span class="string">          6</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">      5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; next(path_yielder(t1, 6))</span></span><br><span class="line"><span class="string">    [1, 2, 4, 6]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; path_to_5 = path_yielder(t1, 5)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sorted(list(path_to_5))</span></span><br><span class="line"><span class="string">    [[1, 2, 5], [1, 5]]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t2 = tree(0, [tree(2, [t1])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print_tree(t2)</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">      2</span></span><br><span class="line"><span class="string">        1</span></span><br><span class="line"><span class="string">          2</span></span><br><span class="line"><span class="string">            3</span></span><br><span class="line"><span class="string">            4</span></span><br><span class="line"><span class="string">              6</span></span><br><span class="line"><span class="string">            5</span></span><br><span class="line"><span class="string">          5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; path_to_2 = path_yielder(t2, 2)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sorted(list(path_to_2))</span></span><br><span class="line"><span class="string">    [[0, 2], [0, 2, 1, 2]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> label(t)==value:</span><br><span class="line">        <span class="keyword">yield</span> [value]</span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> branches(t):</span><br><span class="line">        <span class="keyword">for</span> path <span class="keyword">in</span> path_yielder(b,value): </span><br><span class="line">            <span class="keyword">yield</span> [label(t)]+path</span><br></pre></td></tr></table></figure>



<h3 id="Q3：Preorder"><a href="#Q3：Preorder" class="headerlink" title="Q3：Preorder"></a>Q3：Preorder</h3><p>见hw04 Q7</p>
<h3 id="Q4：Generate-Preorder"><a href="#Q4：Generate-Preorder" class="headerlink" title="Q4：Generate Preorder"></a>Q4：Generate Preorder</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">generate_preorder</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Yield the entries in this tree in the order that they</span></span><br><span class="line"><span class="string">    would be visited by a preorder traversal (see problem description).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; numbers = tree(1, [tree(2), tree(3, [tree(4), tree(5)]), tree(6, [tree(7)])])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; gen = generate_preorder(numbers)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; next(gen)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; list(gen)</span></span><br><span class="line"><span class="string">    [2, 3, 4, 5, 6, 7]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">yield</span> label(t)</span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> branches(t):</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">from</span> generate_preorder(b)</span><br></pre></td></tr></table></figure>



<h3 id="Q5：Remainder-Generator"><a href="#Q5：Remainder-Generator" class="headerlink" title="Q5：Remainder Generator"></a>Q5：Remainder Generator</h3><p>会生成m个生成器，其中第i个生成器生成是除以m余i的所有数</p>
<p>令第一个生成器为余0，第二个为余1…</p>
<p><del>这题的题目意思好难理解</del></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">remainders_generator</span>(<span class="params">m</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Yields m generators. The ith yielded generator yields natural numbers whose</span></span><br><span class="line"><span class="string">    remainder is i when divided by m.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; import types</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; [isinstance(gen, types.GeneratorType) for gen in remainders_generator(5)]</span></span><br><span class="line"><span class="string">    [True, True, True, True, True]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; remainders_four = remainders_generator(4)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; for i in range(4):</span></span><br><span class="line"><span class="string">    ...     print(&quot;First 3 natural numbers with remainder &#123;0&#125; when divided by 4:&quot;.format(i))</span></span><br><span class="line"><span class="string">    ...     gen = next(remainders_four)</span></span><br><span class="line"><span class="string">    ...     for _ in range(3):</span></span><br><span class="line"><span class="string">    ...         print(next(gen))</span></span><br><span class="line"><span class="string">    First 3 natural numbers with remainder 0 when divided by 4:</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    12</span></span><br><span class="line"><span class="string">    First 3 natural numbers with remainder 1 when divided by 4:</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    9</span></span><br><span class="line"><span class="string">    First 3 natural numbers with remainder 2 when divided by 4:</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">    10</span></span><br><span class="line"><span class="string">    First 3 natural numbers with remainder 3 when divided by 4:</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    7</span></span><br><span class="line"><span class="string">    11</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">helper</span>(<span class="params">i</span>):</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> naturals():</span><br><span class="line">            <span class="keyword">if</span> x%m==i:</span><br><span class="line">                <span class="keyword">yield</span> x</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):            <span class="comment">#这里是关键，否则会Timeout</span></span><br><span class="line">        <span class="keyword">yield</span> helper(j)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">不用higher-order function也会报Timeout错误，怪</span></span><br><span class="line"><span class="string">可能是没有用high-order function “封装”，使程序一直进行？</span></span><br><span class="line"><span class="string">def remainders_generator(m):</span></span><br><span class="line"><span class="string">	for i in range(m):</span></span><br><span class="line"><span class="string">        for x in naturals():</span></span><br><span class="line"><span class="string">            if x%m==i:</span></span><br><span class="line"><span class="string">                yield x</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>



<h2 id="Lab-07：Object-Oriented-Programming"><a href="#Lab-07：Object-Oriented-Programming" class="headerlink" title="Lab 07：Object-Oriented Programming"></a>Lab 07：Object-Oriented Programming</h2><h3 id="Q2：Retirement"><a href="#Q2：Retirement" class="headerlink" title="Q2：Retirement"></a>Q2：Retirement</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">time_to_retire</span>(<span class="params">self, amount</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Return the number of years until balance would grow to amount.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">assert</span> self.balance &gt; <span class="number">0</span> <span class="keyword">and</span> amount &gt; <span class="number">0</span> <span class="keyword">and</span> self.interest &gt; <span class="number">0</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        i=<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> self.balance*(self.interest+<span class="number">1</span>)**i&gt;=amount:</span><br><span class="line">                <span class="keyword">return</span> i</span><br><span class="line">            i+=<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Q3：FreeChecking"><a href="#Q3：FreeChecking" class="headerlink" title="Q3：FreeChecking"></a>Q3：FreeChecking</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">FreeChecking</span>(<span class="title class_ inherited__">Account</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A bank account that charges for withdrawals, but the first two are free!</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch = FreeChecking(&#x27;Jack&#x27;)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch.balance = 20</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch.withdraw(100)  # First one&#x27;s free</span></span><br><span class="line"><span class="string">    &#x27;Insufficient funds&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch.withdraw(3)    # And the second</span></span><br><span class="line"><span class="string">    17</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch.balance</span></span><br><span class="line"><span class="string">    17</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch.withdraw(3)    # Ok, two free withdrawals is enough</span></span><br><span class="line"><span class="string">    13</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch.withdraw(3)</span></span><br><span class="line"><span class="string">    9</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch2 = FreeChecking(&#x27;John&#x27;)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch2.balance = 10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch2.withdraw(3) # No fee</span></span><br><span class="line"><span class="string">    7</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch.withdraw(3)  # ch still charges a fee</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; ch.withdraw(5)  # Not enough to cover fee + withdraw</span></span><br><span class="line"><span class="string">    &#x27;Insufficient funds&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    withdraw_fee = <span class="number">1</span></span><br><span class="line">    free_withdrawals = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">withdraw</span>(<span class="params">self,amount</span>):</span><br><span class="line">        <span class="keyword">if</span> amount &gt; self.balance:</span><br><span class="line">            self.free_withdrawals-=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Insufficient funds&quot;</span></span><br><span class="line">        <span class="keyword">if</span> amount &gt; self.max_withdrawal:</span><br><span class="line">            self.free_withdrawals-=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Can&#x27;t withdraw that amount&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self.free_withdrawals&gt;<span class="number">0</span>:</span><br><span class="line">            self.free_withdrawals-=<span class="number">1</span></span><br><span class="line">            self.balance = self.balance - amount</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.balance=self.balance-amount-self.withdraw_fee</span><br><span class="line">        <span class="keyword">if</span> amount &gt; self.balance:</span><br><span class="line">            self.free_withdrawals-=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Insufficient funds&quot;</span></span><br><span class="line">        <span class="keyword">if</span> amount &gt; self.max_withdrawal:</span><br><span class="line">            self.free_withdrawals-=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Can&#x27;t withdraw that amount&quot;</span></span><br><span class="line">        <span class="keyword">return</span> self.balance</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Making-Cards"><a href="#Q4：Making-Cards" class="headerlink" title="Q4：Making Cards"></a>Q4：Making Cards</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Card</span>:</span><br><span class="line">    cardtype = <span class="string">&#x27;Staff&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, attack, defense</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Create a Card object with a name, attack,</span></span><br><span class="line"><span class="string">        and defense.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; staff_member = Card(&#x27;staff&#x27;, 400, 300)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; staff_member.name</span></span><br><span class="line"><span class="string">        &#x27;staff&#x27;</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; staff_member.attack</span></span><br><span class="line"><span class="string">        400</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; staff_member.defense</span></span><br><span class="line"><span class="string">        300</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; other_staff = Card(&#x27;other&#x27;, 300, 500)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; other_staff.attack</span></span><br><span class="line"><span class="string">        300</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; other_staff.defense</span></span><br><span class="line"><span class="string">        500</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.name=name</span><br><span class="line">        self.attack=attack</span><br><span class="line">        self.defense=defense</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">power</span>(<span class="params">self, opponent_card</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Calculate power as:</span></span><br><span class="line"><span class="string">        (player card&#x27;s attack) - (opponent card&#x27;s defense)/2</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; staff_member = Card(&#x27;staff&#x27;, 400, 300)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; other_staff = Card(&#x27;other&#x27;, 300, 500)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; staff_member.power(other_staff)</span></span><br><span class="line"><span class="string">        150.0</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; other_staff.power(staff_member)</span></span><br><span class="line"><span class="string">        150.0</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; third_card = Card(&#x27;third&#x27;, 200, 400)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; staff_member.power(third_card)</span></span><br><span class="line"><span class="string">        200.0</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; third_card.power(staff_member)</span></span><br><span class="line"><span class="string">        50.0</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> self.attack-opponent_card.defense/<span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="Q5：Making-a-Player"><a href="#Q5：Making-a-Player" class="headerlink" title="Q5：Making a Player"></a>Q5：Making a Player</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, deck, name</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Initialize a Player object.</span></span><br><span class="line"><span class="string">        A Player starts the game by drawing 5 cards from their deck. Each turn,</span></span><br><span class="line"><span class="string">        a Player draws another card from the deck and chooses one to play.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_card = Card(&#x27;test&#x27;, 100, 100)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_deck = Deck([test_card.copy() for _ in range(6)])</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_player = Player(test_deck, &#x27;tester&#x27;)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; len(test_deck.cards)</span></span><br><span class="line"><span class="string">        1</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; len(test_player.hand)</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.deck = deck</span><br><span class="line">        self.name = name</span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.hand=[self.deck.draw() <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">draw</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Draw a card from the player&#x27;s deck and add it to their hand.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_card = Card(&#x27;test&#x27;, 100, 100)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_deck = Deck([test_card.copy() for _ in range(6)])</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_player = Player(test_deck, &#x27;tester&#x27;)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_player.draw()</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; len(test_deck.cards)</span></span><br><span class="line"><span class="string">        0</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; len(test_player.hand)</span></span><br><span class="line"><span class="string">        6</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">assert</span> <span class="keyword">not</span> self.deck.is_empty(), <span class="string">&#x27;Deck is empty!&#x27;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.hand.append(self.deck.draw())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">play</span>(<span class="params">self, card_index</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Remove and return a card from the player&#x27;s hand at the given index.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; from cards import *</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_player = Player(standard_deck, &#x27;tester&#x27;)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; ta1, ta2 = TACard(&quot;ta_1&quot;, 300, 400), TACard(&quot;ta_2&quot;, 500, 600)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; tutor1, tutor2 = TutorCard(&quot;t1&quot;, 200, 500), TutorCard(&quot;t2&quot;, 600, 400)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_player.hand = [ta1, ta2, tutor1, tutor2]</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_player.play(0) is ta1</span></span><br><span class="line"><span class="string">        True</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_player.play(2) is tutor2</span></span><br><span class="line"><span class="string">        True</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; len(test_player.hand)</span></span><br><span class="line"><span class="string">        2</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.hand.pop(card_index)</span><br></pre></td></tr></table></figure>

<h3 id="Q6：ALs：Defenders"><a href="#Q6：ALs：Defenders" class="headerlink" title="Q6：ALs：Defenders"></a>Q6：ALs：Defenders</h3><p>optional</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AICard</span>(<span class="title class_ inherited__">Card</span>):</span><br><span class="line">    cardtype = <span class="string">&#x27;AI&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">effect</span>(<span class="params">self, opponent_card, player, opponent</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Reduce the opponent&#x27;s card&#x27;s attack by its defense,</span></span><br><span class="line"><span class="string">        then double its defense.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; from cards import *</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; player1, player2 = Player(player_deck, &#x27;p1&#x27;), Player(opponent_deck, &#x27;p2&#x27;)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card = Card(&#x27;other&#x27;, 300, 600)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; ai_test = AICard(&#x27;AI&#x27;, 500, 500)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; ai_test.effect(opponent_card, player1, player2)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card.attack</span></span><br><span class="line"><span class="string">        0</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card.defense</span></span><br><span class="line"><span class="string">        1200</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card = Card(&#x27;other&#x27;, 600, 400)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; ai_test = AICard(&#x27;AI&#x27;, 500, 500)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; ai_test.effect(opponent_card, player1, player2)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card.attack</span></span><br><span class="line"><span class="string">        200</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card.defense</span></span><br><span class="line"><span class="string">        800</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">if</span> (opponent_card.attack-opponent_card.defense)&lt;<span class="number">0</span>:</span><br><span class="line">            opponent_card.attack=<span class="number">0</span></span><br><span class="line">            opponent_card.defense=opponent_card.defense*<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            opponent_card.attack=opponent_card.attack-opponent_card.defense</span><br><span class="line">            opponent_card.defense=opponent_card.defense*<span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="Q7：Tutors：Flummox"><a href="#Q7：Tutors：Flummox" class="headerlink" title="Q7：Tutors：Flummox"></a>Q7：Tutors：Flummox</h3><p>optional</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TutorCard</span>(<span class="title class_ inherited__">Card</span>):</span><br><span class="line">    cardtype = <span class="string">&#x27;Tutor&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">effect</span>(<span class="params">self, opponent_card, player, opponent</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Discard the first 3 cards in the opponent&#x27;s hand and have</span></span><br><span class="line"><span class="string">        them draw the same number of cards from their deck.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; from cards import *</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; player1, player2 = Player(player_deck, &#x27;p1&#x27;), Player(opponent_deck, &#x27;p2&#x27;)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card = Card(&#x27;other&#x27;, 500, 500)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; tutor_test = TutorCard(&#x27;Tutor&#x27;, 500, 500)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; initial_deck_length = len(player2.deck.cards)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; tutor_test.effect(opponent_card, player1, player2)</span></span><br><span class="line"><span class="string">        p2 discarded and re-drew 3 cards!</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; len(player2.hand)</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; len(player2.deck.cards) == initial_deck_length - 3</span></span><br><span class="line"><span class="string">        True</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="comment"># You should add your implementation above this.</span></span><br><span class="line">        i,j=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i&lt;<span class="number">3</span>:</span><br><span class="line">            opponent.hand.pop()</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> j&lt;<span class="number">3</span>:</span><br><span class="line">            opponent.hand.append(opponent.deck.draw())</span><br><span class="line">            j+=<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; discarded and re-drew 3 cards!&#x27;</span>.<span class="built_in">format</span>(opponent.name))</span><br></pre></td></tr></table></figure>

<h3 id="Q8：TAs：Shift"><a href="#Q8：TAs：Shift" class="headerlink" title="Q8：TAs：Shift"></a>Q8：TAs：Shift</h3><p>optional</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TACard</span>(<span class="title class_ inherited__">Card</span>):</span><br><span class="line">    cardtype = <span class="string">&#x27;TA&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">effect</span>(<span class="params">self, opponent_card, player, opponent</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Swap the attack and defense of an opponent&#x27;s card.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; from cards import *</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; player1, player2 = Player(player_deck, &#x27;p1&#x27;), Player(opponent_deck, &#x27;p2&#x27;)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card = Card(&#x27;other&#x27;, 300, 600)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; ta_test = TACard(&#x27;TA&#x27;, 500, 500)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; ta_test.effect(opponent_card, player1, player2)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card.attack</span></span><br><span class="line"><span class="string">        600</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card.defense</span></span><br><span class="line"><span class="string">        300</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        store=opponent_card.attack</span><br><span class="line">        opponent_card.attack=opponent_card.defense</span><br><span class="line">        opponent_card.defense=store</span><br></pre></td></tr></table></figure>

<h3 id="Q9：The-Instructor-Arrives"><a href="#Q9：The-Instructor-Arrives" class="headerlink" title="Q9：The Instructor Arrives"></a>Q9：The Instructor Arrives</h3><p>optional</p>
<p>有点bug，<del>算了算了</del></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">InstructorCard</span>(<span class="title class_ inherited__">Card</span>):</span><br><span class="line">    cardtype = <span class="string">&#x27;Instructor&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">effect</span>(<span class="params">self, opponent_card, player, opponent</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Adds the attack and defense of the opponent&#x27;s card to</span></span><br><span class="line"><span class="string">        all cards in the player&#x27;s deck, then removes all cards</span></span><br><span class="line"><span class="string">        in the opponent&#x27;s deck that share an attack or defense</span></span><br><span class="line"><span class="string">        stat with the opponent&#x27;s card.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_card = Card(&#x27;card&#x27;, 300, 300)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; instructor_test = InstructorCard(&#x27;Instructor&#x27;, 500, 500)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; opponent_card = test_card.copy()</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_deck = Deck([test_card.copy() for _ in range(8)])</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; player1, player2 = Player(test_deck.copy(), &#x27;p1&#x27;), Player(test_deck.copy(), &#x27;p2&#x27;)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; instructor_test.effect(opponent_card, player1, player2)</span></span><br><span class="line"><span class="string">        3 cards were discarded from p2&#x27;s deck!</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; [(card.attack, card.defense) for card in player1.deck.cards]</span></span><br><span class="line"><span class="string">        [(600, 600), (600, 600), (600, 600)]</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; len(player2.deck.cards)</span></span><br><span class="line"><span class="string">        0</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        orig_opponent_deck_length = <span class="built_in">len</span>(opponent.deck.cards)</span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="comment"># You should add your implementation above this.</span></span><br><span class="line">        <span class="keyword">for</span> i_cards <span class="keyword">in</span> player.deck.cards:</span><br><span class="line">            i_cards.attack+=opponent_card.attack</span><br><span class="line">            i_cards.defense+=opponent_card.defense</span><br><span class="line">        <span class="keyword">for</span> o_cards <span class="keyword">in</span> opponent.deck.cards:</span><br><span class="line">            <span class="keyword">if</span> o_cards.attack==opponent_card.attack <span class="keyword">or</span> o_cards.defense==opponent_card.defense:</span><br><span class="line">                opponent.deck.cards.remove(o_cards)</span><br><span class="line"></span><br><span class="line">        discarded = orig_opponent_deck_length - <span class="built_in">len</span>(opponent.deck.cards)</span><br><span class="line">        <span class="keyword">if</span> discarded:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; cards were discarded from &#123;&#125;\&#x27;s deck!&#x27;</span>.<span class="built_in">format</span>(discarded, opponent.name))</span><br><span class="line">            <span class="keyword">return</span></span><br></pre></td></tr></table></figure>





<h2 id="Project-03：Ants"><a href="#Project-03：Ants" class="headerlink" title="Project 03：Ants"></a>Project 03：Ants</h2><p><strong>Problem 2</strong></p>
<blockquote>
<p><em>Hint:</em> Remember that when the <code>__init__</code> method is called, the first parameter, <code>self</code>, is bound to the newly created object</p>
</blockquote>
<p><strong>Problem 8</strong></p>
<p>好开心！！！尽管改了几次，但最终看到“20 test cases passed! No cases failed.”时巨兴奋</p>
<p>8和7都是3pt。不过7基本上是我看别人代码写出来的（因为自己不太能理解题目和所给的代码意思</p>
<p>但8完全是自己写出来的，写了好久，一句一句地理解题目的意思，写的时候万分怀疑自己这样写是不是对的</p>
<p>希望以后这样的时刻能够多一些</p>
<p><strong>写完的一点感想：</strong></p>
<p>算是写过的三个project里面最难的了，写了好几天（当然，每天的coding时间较之前少</p>
<p>尽管有所参考，但也算是大有收获</p>
<blockquote>
<p>super().action(gamestate)</p>
<p>等同于</p>
<p>FatherClass.action(gamestate) #FatherClass是所继承的类</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;CS 61A presents Ants Vs. SomeBees.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> ucb <span class="keyword">import</span> main, interact, trace</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"></span><br><span class="line"><span class="comment">################</span></span><br><span class="line"><span class="comment"># Core Classes #</span></span><br><span class="line"><span class="comment">################</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Place</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A Place holds insects and has an exit to another Place.&quot;&quot;&quot;</span></span><br><span class="line">    is_hive = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, exit=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Create a Place with the given NAME and EXIT.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        name -- A string; the name of this Place.</span></span><br><span class="line"><span class="string">        exit -- The Place reached by exiting this Place (may be None).</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.exit = exit</span><br><span class="line">        self.bees = []        <span class="comment"># A list of Bees</span></span><br><span class="line">        self.ant = <span class="literal">None</span>       <span class="comment"># An Ant</span></span><br><span class="line">        self.entrance = <span class="literal">None</span>  <span class="comment"># A Place</span></span><br><span class="line">        <span class="comment"># Phase 1: Add an entrance to the exit</span></span><br><span class="line">        <span class="comment"># BEGIN Problem 2</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self.exit:</span><br><span class="line">            exit.entrance=self</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># END Problem 2</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_insect</span>(<span class="params">self, insect</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Asks the insect to add itself to the current place. This method exists so</span></span><br><span class="line"><span class="string">            it can be enhanced in subclasses.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        insect.add_to(self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">remove_insect</span>(<span class="params">self, insect</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Asks the insect to remove itself from the current place. This method exists so</span></span><br><span class="line"><span class="string">            it can be enhanced in subclasses.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        insect.remove_from(self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Insect</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;An Insect, the base class of Ant and Bee, has health and a Place.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    damage = <span class="number">0</span></span><br><span class="line">    is_waterproof=<span class="literal">False</span></span><br><span class="line">    <span class="comment"># ADD CLASS ATTRIBUTES HERE</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, health, place=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Create an Insect with a health amount and a starting PLACE.&quot;&quot;&quot;</span></span><br><span class="line">        self.health = health</span><br><span class="line">        self.place = place  <span class="comment"># set by Place.add_insect and Place.remove_insect</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reduce_health</span>(<span class="params">self, amount</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Reduce health by AMOUNT, and remove the insect from its place if it</span></span><br><span class="line"><span class="string">        has no health remaining.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_insect = Insect(5)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_insect.reduce_health(2)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; test_insect.health</span></span><br><span class="line"><span class="string">        3</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.health -= amount</span><br><span class="line">        <span class="keyword">if</span> self.health &lt;= <span class="number">0</span>:</span><br><span class="line">            self.death_callback()</span><br><span class="line">            self.place.remove_insect(self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">action</span>(<span class="params">self, gamestate</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;The action performed each turn.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        gamestate -- The GameState, used to access game state information.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">death_callback</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># overriden by the gui</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_to</span>(<span class="params">self, place</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Add this Insect to the given Place</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        By default just sets the place attribute, but this should be overriden in the subclasses</span></span><br><span class="line"><span class="string">            to manipulate the relevant attributes of Place</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.place = place</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">remove_from</span>(<span class="params">self, place</span>):</span><br><span class="line">        self.place = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        cname = <span class="built_in">type</span>(self).__name__</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#123;0&#125;(&#123;1&#125;, &#123;2&#125;)&#x27;</span>.<span class="built_in">format</span>(cname, self.health, self.place)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ant</span>(<span class="title class_ inherited__">Insect</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;An Ant occupies a place and does work for the colony.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    implemented = <span class="literal">False</span>  <span class="comment"># Only implemented Ant classes should be instantiated</span></span><br><span class="line">    food_cost = <span class="number">0</span></span><br><span class="line">    is_container = <span class="literal">False</span></span><br><span class="line">    buffed=<span class="literal">False</span></span><br><span class="line">    <span class="comment"># ADD CLASS ATTRIBUTES HERE</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, health=<span class="number">1</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Create an Insect with a HEALTH quantity.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(health)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">construct</span>(<span class="params">cls, gamestate</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Create an Ant for a given GameState, or return None if not possible.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> cls.food_cost &gt; gamestate.food:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Not enough food remains to place &#x27;</span> + cls.__name__)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">return</span> cls()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">can_contain</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">store_ant</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">assert</span> <span class="literal">False</span>, <span class="string">&quot;&#123;0&#125; cannot contain an ant&quot;</span>.<span class="built_in">format</span>(self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">remove_ant</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">assert</span> <span class="literal">False</span>, <span class="string">&quot;&#123;0&#125; cannot contain an ant&quot;</span>.<span class="built_in">format</span>(self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_to</span>(<span class="params">self, place</span>):</span><br><span class="line">        <span class="keyword">if</span> place.ant <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            place.ant = self</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># BEGIN Problem 8</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> place.ant.can_contain(self):  <span class="comment">#这个函数要不要改一下形式？</span></span><br><span class="line">                place.ant.ant_contained=self</span><br><span class="line">            <span class="keyword">elif</span> self.can_contain(place.ant):</span><br><span class="line">                self.ant_contained=place.ant</span><br><span class="line">                place.ant=self  <span class="comment">#这里要不要把二者交换，也就是令self=place.ant？</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">assert</span> place.ant <span class="keyword">is</span> <span class="literal">None</span>, <span class="string">&#x27;Two ants in &#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(place)</span><br><span class="line">            <span class="comment"># END Problem 8</span></span><br><span class="line">        Insect.add_to(self, place)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">remove_from</span>(<span class="params">self, place</span>):</span><br><span class="line">        <span class="keyword">if</span> place.ant <span class="keyword">is</span> self:</span><br><span class="line">            place.ant = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">elif</span> place.ant <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">assert</span> <span class="literal">False</span>, <span class="string">&#x27;&#123;0&#125; is not in &#123;1&#125;&#x27;</span>.<span class="built_in">format</span>(self, place)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            place.ant.remove_ant(self)</span><br><span class="line">        Insect.remove_from(self, place)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">buff</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Double this ants&#x27;s damage, if it has not already been buffed.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN Problem 12</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.buffed:</span><br><span class="line">            self.damage*=<span class="number">2</span></span><br><span class="line">            self.buffed=<span class="literal">True</span></span><br><span class="line">        <span class="comment"># END Problem 12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HarvesterAnt</span>(<span class="title class_ inherited__">Ant</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;HarvesterAnt produces 1 additional food per turn for the colony.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    name = <span class="string">&#x27;Harvester&#x27;</span></span><br><span class="line">    implemented = <span class="literal">True</span></span><br><span class="line">    <span class="comment"># OVERRIDE CLASS ATTRIBUTES HERE</span></span><br><span class="line">    food_cost=<span class="number">2</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">action</span>(<span class="params">self, gamestate</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Produce 1 additional food for the colony.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        gamestate -- The GameState, used to access game state information.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN Problem 1</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        gamestate.food+=<span class="number">1</span></span><br><span class="line">        <span class="comment"># END Problem 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThrowerAnt</span>(<span class="title class_ inherited__">Ant</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ThrowerAnt throws a leaf each turn at the nearest Bee in its range.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    name = <span class="string">&#x27;Thrower&#x27;</span></span><br><span class="line">    implemented = <span class="literal">True</span></span><br><span class="line">    damage = <span class="number">1</span></span><br><span class="line">    max_range=<span class="number">3</span></span><br><span class="line">    min_range=<span class="number">5</span></span><br><span class="line">    <span class="comment"># ADD/OVERRIDE CLASS ATTRIBUTES HERE</span></span><br><span class="line">    food_cost=<span class="number">3</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">nearest_bee</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Return the nearest Bee in a Place that is not the HIVE, connected to</span></span><br><span class="line"><span class="string">        the ThrowerAnt&#x27;s Place by following entrances.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        This method returns None if there is no such Bee (or none in range).</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN Problem 3 and 4</span></span><br><span class="line">        current_place=self.place    <span class="comment">#Start from the current Place of the ThrowerAnt</span></span><br><span class="line">        <span class="keyword">while</span> current_place.entrance: <span class="comment">#只要不是hive</span></span><br><span class="line">            <span class="keyword">if</span> current_place.bees:</span><br><span class="line">                <span class="keyword">return</span> random_bee(current_place.bees)</span><br><span class="line">            current_place=current_place.entrance    </span><br><span class="line">        <span class="comment">#感觉就是把题目的那几句话翻译出来</span></span><br><span class="line">        <span class="comment"># END Problem 3 and 4</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">throw_at</span>(<span class="params">self, target</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Throw a leaf at the TARGET Bee, reducing its health.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> target <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            target.reduce_health(self.damage)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">action</span>(<span class="params">self, gamestate</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Throw a leaf at the nearest Bee in range.&quot;&quot;&quot;</span></span><br><span class="line">        self.throw_at(self.nearest_bee())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">random_bee</span>(<span class="params">bees</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a random bee from a list of bees, or return None if bees is empty.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">isinstance</span>(bees, <span class="built_in">list</span>), <span class="string">&quot;random_bee&#x27;s argument should be a list but was a %s&quot;</span> % <span class="built_in">type</span>(bees).__name__</span><br><span class="line">    <span class="keyword">if</span> bees:</span><br><span class="line">        <span class="keyword">return</span> random.choice(bees)</span><br><span class="line"></span><br><span class="line"><span class="comment">##############</span></span><br><span class="line"><span class="comment"># Extensions #</span></span><br><span class="line"><span class="comment">##############</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ShortThrower</span>(<span class="title class_ inherited__">ThrowerAnt</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A ThrowerAnt that only throws leaves at Bees at most 3 places away.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    name = <span class="string">&#x27;Short&#x27;</span></span><br><span class="line">    food_cost = <span class="number">2</span></span><br><span class="line">    <span class="comment"># OVERRIDE CLASS ATTRIBUTES HERE</span></span><br><span class="line">    <span class="comment"># BEGIN Problem 4</span></span><br><span class="line">    implemented = <span class="literal">True</span>   <span class="comment"># Change to True to view in the GUI</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">nearest_bee</span>(<span class="params">self</span>):</span><br><span class="line">        count=<span class="number">0</span></span><br><span class="line">        current_place=self.place</span><br><span class="line">        <span class="keyword">while</span> count&lt;self.max_range <span class="keyword">and</span> current_place.entrance:</span><br><span class="line">            <span class="keyword">if</span> current_place.bees:</span><br><span class="line">                <span class="keyword">return</span> random_bee(current_place.bees)</span><br><span class="line">            current_place=current_place.entrance</span><br><span class="line">            count+=<span class="number">1</span></span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">    <span class="comment"># END Problem 4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LongThrower</span>(<span class="title class_ inherited__">ThrowerAnt</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A ThrowerAnt that only throws leaves at Bees at least 5 places away.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    name = <span class="string">&#x27;Long&#x27;</span></span><br><span class="line">    food_cost = <span class="number">2</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># OVERRIDE CLASS ATTRIBUTES HERE</span></span><br><span class="line">    <span class="comment"># BEGIN Problem 4</span></span><br><span class="line">    implemented = <span class="literal">True</span>   <span class="comment"># Change to True to view in the GUI</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">nearest_bee</span>(<span class="params">self</span>):</span><br><span class="line">        current_place=self.place</span><br><span class="line">        <span class="keyword">while</span> current_place.entrance.entrance.entrance.entrance.entrance: <span class="comment">#妙在这里</span></span><br><span class="line">            <span class="keyword">if</span> current_place.bees:</span><br><span class="line">                <span class="keyword">return</span> random_bee(current_place.bees)</span><br><span class="line">            current_place=current_place.entrance</span><br><span class="line"></span><br><span class="line">    <span class="comment"># END Problem 4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FireAnt</span>(<span class="title class_ inherited__">Ant</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;FireAnt cooks any Bee in its Place when it expires.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    name = <span class="string">&#x27;Fire&#x27;</span></span><br><span class="line">    damage = <span class="number">3</span></span><br><span class="line">    food_cost = <span class="number">5</span></span><br><span class="line">    <span class="comment"># OVERRIDE CLASS ATTRIBUTES HERE</span></span><br><span class="line">    <span class="comment"># BEGIN Problem 5</span></span><br><span class="line">    implemented = <span class="literal">True</span>   <span class="comment"># Change to True to view in the GUI</span></span><br><span class="line">    <span class="comment"># END Problem 5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, health=<span class="number">3</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Create an Ant with a HEALTH quantity.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(health)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reduce_health</span>(<span class="params">self, amount</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Reduce health by AMOUNT, and remove the FireAnt from its place if it</span></span><br><span class="line"><span class="string">        has no health remaining.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Make sure to reduce the health of each bee in the current place, and apply</span></span><br><span class="line"><span class="string">        the additional damage if the fire ant dies.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN Problem 5</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        current_place=self.place</span><br><span class="line">        <span class="keyword">for</span> bee <span class="keyword">in</span> current_place.bees[:]:</span><br><span class="line">            bee.reduce_health(amount)</span><br><span class="line">        <span class="keyword">if</span> amount&gt;=self.health:   <span class="comment">#amount指蛰fireant的蜜蜂数量，此处指fireant的health为零</span></span><br><span class="line">            <span class="keyword">for</span> bee <span class="keyword">in</span> current_place.bees[:]:</span><br><span class="line">                bee.reduce_health(self.damage)</span><br><span class="line">            <span class="built_in">super</span>().reduce_health(amount)  <span class="comment">#可以根据提示？</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">super</span>().reduce_health(amount)</span><br><span class="line">        <span class="comment"># END Problem 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BEGIN Problem 6</span></span><br><span class="line"><span class="comment"># The WallAnt class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WallAnt</span>(<span class="title class_ inherited__">Ant</span>):</span><br><span class="line">    name=<span class="string">&#x27;Wall&#x27;</span></span><br><span class="line">    food_cost=<span class="number">4</span></span><br><span class="line">    implemented=<span class="literal">True</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, health=<span class="number">4</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(health)</span><br><span class="line"><span class="comment"># END Problem 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BEGIN Problem 7</span></span><br><span class="line"><span class="comment"># The HungryAnt Class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HungryAnt</span>(<span class="title class_ inherited__">Ant</span>):</span><br><span class="line">    name=<span class="string">&#x27;Hungry&#x27;</span></span><br><span class="line">    implemented=<span class="literal">True</span></span><br><span class="line">    food_cost=<span class="number">4</span></span><br><span class="line">    chew_duration=<span class="number">3</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,health=<span class="number">1</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(health)</span><br><span class="line">        self.chew_countdown=<span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">action</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.chew_countdown!=<span class="number">0</span>:</span><br><span class="line">            self.chew_countdown-=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            current_place=self.place</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(current_place.bees)&gt;<span class="number">0</span>:</span><br><span class="line">                self.chew_countdown=self.chew_duration</span><br><span class="line">                bee=random_bee(current_place.bees)</span><br><span class="line">                bee.reduce_health(bee.health)</span><br><span class="line"><span class="comment"># END Problem 7</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ContainerAnt</span>(<span class="title class_ inherited__">Ant</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ContainerAnt can share a space with other ants by containing them.</span></span><br><span class="line"><span class="string">    ant_contained: stores the ant it contains</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    is_container = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(*args, **kwargs)</span><br><span class="line">        self.ant_contained = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">can_contain</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="comment"># BEGIN Problem 8</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> other.is_container <span class="keyword">and</span> self.ant_contained ==<span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="comment"># END Problem 8</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">store_ant</span>(<span class="params">self, ant</span>):</span><br><span class="line">        <span class="comment"># BEGIN Problem 8</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.ant_contained=ant</span><br><span class="line">        <span class="comment"># END Problem 8</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">remove_ant</span>(<span class="params">self, ant</span>):</span><br><span class="line">        <span class="keyword">if</span> self.ant_contained <span class="keyword">is</span> <span class="keyword">not</span> ant:</span><br><span class="line">            <span class="keyword">assert</span> <span class="literal">False</span>, <span class="string">&quot;&#123;&#125; does not contain &#123;&#125;&quot;</span>.<span class="built_in">format</span>(self, ant)</span><br><span class="line">        self.ant_contained = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">remove_from</span>(<span class="params">self, place</span>):</span><br><span class="line">        <span class="comment"># Special handling for container ants (this is optional)</span></span><br><span class="line">        <span class="keyword">if</span> place.ant <span class="keyword">is</span> self:</span><br><span class="line">            <span class="comment"># Container was removed. Contained ant should remain in the game</span></span><br><span class="line">            place.ant = place.ant.ant_contained</span><br><span class="line">            Insect.remove_from(self, place)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># default to normal behavior</span></span><br><span class="line">            Ant.remove_from(self, place)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">action</span>(<span class="params">self, gamestate</span>):</span><br><span class="line">        <span class="comment"># BEGIN Problem 8</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self.ant_contained!=<span class="literal">None</span>:</span><br><span class="line">            self.ant_contained.action(gamestate)  </span><br><span class="line">        <span class="comment"># END Problem 8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BodyguardAnt</span>(<span class="title class_ inherited__">ContainerAnt</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;BodyguardAnt provides protection to other Ants.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    name = <span class="string">&#x27;Bodyguard&#x27;</span></span><br><span class="line">    food_cost = <span class="number">4</span></span><br><span class="line">    <span class="comment"># OVERRIDE CLASS ATTRIBUTES HERE</span></span><br><span class="line">    <span class="comment"># BEGIN Problem 8</span></span><br><span class="line">    implemented = <span class="literal">True</span>   <span class="comment"># Change to True to view in the GUI</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,health=<span class="number">2</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(health)</span><br><span class="line">    <span class="comment"># END Problem 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BEGIN Problem 9</span></span><br><span class="line"><span class="comment"># The TankAnt class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TankAnt</span>(<span class="title class_ inherited__">ContainerAnt</span>):</span><br><span class="line">    name=<span class="string">&#x27;Tank&#x27;</span></span><br><span class="line">    food_cost=<span class="number">6</span></span><br><span class="line">    damage=<span class="number">1</span></span><br><span class="line">    implemented=<span class="literal">True</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,health=<span class="number">2</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(health)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">action</span>(<span class="params">self,gamestate</span>):</span><br><span class="line">        current_place=self.place</span><br><span class="line">        <span class="keyword">if</span> self.ant_contained!=<span class="literal">None</span>:</span><br><span class="line">            self.ant_contained.action(gamestate)</span><br><span class="line">        <span class="keyword">for</span> bee <span class="keyword">in</span> current_place.bees[:]:</span><br><span class="line">            bee.reduce_health(self.damage)</span><br><span class="line"><span class="comment"># END Problem 9</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Water</span>(<span class="title class_ inherited__">Place</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Water is a place that can only hold waterproof insects.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_insect</span>(<span class="params">self, insect</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Add an Insect to this place. If the insect is not waterproof, reduce</span></span><br><span class="line"><span class="string">        its health to 0.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN Problem 10</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="built_in">super</span>().add_insect(insect)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> insect.is_waterproof:</span><br><span class="line">            insect.reduce_health(insect.health)</span><br><span class="line">        <span class="comment"># END Problem 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BEGIN Problem 11</span></span><br><span class="line"><span class="comment"># The ScubaThrower class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ScubaThrower</span>(<span class="title class_ inherited__">ThrowerAnt</span>):</span><br><span class="line">    food_cost=<span class="number">6</span></span><br><span class="line">    is_waterproof=<span class="literal">True</span></span><br><span class="line">    name=<span class="string">&#x27;Scuba&#x27;</span></span><br><span class="line">    implemented=<span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># END Problem 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BEGIN Problem 12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QueenAnt</span>(<span class="title class_ inherited__">ScubaThrower</span>):  <span class="comment"># You should change this line</span></span><br><span class="line"><span class="comment"># END Problem 12</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;The Queen of the colony. The game is over if a bee enters her place.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    name = <span class="string">&#x27;Queen&#x27;</span></span><br><span class="line">    food_cost = <span class="number">7</span></span><br><span class="line">    is_queenant=<span class="literal">True</span></span><br><span class="line">    <span class="comment"># OVERRIDE CLASS ATTRIBUTES HERE</span></span><br><span class="line">    <span class="comment"># BEGIN Problem 12</span></span><br><span class="line">    implemented = <span class="literal">True</span>   <span class="comment"># Change to True to view in the GUI</span></span><br><span class="line">    <span class="comment"># END Problem 12</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">construct</span>(<span class="params">cls, gamestate</span>): <span class="comment">#有一定参考</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns a new instance of the Ant class if it is possible to construct, or</span></span><br><span class="line"><span class="string">        returns None otherwise. Remember to call the construct() method of the superclass!</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN Problem 12</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        cls.is_queenant=QueenAnt.is_queenant</span><br><span class="line">        <span class="keyword">if</span> cls.food_cost &gt; gamestate.food:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Not enough food remains to place &#x27;</span> + cls.__name__)</span><br><span class="line">            <span class="keyword">return</span> </span><br><span class="line">        <span class="keyword">elif</span> cls.is_queenant:</span><br><span class="line">            QueenAnt.is_queenant=<span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">super</span>().construct(gamestate)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="comment"># END Problem 12</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">action</span>(<span class="params">self, gamestate</span>):  <span class="comment">#有一定参考</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;A queen ant throws a leaf, but also doubles the damage of ants</span></span><br><span class="line"><span class="string">        in her tunnel.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN Problem 12</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="comment">#if not self.is_queenant:</span></span><br><span class="line">            <span class="comment">#self.reduce_health(self.health)</span></span><br><span class="line">        <span class="comment">#else:</span></span><br><span class="line">        <span class="built_in">super</span>().action(gamestate)</span><br><span class="line">        behind=self.place.exit</span><br><span class="line">        <span class="keyword">while</span> behind:</span><br><span class="line">            <span class="keyword">if</span> behind.ant!=<span class="literal">None</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> behind.ant.buffed:</span><br><span class="line">                    behind.ant.buff()</span><br><span class="line">                <span class="keyword">if</span> behind.ant.is_container <span class="keyword">and</span> behind.ant.ant_contained:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> behind.ant.ant_contained.buffed:</span><br><span class="line">                        behind.ant.ant_contained.buff()</span><br><span class="line">            behind=behind.exit</span><br><span class="line"></span><br><span class="line">        <span class="comment"># END Problem 12</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reduce_health</span>(<span class="params">self, amount</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Reduce health by AMOUNT, and if the QueenAnt has no health</span></span><br><span class="line"><span class="string">        remaining, signal the end of the game.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN Problem 12</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        current_place=self.place</span><br><span class="line">        <span class="keyword">for</span> bee <span class="keyword">in</span> current_place.bees[:]:</span><br><span class="line">            bee.reduce_health(amount)</span><br><span class="line">        <span class="keyword">if</span> amount&gt;=self.health:</span><br><span class="line">            ants_lose()</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">remove_from</span>(<span class="params">self,place</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        if place.ant is self:</span></span><br><span class="line"><span class="string">            return</span></span><br><span class="line"><span class="string">        elif place.ant is None:</span></span><br><span class="line"><span class="string">            assert False, &#x27;&#123;0&#125; is not in &#123;1&#125;&#x27;.format(self, place)</span></span><br><span class="line"><span class="string">        else:</span></span><br><span class="line"><span class="string">            place.ant.remove_ant(self)</span></span><br><span class="line"><span class="string">        Insect.remove_from(self, place)</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="literal">None</span>   <span class="comment">#疑惑，为什么不能像上面那样写</span></span><br><span class="line">        <span class="comment"># END Problem 12</span></span><br></pre></td></tr></table></figure>

<p><del>后面的optional部分就不写了，也没有截取到上面</del></p>
<h2 id="Disc-07：Object-Oriented-Programming-String-Repredentation"><a href="#Disc-07：Object-Oriented-Programming-String-Repredentation" class="headerlink" title="Disc 07：Object-Oriented Programming, String Repredentation"></a>Disc 07：Object-Oriented Programming, String Repredentation</h2><h3 id="Q2：Keyboard"><a href="#Q2：Keyboard" class="headerlink" title="Q2：Keyboard"></a>Q2：Keyboard</h3><p>未debug版（悲</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, pos, key</span>):</span><br><span class="line">        self.pos = pos</span><br><span class="line">        self.key = key</span><br><span class="line">        self.times_pressed = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Keyboard</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A Keyboard takes in an arbitrary amount of buttons, and has a</span></span><br><span class="line"><span class="string">    dictionary of positions as keys, and values as Buttons.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b1 = Button(0, &quot;H&quot;)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b2 = Button(1, &quot;I&quot;)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; k = Keyboard(b1, b2)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; k.buttons[0].key   #dictionary的key</span></span><br><span class="line"><span class="string">    &#x27;H&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; k.press(1)</span></span><br><span class="line"><span class="string">    &#x27;I&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; k.press(2) # No button at this position</span></span><br><span class="line"><span class="string">    &#x27;&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; k.typing([0, 1])</span></span><br><span class="line"><span class="string">    &#x27;HI&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; k.typing([1, 0])</span></span><br><span class="line"><span class="string">    &#x27;IH&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b1.times_pressed</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b2.times_pressed</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args</span>):</span><br><span class="line">        self.buttons=&#123;&#125;  <span class="comment">#dictionary</span></span><br><span class="line">        <span class="keyword">for</span> args <span class="keyword">in</span> args:    <span class="comment">#为什么这个要这样写，悲</span></span><br><span class="line">            self.buttons[args.pos]=args</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">press</span>(<span class="params">self, info</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Takes in a position of the button pressed, and</span></span><br><span class="line"><span class="string">        returns that button&#x27;s output.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> info&lt;=<span class="built_in">len</span>(self.buttons):</span><br><span class="line">            <span class="keyword">return</span> self.buttons[info].key</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">typing</span>(<span class="params">self, typing_input</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Takes in a list of positions of buttons pressed, and</span></span><br><span class="line"><span class="string">        returns the total output.&quot;&quot;&quot;</span></span><br><span class="line">        output=<span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> typing_input:</span><br><span class="line">            output+=typing_input[index(word)]</span><br><span class="line">        <span class="keyword">return</span> output</span><br></pre></td></tr></table></figure>



<h3 id="Q3：Cat"><a href="#Q3：Cat" class="headerlink" title="Q3：Cat"></a>Q3：Cat</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Pet</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, owner, lives=<span class="number">9</span></span>):</span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.name=name</span><br><span class="line">        self.owner=owner</span><br><span class="line">        self.lives=lives</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">talk</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Print out a cat&#x27;s greeting.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; Cat(&#x27;Thomas&#x27;, &#x27;Tammy&#x27;).talk()</span></span><br><span class="line"><span class="string">        Thomas says meow!</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; says meow!&#x27;</span>.<span class="built_in">format</span>(self.name))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lose_life</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Decrements a cat&#x27;s life by 1. When lives reaches zero,</span></span><br><span class="line"><span class="string">        is_alive becomes False. If this is called after lives has</span></span><br><span class="line"><span class="string">        reached zero, print &#x27;This cat has no more lives to lose.&#x27;</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self.lives==<span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;This cat has no more lives to lose.&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q4：NoisyCat"><a href="#Q4：NoisyCat" class="headerlink" title="Q4：NoisyCat"></a>Q4：NoisyCat</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, owner, lives=<span class="number">9</span></span>):</span><br><span class="line">        <span class="comment"># Is this method necessary? Why or why not?</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.name=name</span><br><span class="line">        self.owner=owner</span><br><span class="line">        self.lives=lives</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">talk</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Talks twice as much as a regular cat.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; NoisyCat(&#x27;Magic&#x27;, &#x27;James&#x27;).talk()</span></span><br><span class="line"><span class="string">        Magic says meow!</span></span><br><span class="line"><span class="string">        Magic says meow!</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; says meow!&#x27;</span>.<span class="built_in">format</span>(self.name))</span><br></pre></td></tr></table></figure>

<h3 id="Q5：Cat-Adoption（cls用法"><a href="#Q5：Cat-Adoption（cls用法" class="headerlink" title="Q5：Cat Adoption（cls用法"></a>Q5：Cat Adoption（cls用法</h3><p>…to be continued</p>
<p>需要领悟一下cls的用法</p>
<blockquote>
<p>关于cls：</p>
<p>一般来说，要使用某个类的方法，需要先实例化一个对象再调用方法,而使用@staticmethod或@classmethod，就可以不需要实例化，直接类名.方法名()来调用。</p>
<p><strong>cls在python中表示类本身，self为类的一个实例</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">        ...</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">build</span>(<span class="params">cls</span>):</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>

<p>则cls()等于Person()，Person.build()返回一个Person的实例</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Pet</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, owner, lives=<span class="number">9</span></span>):</span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.name=name</span><br><span class="line">        self.owner=owner</span><br><span class="line">        self.lives=lives</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Insert other previously defined methods here</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">adopt_random_cat</span>(<span class="params">cls, owner</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns a new instance of a Cat with the given owner,</span></span><br><span class="line"><span class="string">        a randomly chosen name and a random number of lives.</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; randcat = Cat.adopt_random_cat(&quot;Ifeoma&quot;)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; isinstance(randcat, Cat)</span></span><br><span class="line"><span class="string">        True</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; randcat.owner</span></span><br><span class="line"><span class="string">        &#x27;Ifeoma&#x27;</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        cls.name=random.choice[]   <span class="comment">#这个函数用的不对</span></span><br><span class="line">        cls.lives=random.randint(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">return</span> cls(name, owner, lives)</span><br></pre></td></tr></table></figure>

<p>就这样吧，有气无力.jpg</p>
<h2 id="HW-06：Object-Oriented-Programming-Linked-Lists"><a href="#HW-06：Object-Oriented-Programming-Linked-Lists" class="headerlink" title="HW 06：Object-Oriented Programming, Linked Lists"></a>HW 06：Object-Oriented Programming, Linked Lists</h2><h3 id="Q1-Vending-Machine"><a href="#Q1-Vending-Machine" class="headerlink" title="Q1:Vending Machine"></a>Q1:Vending Machine</h3><p>c++里类似cout的操作在python中可以用f表达式代替</p>
<p>各函数功能：</p>
<p>__init__：初始化</p>
<p>vend：出售物品</p>
<p>add_funds：增加所有的balance</p>
<p>restock：能被购买的物品数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VendingMachine</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A vending machine that vends some product for some price.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v = VendingMachine(&#x27;candy&#x27;, 10)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.vend()</span></span><br><span class="line"><span class="string">    &#x27;Nothing left to vend. Please restock.&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.add_funds(15)</span></span><br><span class="line"><span class="string">    &#x27;Nothing left to vend. Please restock. Here is your $15.&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.restock(2)</span></span><br><span class="line"><span class="string">    &#x27;Current candy stock: 2&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.vend()</span></span><br><span class="line"><span class="string">    &#x27;You must add $10 more funds.&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.add_funds(7)</span></span><br><span class="line"><span class="string">    &#x27;Current balance: $7&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.vend()</span></span><br><span class="line"><span class="string">    &#x27;You must add $3 more funds.&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.add_funds(5)</span></span><br><span class="line"><span class="string">    &#x27;Current balance: $12&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.vend()</span></span><br><span class="line"><span class="string">    &#x27;Here is your candy and $2 change.&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.add_funds(10)</span></span><br><span class="line"><span class="string">    &#x27;Current balance: $10&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.vend()</span></span><br><span class="line"><span class="string">    &#x27;Here is your candy.&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; v.add_funds(15)</span></span><br><span class="line"><span class="string">    &#x27;Nothing left to vend. Please restock. Here is your $15.&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; w = VendingMachine(&#x27;soda&#x27;, 2)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; w.restock(3)</span></span><br><span class="line"><span class="string">    &#x27;Current soda stock: 3&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; w.restock(3)</span></span><br><span class="line"><span class="string">    &#x27;Current soda stock: 6&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; w.add_funds(2)</span></span><br><span class="line"><span class="string">    &#x27;Current balance: $2&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; w.vend()</span></span><br><span class="line"><span class="string">    &#x27;Here is your soda.&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,price</span>):</span><br><span class="line">        self.name=name</span><br><span class="line">        self.price=price</span><br><span class="line">        self.stock=<span class="number">0</span></span><br><span class="line">        self.balance=<span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">vend</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.stock&lt;=<span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;&#x27;Nothing left to vend. Please restock.&#x27;&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> self.balance&lt;self.price:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;&#x27;You must add $<span class="subst">&#123;self.price-self.balance&#125;</span> more funds.&#x27;&quot;</span>)</span><br><span class="line">            <span class="keyword">elif</span> self.balance&gt;self.price:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;&#x27;Here is your <span class="subst">&#123;self.name&#125;</span> and $<span class="subst">&#123;self.balance-self.price&#125;</span> change.&#x27;&quot;</span>)</span><br><span class="line">                self.balance=<span class="number">0</span></span><br><span class="line">                self.stock-=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;&#x27;Here is your <span class="subst">&#123;self.name&#125;</span>.&#x27;&quot;</span>)</span><br><span class="line">                self.balance=<span class="number">0</span></span><br><span class="line">                self.stock-=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_funds</span>(<span class="params">self,funds</span>):</span><br><span class="line">        <span class="keyword">if</span> self.stock&lt;=<span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;&#x27;Nothing left to vend. Please restock. Here is your $<span class="subst">&#123;funds&#125;</span>.&#x27;&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.balance+=funds</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;&#x27;Current balance: $<span class="subst">&#123;self.balance&#125;</span>&#x27;&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">restock</span>(<span class="params">self,num</span>):</span><br><span class="line">        self.stock+=num</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;&#x27;Current <span class="subst">&#123;self.name&#125;</span> stock: <span class="subst">&#123;self.stock&#125;</span>&#x27;&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br></pre></td></tr></table></figure>



<h3 id="Q2：Mint"><a href="#Q2：Mint" class="headerlink" title="Q2：Mint"></a>Q2：Mint</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Mint</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;A mint creates coins by stamping on years.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    The update method sets the mint&#x27;s stamp to Mint.present_year.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; mint = Mint()</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; mint.year</span></span><br><span class="line"><span class="string">    2021</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; dime = mint.create(Dime)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; dime.year</span></span><br><span class="line"><span class="string">    2021</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; Mint.present_year = 2101  # Time passes</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; nickel = mint.create(Nickel)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; nickel.year     # The mint has not updated its stamp yet</span></span><br><span class="line"><span class="string">    2021</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; nickel.worth()  # 5 cents + (80 - 50 years)</span></span><br><span class="line"><span class="string">    35</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; mint.update()   # The mint&#x27;s year is updated to 2101</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; Mint.present_year = 2176     # More time passes</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; mint.create(Dime).worth()    # 10 cents + (75 - 50 years)</span></span><br><span class="line"><span class="string">    35</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; Mint().create(Dime).worth()  # A new mint has the current year</span></span><br><span class="line"><span class="string">    10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; dime.worth()     # 10 cents + (155 - 50 years)</span></span><br><span class="line"><span class="string">    115</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; Dime.cents = 20  # Upgrade all dimes!</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; dime.worth()     # 20 cents + (155 - 50 years)</span></span><br><span class="line"><span class="string">    125</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    present_year = <span class="number">2021</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.update()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, kind</span>):</span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> kind(self.year)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.year=Mint.present_year</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Coin</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, year</span>):</span><br><span class="line">        self.year = year</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">worth</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> self.cents+<span class="built_in">max</span>(<span class="number">0</span>,Mint.present_year-self.year-<span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Nickel</span>(<span class="title class_ inherited__">Coin</span>):</span><br><span class="line">    cents = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dime</span>(<span class="title class_ inherited__">Coin</span>):</span><br><span class="line">    cents = <span class="number">10</span></span><br></pre></td></tr></table></figure>



<h3 id="Q3：Store-Digits"><a href="#Q3：Store-Digits" class="headerlink" title="Q3：Store Digits"></a>Q3：Store Digits</h3><p>由于n是从右往左遍历，故也采用向前插入数据构建链表的方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">store_digits</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Stores the digits of a positive number n in a linked list.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s = store_digits(1)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; s</span></span><br><span class="line"><span class="string">    Link(1)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; store_digits(2345)</span></span><br><span class="line"><span class="string">    Link(2, Link(3, Link(4, Link(5))))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; store_digits(876)</span></span><br><span class="line"><span class="string">    Link(8, Link(7, Link(6)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # a check for restricted functions</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; import inspect, re</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cleaned = re.sub(r&quot;#.*\\n&quot;, &#x27;&#x27;, re.sub(r&#x27;&quot;&#123;3&#125;[\s\S]*?&quot;&#123;3&#125;&#x27;, &#x27;&#x27;, inspect.getsource(store_digits)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(&quot;Do not use str or reversed!&quot;) if any([r in cleaned for r in [&quot;str&quot;, &quot;reversed&quot;]]) else None</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; link1 = Link(3, Link(Link(4), Link(5, Link(6))))</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    res=Link.empty</span><br><span class="line">    <span class="keyword">while</span> n&gt;<span class="number">0</span>:</span><br><span class="line">        rem=Link(n%<span class="number">10</span>)   <span class="comment">#这里一定要是Link，不能是单独的数字</span></span><br><span class="line">        rem.rest=res</span><br><span class="line">        res=rem</span><br><span class="line">        n=n//<span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> rem</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Mutable-Mapping"><a href="#Q4：Mutable-Mapping" class="headerlink" title="Q4：Mutable Mapping"></a>Q4：Mutable Mapping</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">deep_map_mut</span>(<span class="params">fn, link</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Mutates a deep link by replacing each item found with the</span></span><br><span class="line"><span class="string">    result of calling fn on the item.  Does NOT create new Links (so</span></span><br><span class="line"><span class="string">    no use of Link&#x27;s constructor)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Does not return the modified Link object.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; link1 = Link(3, Link(Link(4), Link(5, Link(6))))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # Disallow the use of making new Links before calling deep_map_mut</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; Link.__init__, hold = lambda *args: print(&quot;Do not create any new Links.&quot;), Link.__init__</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; try:</span></span><br><span class="line"><span class="string">    ...     deep_map_mut(lambda x: x * x, link1)</span></span><br><span class="line"><span class="string">    ... finally:</span></span><br><span class="line"><span class="string">    ...     Link.__init__ = hold</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(link1)</span></span><br><span class="line"><span class="string">    &lt;9 &lt;16&gt; 25 36&gt;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> link <span class="keyword">is</span> Link.empty:    <span class="comment">#不能忘了link为empty的情况，否则递归无法完成</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(link.first,Link):</span><br><span class="line">            deep_map_mut(fn,link.first)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            link.first=fn(link.first)</span><br><span class="line">        deep_map_mut(fn,link.rest)</span><br></pre></td></tr></table></figure>



<h3 id="Q5-Two-List"><a href="#Q5-Two-List" class="headerlink" title="Q5:Two List"></a>Q5:Two List</h3><p>主要是想办法把vals的元素与amounts中相应位置的数量联系起来</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">two_list</span>(<span class="params">vals, amounts</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Returns a linked list according to the two lists that were passed in. Assume</span></span><br><span class="line"><span class="string">    vals and amounts are the same size. Elements in vals represent the value, and the</span></span><br><span class="line"><span class="string">    corresponding element in amounts represents the number of this value desired in the</span></span><br><span class="line"><span class="string">    final linked list. Assume all elements in amounts are greater than 0. Assume both</span></span><br><span class="line"><span class="string">    lists have at least one element.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = [1, 3, 2]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = [1, 1, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c = two_list(a, b)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c</span></span><br><span class="line"><span class="string">    Link(1, Link(3, Link(2)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = [1, 3, 2]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = [2, 2, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c = two_list(a, b)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c</span></span><br><span class="line"><span class="string">    Link(1, Link(1, Link(3, Link(3, Link(2)))))</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    vals.reverse()</span><br><span class="line">    amounts.reverse()</span><br><span class="line">    res=Link.empty</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(vals)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(amounts[i]):</span><br><span class="line">            res=Link(vals[i],res)</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h2 id="Lab-08：Linked-Lists-Mutable-Trees"><a href="#Lab-08：Linked-Lists-Mutable-Trees" class="headerlink" title="Lab 08：Linked Lists, Mutable Trees"></a>Lab 08：Linked Lists, Mutable Trees</h2><h3 id="Q2：Convert-Link"><a href="#Q2：Convert-Link" class="headerlink" title="Q2：Convert Link"></a>Q2：Convert Link</h3><p>简单的recursive</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">convert_link</span>(<span class="params">link</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Takes a linked list and returns a Python list with the same elements.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; link = Link(1, Link(2, Link(3, Link(4))))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; convert_link(link)</span></span><br><span class="line"><span class="string">    [1, 2, 3, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; convert_link(Link.empty)</span></span><br><span class="line"><span class="string">    []</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> link==Link.empty:</span><br><span class="line">      <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">return</span> [link.first]+convert_link(link.rest)</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Square"><a href="#Q4：Square" class="headerlink" title="Q4：Square"></a>Q4：Square</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">label_squarer</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Mutates a Tree t by squaring all its elements.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = Tree(1, [Tree(3, [Tree(5)]), Tree(7)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; label_squarer(t)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t</span></span><br><span class="line"><span class="string">    Tree(1, [Tree(9, [Tree(25)]), Tree(49)])</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="comment">#if t.is_leaf():</span></span><br><span class="line">      <span class="comment">#t.label=t.label**2</span></span><br><span class="line">    <span class="comment">#else:</span></span><br><span class="line">    t.label=t.label**<span class="number">2</span></span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> t.branches:</span><br><span class="line">      b=label_squarer(b)</span><br><span class="line">    <span class="comment">#return t</span></span><br></pre></td></tr></table></figure>

<h3 id="Q5：Cumulative-Mul"><a href="#Q5：Cumulative-Mul" class="headerlink" title="Q5：Cumulative Mul"></a>Q5：Cumulative Mul</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cumulative_mul</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Mutates t so that each node&#x27;s label becomes the product of all labels in</span></span><br><span class="line"><span class="string">    the corresponding subtree rooted at t.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t = Tree(1, [Tree(3, [Tree(5)]), Tree(7)])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cumulative_mul(t)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; t</span></span><br><span class="line"><span class="string">    Tree(105, [Tree(15, [Tree(5)]), Tree(7)])</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> t.branches:</span><br><span class="line">      cumulative_mul(b)</span><br><span class="line">      t.label*=b.label</span><br></pre></td></tr></table></figure>

<h3 id="Q6：Add-Leaves"><a href="#Q6：Add-Leaves" class="headerlink" title="Q6：Add Leaves"></a>Q6：Add Leaves</h3><p>抄的别人的…</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_d_leaves</span>(<span class="params">t, v</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">helper</span>(<span class="params">t,v,depth</span>):</span><br><span class="line">    <span class="keyword">if</span> t.is_leaf():</span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(depth):</span><br><span class="line">        t.branches.append(v)</span><br><span class="line">      <span class="keyword">return</span> </span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> t.branches:</span><br><span class="line">      helper(b,v,depth+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(depth):</span><br><span class="line">      t.branches.append(Tree(v))</span><br><span class="line">  helper(t,v,<span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<h2 id="Disc-08：Linked-Lists-Trees"><a href="#Disc-08：Linked-Lists-Trees" class="headerlink" title="Disc 08：Linked Lists, Trees"></a>Disc 08：Linked Lists, Trees</h2><p>均未跑版</p>
<h3 id="Q3-Sum-Nums"><a href="#Q3-Sum-Nums" class="headerlink" title="Q3:Sum Nums"></a>Q3:Sum Nums</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sum_nums</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">if</span> s.rest.empty:</span><br><span class="line">        <span class="keyword">return</span> s.first</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> s.first+sum_nums(s.rest)</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Multiply-Links"><a href="#Q4：Multiply-Links" class="headerlink" title="Q4：Multiply Links"></a>Q4：Multiply Links</h3><p>这个是这一组中最不确定的…</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">multiply_lnks</span>(<span class="params">lst_of_lnks</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = Link(2, Link(3, Link(5)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = Link(6, Link(4, Link(2)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c = Link(4, Link(1, Link(0, Link(2))))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; p = multiply_lnks([a, b, c])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; p.first</span></span><br><span class="line"><span class="string">    48</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; p.rest.first</span></span><br><span class="line"><span class="string">    12</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; p.rest.rest.rest is Link.empty</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># Implementation Note: you might not need all lines in this skeleton code</span></span><br><span class="line">    res = Link.empty</span><br><span class="line">    <span class="keyword">for</span> link <span class="keyword">in</span> lst_of_lnks:</span><br><span class="line">        <span class="keyword">if</span> link.rest <span class="keyword">is</span> Link.empty:</span><br><span class="line">            res.rest=Link.empty</span><br><span class="line">        link=link.rest</span><br><span class="line">        res.first*=link.first</span><br><span class="line">	nultiply_lnks(lst_of_lnks)</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h3 id="Q5：Flip-Two"><a href="#Q5：Flip-Two" class="headerlink" title="Q5：Flip Two"></a>Q5：Flip Two</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">flip_two</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">if</span> s.rest.empty:</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        store=s.first</span><br><span class="line">        s.first=s.rest.first</span><br><span class="line">        s.rest.first=store</span><br><span class="line">        s.rest.rest=flip_two(s.rest.rest)</span><br><span class="line">        <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure>

<h3 id="Q6：Make-Even"><a href="#Q6：Make-Even" class="headerlink" title="Q6：Make Even"></a>Q6：Make Even</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">make_even</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="keyword">if</span> t.label%<span class="number">2</span>==<span class="number">1</span>:</span><br><span class="line">        t.label+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> t.branches:</span><br><span class="line">        b=make_even(b)</span><br></pre></td></tr></table></figure>

<h3 id="Q7：Leaves"><a href="#Q7：Leaves" class="headerlink" title="Q7：Leaves"></a>Q7：Leaves</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">leaves</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="keyword">if</span> t.is_leaf:</span><br><span class="line">        <span class="keyword">return</span> [t.label]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        res=[t.label]</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> t.branches:</span><br><span class="line">            res.append(leaves(b))</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h2 id="Lab-09：Midterm-Review（Optional）"><a href="#Lab-09：Midterm-Review（Optional）" class="headerlink" title="Lab 09：Midterm Review（Optional）"></a>Lab 09：Midterm Review（Optional）</h2><h3 id="Q1：Subsequences"><a href="#Q1：Subsequences" class="headerlink" title="Q1：Subsequences"></a>Q1：Subsequences</h3><p>本题关键是怎样利用insert_into_all这个函数，还是利用递归的思想。因为insert_into_all函数的作用是往list里面插入数字，所以递归采取向subseqs(s[1:])中插入s[0]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">insert_into_all</span>(<span class="params">item, nested_list</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a new list consisting of all the lists in nested_list,</span></span><br><span class="line"><span class="string">    but with item added to the front of each. You can assume that</span></span><br><span class="line"><span class="string">     nested_list is a list of lists.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; nl = [[], [1, 2], [3]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; insert_into_all(0, nl)</span></span><br><span class="line"><span class="string">    [[0], [0, 1, 2], [0, 3]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">list</span> <span class="keyword">in</span> nested_list:</span><br><span class="line">        <span class="built_in">list</span>.insert(<span class="number">0</span>,item)</span><br><span class="line">    <span class="keyword">return</span> nested_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">subseqs</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a nested list (a list of lists) of all subsequences of S.</span></span><br><span class="line"><span class="string">    The subsequences can appear in any order. You can assume S is a list.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; seqs = subseqs([1, 2, 3])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sorted(seqs)</span></span><br><span class="line"><span class="string">    [[], [1], [1, 2], [1, 2, 3], [1, 3], [2], [2, 3], [3]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; subseqs([])</span></span><br><span class="line"><span class="string">    [[]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> s==[]:</span><br><span class="line">        <span class="keyword">return</span> [[]]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        res=insert_into_all(s[<span class="number">0</span>],subseqs(s[<span class="number">1</span>:]))</span><br><span class="line">        <span class="keyword">return</span> res+subseqs(s[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>



<h3 id="Q2：Non-Decreasing-Subsequences"><a href="#Q2：Non-Decreasing-Subsequences" class="headerlink" title="Q2：Non-Decreasing Subsequences"></a>Q2：Non-Decreasing Subsequences</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">non_decrease_subseqs</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Assuming that S is a list, return a nested list of all subsequences</span></span><br><span class="line"><span class="string">    of S (a list of lists) for which the elements of the subsequence</span></span><br><span class="line"><span class="string">    are strictly nondecreasing. The subsequences can appear in any order.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; seqs = non_decrease_subseqs([1, 3, 2])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sorted(seqs)</span></span><br><span class="line"><span class="string">    [[], [1], [1, 2], [1, 3], [2], [3]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; non_decrease_subseqs([])</span></span><br><span class="line"><span class="string">    [[]]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; seqs2 = non_decrease_subseqs([1, 1, 2])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; sorted(seqs2)</span></span><br><span class="line"><span class="string">    [[], [1], [1], [1, 1], [1, 1, 2], [1, 2], [1, 2], [2]]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">subseq_helper</span>(<span class="params">s, prev</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> [[]]</span><br><span class="line">        <span class="keyword">elif</span> s[<span class="number">0</span>] &lt; prev:</span><br><span class="line">            <span class="keyword">return</span> subseq_helper(s[<span class="number">1</span>:],prev)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            a = subseq_helper(s[<span class="number">1</span>:],s[<span class="number">0</span>])</span><br><span class="line">            b = subseq_helper(s[<span class="number">1</span>:],prev)</span><br><span class="line">            <span class="keyword">return</span> insert_into_all(s[<span class="number">0</span>], a) + b</span><br><span class="line">    <span class="keyword">return</span> subseq_helper(s, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<h3 id="Q3：Number-of-Trees"><a href="#Q3：Number-of-Trees" class="headerlink" title="Q3：Number of Trees"></a>Q3：Number of Trees</h3><p>n个叶子结点的完全二叉树可能有几种？结果是卡特兰数</p>
<blockquote>
<p>设h(n)为catalan数的第n项，令h(0)&#x3D;1,h(1)&#x3D;1，catalan数满足递推式</p>
<p>h(n)&#x3D; h(0)*h(n-1)+h(1)*h(n-2) + … + h(n-1)*h(0) (n≥2)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">num_trees</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the number of unique full binary trees with exactly n leaves. E.g.,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    1   2        3       3    ...</span></span><br><span class="line"><span class="string">    *   *        *       *</span></span><br><span class="line"><span class="string">       / \      / \     / \</span></span><br><span class="line"><span class="string">      *   *    *   *   *   *</span></span><br><span class="line"><span class="string">              / \         / \</span></span><br><span class="line"><span class="string">             *   *       *   *</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_trees(1)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_trees(2)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_trees(3)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; num_trees(8)</span></span><br><span class="line"><span class="string">    429</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        res=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n):</span><br><span class="line">            res+=num_trees(i)*num_trees(n-i)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h3 id="Q4：Merge"><a href="#Q4：Merge" class="headerlink" title="Q4：Merge"></a>Q4：Merge</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">incr_a, incr_b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Yield the elements of strictly increasing iterables incr_a and incr_b, removing</span></span><br><span class="line"><span class="string">    repeats. Assume that incr_a and incr_b have no repeats. incr_a or incr_b may or may not</span></span><br><span class="line"><span class="string">    be infinite sequences.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; m = merge([0, 2, 4, 6, 8, 10, 12, 14], [0, 3, 6, 9, 12, 15])</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; type(m)</span></span><br><span class="line"><span class="string">    &lt;class &#x27;generator&#x27;&gt;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; list(m)</span></span><br><span class="line"><span class="string">    [0, 2, 3, 4, 6, 8, 9, 10, 12, 14, 15]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; def big(n):</span></span><br><span class="line"><span class="string">    ...    k = 0</span></span><br><span class="line"><span class="string">    ...    while True: yield k; k += n</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; m = merge(big(2), big(3))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; [next(m) for _ in range(11)]</span></span><br><span class="line"><span class="string">    [0, 2, 3, 4, 6, 8, 9, 10, 12, 14, 15]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    iter_a, iter_b = <span class="built_in">iter</span>(incr_a), <span class="built_in">iter</span>(incr_b)</span><br><span class="line">    next_a, next_b = <span class="built_in">next</span>(iter_a, <span class="literal">None</span>), <span class="built_in">next</span>(iter_b, <span class="literal">None</span>)</span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">while</span> next_a <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> next_b <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        pos_a,pos_b=next_a,next_b</span><br><span class="line">        <span class="keyword">if</span> pos_a==pos_b:</span><br><span class="line">            <span class="keyword">yield</span> next_a</span><br><span class="line">            next_a,next_b=<span class="built_in">next</span>(iter_a,<span class="literal">None</span>),<span class="built_in">next</span>(iter_b,<span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">elif</span> pos_a&gt;pos_b:</span><br><span class="line">            <span class="keyword">yield</span> next_b</span><br><span class="line">            next_b=<span class="built_in">next</span>(iter_b,<span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">yield</span> next_a</span><br><span class="line">            next_a=<span class="built_in">next</span>(iter_a,<span class="literal">None</span>)</span><br><span class="line"><span class="comment">#当有迭代器空了的时候</span></span><br><span class="line">    <span class="keyword">while</span> next_a:</span><br><span class="line">        <span class="keyword">yield</span> next_a</span><br><span class="line">        next_a=<span class="built_in">next</span>(iter_a,<span class="literal">None</span>)</span><br><span class="line">    <span class="keyword">while</span> next_b:</span><br><span class="line">        <span class="keyword">yield</span> next_b</span><br><span class="line">        next_b=<span class="built_in">next</span>(iter_b,<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>



<h3 id="Q5：Bank-Account"><a href="#Q5：Bank-Account" class="headerlink" title="Q5：Bank Account"></a>Q5：Bank Account</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">class Account:</span><br><span class="line">    &quot;&quot;&quot;A bank account that allows deposits and withdrawals.</span><br><span class="line">    It tracks the current account balance and a transaction</span><br><span class="line">    history of deposits and withdrawals.</span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt; eric_account = Account(&#x27;Eric&#x27;)</span><br><span class="line">    &gt;&gt;&gt; eric_account.deposit(1000000)   # depositing paycheck for the week</span><br><span class="line">    1000000</span><br><span class="line">    &gt;&gt;&gt; eric_account.transactions</span><br><span class="line">    [(&#x27;deposit&#x27;, 1000000)]</span><br><span class="line">    &gt;&gt;&gt; eric_account.withdraw(100)      # make a withdrawal to buy dinner</span><br><span class="line">    999900</span><br><span class="line">    &gt;&gt;&gt; eric_account.transactions</span><br><span class="line">    [(&#x27;deposit&#x27;, 1000000), (&#x27;withdraw&#x27;, 100)]</span><br><span class="line">    &gt;&gt;&gt; print(eric_account) #call to __str__</span><br><span class="line">    Eric&#x27;s Balance: $999900</span><br><span class="line">    &gt;&gt;&gt; eric_account.deposit(10)</span><br><span class="line">    999910</span><br><span class="line">    &gt;&gt;&gt; eric_account #call to __repr__</span><br><span class="line">    Accountholder: Eric, Deposits: 2, Withdraws: 1</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    interest = 0.02</span><br><span class="line"></span><br><span class="line">    def __init__(self, account_holder):</span><br><span class="line">        self.balance = 0</span><br><span class="line">        self.holder = account_holder</span><br><span class="line">        &quot;*** YOUR CODE HERE ***&quot;</span><br><span class="line">        self.deposits=0</span><br><span class="line">        self.withdraws=0</span><br><span class="line">        self.transactions=[]</span><br><span class="line"></span><br><span class="line">    def deposit(self, amount):</span><br><span class="line">        &quot;&quot;&quot;Increase the account balance by amount, add the deposit</span><br><span class="line">        to the transaction history, and return the new balance.</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        &quot;*** YOUR CODE HERE ***&quot;</span><br><span class="line">        self.balance+=amount</span><br><span class="line">        self.deposits+=1</span><br><span class="line">        self.transactions.append((&#x27;deposit&#x27;, amount))</span><br><span class="line">        return self.balance</span><br><span class="line"></span><br><span class="line">    def withdraw(self, amount):</span><br><span class="line">        &quot;&quot;&quot;Decrease the account balance by amount, add the withdraw</span><br><span class="line">        to the transaction history, and return the new balance.</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        &quot;*** YOUR CODE HERE ***&quot;</span><br><span class="line">        self.balance-=amount</span><br><span class="line">        self.withdraws+=1</span><br><span class="line">        self.transactions.append((&#x27;withdraw&#x27;, amount))</span><br><span class="line">        return self.balance</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        &quot;*** YOUR CODE HERE ***&quot;</span><br><span class="line">        return f&#x27;&#123;self.holder&#125;\&#x27;s Balance: $&#123;self.balance&#125;&#x27; </span><br><span class="line"></span><br><span class="line">    def __repr__(self):</span><br><span class="line">        &quot;*** YOUR CODE HERE ***&quot;</span><br><span class="line">        return f&#x27;Accountholder: &#123;self.holder&#125;, Deposits: &#123;self.deposits&#125;, Withdraws: &#123;self.withdraws&#125;&#x27;</span><br></pre></td></tr></table></figure>



<h3 id="Q6：Trade"><a href="#Q6：Trade" class="headerlink" title="Q6：Trade"></a>Q6：Trade</h3><p>注意是要交换开头的几个元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">trade</span>(<span class="params">first, second</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Exchange the smallest prefixes of first and second that have equal sum.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a = [1, 1, 3, 2, 1, 1, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b = [4, 3, 2, 7]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; trade(a, b) # Trades 1+1+3+2=7 for 4+3=7</span></span><br><span class="line"><span class="string">    &#x27;Deal!&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a</span></span><br><span class="line"><span class="string">    [4, 3, 1, 1, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b</span></span><br><span class="line"><span class="string">    [1, 1, 3, 2, 2, 7]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c = [3, 3, 2, 4, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; trade(b, c)</span></span><br><span class="line"><span class="string">    &#x27;No deal!&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b</span></span><br><span class="line"><span class="string">    [1, 1, 3, 2, 2, 7]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c</span></span><br><span class="line"><span class="string">    [3, 3, 2, 4, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; trade(a, c)</span></span><br><span class="line"><span class="string">    &#x27;Deal!&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a</span></span><br><span class="line"><span class="string">    [3, 3, 2, 1, 4]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; b</span></span><br><span class="line"><span class="string">    [1, 1, 3, 2, 2, 7]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; c</span></span><br><span class="line"><span class="string">    [4, 3, 1, 4, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; d = [1, 1]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; e = [2]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; trade(d, e)</span></span><br><span class="line"><span class="string">    &#x27;Deal!&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; d</span></span><br><span class="line"><span class="string">    [2]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; e</span></span><br><span class="line"><span class="string">    [1, 1]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    m, n = <span class="number">1</span>, <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    equal_prefix = <span class="keyword">lambda</span>: <span class="built_in">sum</span>(first[:m])==<span class="built_in">sum</span>(second[:n])</span><br><span class="line">    <span class="keyword">while</span> m&lt;=<span class="built_in">len</span>(first) <span class="keyword">and</span> n&lt;=<span class="built_in">len</span>(second) <span class="keyword">and</span> <span class="built_in">sum</span>(first[:m])!=<span class="built_in">sum</span>(second[:n]):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">sum</span>(first[:m])&lt;<span class="built_in">sum</span>(second[:n]):</span><br><span class="line">            m += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            n += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> equal_prefix():</span><br><span class="line">        first[:m], second[:n] = second[:n], first[:m]</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Deal!&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;No deal!&#x27;</span></span><br></pre></td></tr></table></figure>



<h3 id="Q7-Shuffle"><a href="#Q7-Shuffle" class="headerlink" title="Q7:Shuffle"></a>Q7:Shuffle</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">card</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the playing card numeral as a string for a positive n &lt;= 13.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">type</span>(n) == <span class="built_in">int</span> <span class="keyword">and</span> n &gt; <span class="number">0</span> <span class="keyword">and</span> n &lt;= <span class="number">13</span>, <span class="string">&quot;Bad card n&quot;</span></span><br><span class="line">    specials = &#123;<span class="number">1</span>: <span class="string">&#x27;A&#x27;</span>, <span class="number">11</span>: <span class="string">&#x27;J&#x27;</span>, <span class="number">12</span>: <span class="string">&#x27;Q&#x27;</span>, <span class="number">13</span>: <span class="string">&#x27;K&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> specials.get(n, <span class="built_in">str</span>(n))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">shuffle</span>(<span class="params">cards</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a shuffled list that interleaves the two halves of cards.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; shuffle(range(6))</span></span><br><span class="line"><span class="string">    [0, 3, 1, 4, 2, 5]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; suits = [&#x27;H&#x27;, &#x27;D&#x27;, &#x27;S&#x27;, &#x27;C&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cards = [card(n) + suit for n in range(1,14) for suit in suits]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cards[:12]</span></span><br><span class="line"><span class="string">    [&#x27;AH&#x27;, &#x27;AD&#x27;, &#x27;AS&#x27;, &#x27;AC&#x27;, &#x27;2H&#x27;, &#x27;2D&#x27;, &#x27;2S&#x27;, &#x27;2C&#x27;, &#x27;3H&#x27;, &#x27;3D&#x27;, &#x27;3S&#x27;, &#x27;3C&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cards[26:30]</span></span><br><span class="line"><span class="string">    [&#x27;7S&#x27;, &#x27;7C&#x27;, &#x27;8H&#x27;, &#x27;8D&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; shuffle(cards)[:12]</span></span><br><span class="line"><span class="string">    [&#x27;AH&#x27;, &#x27;7S&#x27;, &#x27;AD&#x27;, &#x27;7C&#x27;, &#x27;AS&#x27;, &#x27;8H&#x27;, &#x27;AC&#x27;, &#x27;8D&#x27;, &#x27;2H&#x27;, &#x27;8S&#x27;, &#x27;2D&#x27;, &#x27;8C&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; shuffle(shuffle(cards))[:12]</span></span><br><span class="line"><span class="string">    [&#x27;AH&#x27;, &#x27;4D&#x27;, &#x27;7S&#x27;, &#x27;10C&#x27;, &#x27;AD&#x27;, &#x27;4S&#x27;, &#x27;7C&#x27;, &#x27;JH&#x27;, &#x27;AS&#x27;, &#x27;4C&#x27;, &#x27;8H&#x27;, &#x27;JD&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cards[:12]  # Should not be changed</span></span><br><span class="line"><span class="string">    [&#x27;AH&#x27;, &#x27;AD&#x27;, &#x27;AS&#x27;, &#x27;AC&#x27;, &#x27;2H&#x27;, &#x27;2D&#x27;, &#x27;2S&#x27;, &#x27;2C&#x27;, &#x27;3H&#x27;, &#x27;3D&#x27;, &#x27;3S&#x27;, &#x27;3C&#x27;]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">len</span>(cards) % <span class="number">2</span> == <span class="number">0</span>, <span class="string">&#x27;len(cards) must be even&#x27;</span></span><br><span class="line">    half = <span class="built_in">len</span>(cards)//<span class="number">2</span></span><br><span class="line">    shuffled = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(half):</span><br><span class="line">        shuffled.append(cards[i])</span><br><span class="line">        shuffled.append(cards[i+half])</span><br><span class="line">    <span class="keyword">return</span> shuffled</span><br></pre></td></tr></table></figure>



<h3 id="Q8：Insert"><a href="#Q8：Insert" class="headerlink" title="Q8：Insert"></a>Q8：Insert</h3><p>参考了别人的写法：每次插入前拷贝当前结点</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">insert</span>(<span class="params">link, value, index</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Insert a value into a Link at the given index.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; link = Link(1, Link(2, Link(3)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(link)</span></span><br><span class="line"><span class="string">    &lt;1 2 3&gt;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; other_link = link</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; insert(link, 9001, 0)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(link)</span></span><br><span class="line"><span class="string">    &lt;9001 1 2 3&gt;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; link is other_link # Make sure you are using mutation! Don&#x27;t create a new linked list.</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; insert(link, 100, 2)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(link)</span></span><br><span class="line"><span class="string">    &lt;9001 1 100 2 3&gt;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; insert(link, 4, 5)</span></span><br><span class="line"><span class="string">    Traceback (most recent call last):</span></span><br><span class="line"><span class="string">        ...</span></span><br><span class="line"><span class="string">    IndexError: Out of bounds!</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    sto=link</span><br><span class="line">    index_=<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> sto <span class="keyword">is</span> <span class="keyword">not</span> Link.empty:</span><br><span class="line">        <span class="keyword">if</span> index_==index:</span><br><span class="line">            current_link=Link(sto.first,sto.rest)</span><br><span class="line">            sto.first=value</span><br><span class="line">            sto.rest=current_link</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        index_+=<span class="number">1</span></span><br><span class="line">        sto=sto.rest</span><br><span class="line">    <span class="keyword">raise</span> IndexError(<span class="string">&#x27;Out of bounds!&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="Q9：Deep-Linked-List-Length"><a href="#Q9：Deep-Linked-List-Length" class="headerlink" title="Q9：Deep Linked List Length"></a>Q9：Deep Linked List Length</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">deep_len</span>(<span class="params">lnk</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; Returns the deep length of a possibly deep linked list.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; deep_len(Link(1, Link(2, Link(3))))</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; deep_len(Link(Link(1, Link(2)), Link(3, Link(4))))</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; levels = Link(Link(Link(1, Link(2)), \</span></span><br><span class="line"><span class="string">            Link(3)), Link(Link(4), Link(5)))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print(levels)</span></span><br><span class="line"><span class="string">    &lt;&lt;&lt;1 2&gt; 3&gt; &lt;4&gt; 5&gt;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; deep_len(levels)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> lnk <span class="keyword">is</span> Link.empty:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">isinstance</span>(lnk,<span class="built_in">int</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> deep_len(lnk.first)+deep_len(lnk.rest)</span><br></pre></td></tr></table></figure>



<h3 id="Q10：Linked-Lists-as-Strings"><a href="#Q10：Linked-Lists-as-Strings" class="headerlink" title="Q10：Linked Lists as Strings"></a>Q10：Linked Lists as Strings</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">make_to_string</span>(<span class="params">front, mid, back, empty_repr</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; Returns a function that turns linked lists to strings.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; kevins_to_string = make_to_string(&quot;[&quot;, &quot;|-]--&gt;&quot;, &quot;&quot;, &quot;[]&quot;)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; jerrys_to_string = make_to_string(&quot;(&quot;, &quot; . &quot;, &quot;)&quot;, &quot;()&quot;)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; lst = Link(1, Link(2, Link(3, Link(4))))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; kevins_to_string(lst)</span></span><br><span class="line"><span class="string">    &#x27;[1|-]--&gt;[2|-]--&gt;[3|-]--&gt;[4|-]--&gt;[]&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; kevins_to_string(Link.empty)</span></span><br><span class="line"><span class="string">    &#x27;[]&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; jerrys_to_string(lst)</span></span><br><span class="line"><span class="string">    &#x27;(1 . (2 . (3 . (4 . ()))))&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; jerrys_to_string(Link.empty)</span></span><br><span class="line"><span class="string">    &#x27;()&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printer</span>(<span class="params">lnk</span>):</span><br><span class="line">        <span class="keyword">if</span> lnk <span class="keyword">is</span> Link.empty:</span><br><span class="line">            <span class="keyword">return</span> empty_repr</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> front+<span class="built_in">str</span>(lnk.first)+mid+printer(lnk.rest)+back</span><br><span class="line">    <span class="keyword">return</span> printer</span><br></pre></td></tr></table></figure>



<h3 id="Q11：Long-Paths"><a href="#Q11：Long-Paths" class="headerlink" title="Q11：Long Paths"></a>Q11：Long Paths</h3><p>不想写了qwq</p>
<p>先鸽掉</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="Lab-10：Scheme"><a href="#Lab-10：Scheme" class="headerlink" title="Lab 10：Scheme"></a>Lab 10：Scheme</h2><h3 id="Q2：Over-or-Under"><a href="#Q2：Over-or-Under" class="headerlink" title="Q2：Over or Under"></a>Q2：Over or Under</h3><p>挺简单的，就是刚开始的时候cond的格式搞错了几次</p>
<p>用cond：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(define (over-or-under num1 num2) </span><br><span class="line">(cond ((&lt; num1 num2) -1)</span><br><span class="line">    ((= num1 num2) 0)</span><br><span class="line">    (else 1)</span><br><span class="line">))</span><br></pre></td></tr></table></figure>

<p>用if：</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">over-or-under</span> num1 num2) </span><br><span class="line">(<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">&lt;</span></span> num1 num2) <span class="number">-1</span></span><br><span class="line">(<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">=</span></span> num1 num2) <span class="number">0</span> <span class="number">1</span>))</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong>如果有大于2的判断条件，用if嵌套</strong></p>
<h3 id="Q3：Make-Adder"><a href="#Q3：Make-Adder" class="headerlink" title="Q3：Make Adder"></a>Q3：Make Adder</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">make-adder</span> num) </span><br><span class="line">(<span class="name"><span class="built_in">lambda</span></span> (inc)(<span class="name"><span class="built_in">+</span></span> inc num))</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="Q4：Compose"><a href="#Q4：Compose" class="headerlink" title="Q4：Compose"></a>Q4：Compose</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">composed</span> f g) </span><br><span class="line">(<span class="name"><span class="built_in">lambda</span></span> (x) (<span class="name">f</span> (<span class="name">g</span> x)))</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="Q5：Make-a-List"><a href="#Q5：Make-a-List" class="headerlink" title="Q5：Make a List"></a>Q5：Make a List</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> lst </span><br><span class="line">(<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">cons</span></span> <span class="number">1</span> nil) (<span class="name"><span class="built_in">cons</span></span> <span class="number">2</span> (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">cons</span></span> <span class="number">3</span> (<span class="name"><span class="built_in">cons</span></span> <span class="number">4</span> nil)) (<span class="name"><span class="built_in">cons</span></span> <span class="number">5</span> nil))))</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h2 id="HW-07：Scheme"><a href="#HW-07：Scheme" class="headerlink" title="HW 07：Scheme"></a>HW 07：Scheme</h2><h3 id="Q1：Thane-of-Cadr"><a href="#Q1：Thane-of-Cadr" class="headerlink" title="Q1：Thane of Cadr"></a>Q1：Thane of Cadr</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name"><span class="built_in">cadr</span></span> s) </span><br><span class="line">(<span class="name"><span class="built_in">car</span></span> (<span class="name"><span class="built_in">cdr</span></span> s))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">caddr</span> s) </span><br><span class="line">(<span class="name"><span class="built_in">car</span></span> (<span class="name"><span class="built_in">cdr</span></span> (<span class="name"><span class="built_in">cdr</span></span> s)))</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="Q2：Ordered"><a href="#Q2：Ordered" class="headerlink" title="Q2：Ordered"></a>Q2：Ordered</h3><p>就是base case要搞清楚</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">ordered?</span> s) </span><br><span class="line">(<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> s) True)</span><br><span class="line">    ((<span class="name"><span class="built_in">null?</span></span> (<span class="name"><span class="built_in">cdr</span></span> s)) True)</span><br><span class="line">    ((<span class="name"><span class="built_in">&lt;=</span></span> (<span class="name"><span class="built_in">car</span></span> s) (<span class="name"><span class="built_in">car</span></span>(<span class="name"><span class="built_in">cdr</span></span> s))) (<span class="name">ordered?</span> (<span class="name"><span class="built_in">cdr</span></span> s)))</span><br><span class="line">    (<span class="name"><span class="built_in">else</span></span> False)</span><br><span class="line">    )            #这里用cond就不用另打个括号了</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="Q3：Pow"><a href="#Q3：Pow" class="headerlink" title="Q3：Pow"></a>Q3：Pow</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">square</span> x) (<span class="name"><span class="built_in">*</span></span> x x))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">pow</span> base exp) </span><br><span class="line">(<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">=</span></span> base <span class="number">1</span>) <span class="number">1</span>)</span><br><span class="line">    ((<span class="name"><span class="built_in">=</span></span> exp <span class="number">1</span>) base)</span><br><span class="line">    ((<span class="name"><span class="built_in">even?</span></span> exp) (<span class="name"><span class="built_in">*</span></span> (<span class="name">pow</span> base (<span class="name"><span class="built_in">/</span></span> exp <span class="number">2</span>)) (<span class="name">pow</span> base (<span class="name"><span class="built_in">/</span></span> exp <span class="number">2</span>))))</span><br><span class="line">    ((<span class="name"><span class="built_in">odd?</span></span> exp) (<span class="name"><span class="built_in">*</span></span> base (<span class="name"><span class="built_in">*</span></span> (<span class="name">pow</span> base (<span class="name"><span class="built_in">/</span></span> (<span class="name"><span class="built_in">-</span></span> exp <span class="number">1</span>) <span class="number">2</span>)) (<span class="name">pow</span> base (<span class="name"><span class="built_in">/</span></span> (<span class="name"><span class="built_in">-</span></span> exp <span class="number">1</span>) <span class="number">2</span>)))))</span><br><span class="line">)               #把后两排的pow改为二者相乘外就过了，原来的timeout，估计是recurse太多次了</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h2 id="Disc-10：Scheme-Scheme-Lists"><a href="#Disc-10：Scheme-Scheme-Lists" class="headerlink" title="Disc 10：Scheme, Scheme Lists"></a>Disc 10：Scheme, Scheme Lists</h2><h3 id="Q1：Virahanka-Fibonacci"><a href="#Q1：Virahanka-Fibonacci" class="headerlink" title="Q1：Virahanka-Fibonacci"></a>Q1：Virahanka-Fibonacci</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">vir-fib</span> n)</span><br><span class="line">    (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">=</span></span> n <span class="number">0</span>) <span class="number">0</span>)</span><br><span class="line">        ((<span class="name"><span class="built_in">=</span></span> n <span class="number">1</span>) <span class="number">1</span>)</span><br><span class="line">        (<span class="name"><span class="built_in">else</span></span> (<span class="name"><span class="built_in">+</span></span> (<span class="name">vir-fib</span> (<span class="name"><span class="built_in">-</span></span> n <span class="number">2</span>)) (<span class="name">vir-fib</span> (<span class="name"><span class="built_in">-</span></span> n <span class="number">1</span>))))</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name">expect</span> (<span class="name">vir-fib</span> <span class="number">10</span>) <span class="number">55</span>)</span><br><span class="line">(<span class="name">expect</span> (<span class="name">vir-fib</span> <span class="number">1</span>) <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Q2：List-Making"><a href="#Q2：List-Making" class="headerlink" title="Q2：List Making"></a>Q2：List Making</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> with-list</span><br><span class="line">    (<span class="name"><span class="built_in">list</span></span></span><br><span class="line">        (<span class="name"><span class="built_in">list</span></span> <span class="symbol">&#x27;a</span> <span class="symbol">&#x27;b</span>) <span class="symbol">&#x27;c</span> <span class="symbol">&#x27;d</span> (<span class="name"><span class="built_in">list</span></span> <span class="symbol">&#x27;e</span>)</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">(<span class="name">draw</span> with-list)</span><br></pre></td></tr></table></figure>

<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> with-quote</span><br><span class="line">    &#x27;(</span><br><span class="line">        (a b) c d (e)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line">(<span class="name">draw</span> with-quote)</span><br></pre></td></tr></table></figure>

<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> helpful-list</span><br><span class="line">   (<span class="name"><span class="built_in">cons</span></span> <span class="symbol">&#x27;a</span> (<span class="name"><span class="built_in">cons</span></span> <span class="symbol">&#x27;b</span> nil)))</span><br><span class="line">(<span class="name">draw</span> helpful-list)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> another-helpful-list</span><br><span class="line">    (<span class="name"><span class="built_in">cons</span></span> <span class="symbol">&#x27;c</span> (<span class="name"><span class="built_in">cons</span></span> <span class="symbol">&#x27;d</span> (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">cons</span></span> <span class="symbol">&#x27;e</span> nil) nil))))</span><br><span class="line">(<span class="name">draw</span> another-helpful-list)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> with-cons</span><br><span class="line">    (<span class="name"><span class="built_in">cons</span></span></span><br><span class="line">        helpful-list another-helpful-list</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">(<span class="name">draw</span> with-cons)</span><br></pre></td></tr></table></figure>

<h3 id="Q3：List-Concatenation"><a href="#Q3：List-Concatenation" class="headerlink" title="Q3：List Concatenation"></a>Q3：List Concatenation</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">list-concat</span> a b)</span><br><span class="line">    (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> a) b)</span><br><span class="line">        ((<span class="name"><span class="built_in">null?</span></span> b) a)</span><br><span class="line">        (<span class="name"><span class="built_in">else</span></span> (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">car</span></span> a) (<span class="name">list-concat</span> (<span class="name"><span class="built_in">cdr</span></span> a) b)))</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name">expect</span> (<span class="name">list-concat</span> &#x27;(<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>) &#x27;(<span class="number">2</span> <span class="number">3</span> <span class="number">4</span>)) (<span class="name">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>))</span><br><span class="line">(<span class="name">expect</span> (<span class="name">list-concat</span> &#x27;(<span class="number">3</span>) &#x27;(<span class="number">2</span> <span class="number">1</span> <span class="number">0</span>)) (<span class="name">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Map"><a href="#Q4：Map" class="headerlink" title="Q4：Map"></a>Q4：Map</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">map-fn</span> fn lst)</span><br><span class="line">    (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> lst) nil)</span><br><span class="line">        ((<span class="name"><span class="built_in">null?</span></span> (<span class="name"><span class="built_in">cdr</span></span> lst)) (<span class="name">fn</span> (<span class="name"><span class="built_in">car</span></span> lst)))</span><br><span class="line">        (<span class="name"><span class="built_in">else</span></span> (<span class="name"><span class="built_in">cons</span></span> (<span class="name">fn</span> (<span class="name"><span class="built_in">car</span></span> lst)) (<span class="name">map-fn</span> fn (<span class="name"><span class="built_in">cdr</span></span> lst))))</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name">map-fn</span> (<span class="name"><span class="built_in">lambda</span></span> (x) (<span class="name"><span class="built_in">*</span></span> x x)) &#x27;(<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>))</span><br><span class="line"><span class="comment">; expect (1 4 9)</span></span><br></pre></td></tr></table></figure>

<h3 id="Q5：Make-Tree"><a href="#Q5：Make-Tree" class="headerlink" title="Q5：Make Tree"></a>Q5：Make Tree</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">make-tree</span> label branches) (<span class="name"><span class="built_in">cons</span></span> label branches))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">label</span> tree)</span><br><span class="line">    (<span class="name"><span class="built_in">car</span></span> tree)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">branches</span> tree)</span><br><span class="line">    (<span class="name"><span class="built_in">cdr</span></span> tree)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name">make-tree</span> <span class="number">1</span> (<span class="name"><span class="built_in">list</span></span> (<span class="name">make-tree</span> <span class="number">2</span> &#x27;()) (<span class="name">make-tree</span> <span class="number">3</span> &#x27;())))</span><br><span class="line"><span class="comment">; expect (1 (2) (3))</span></span><br></pre></td></tr></table></figure>

<h3 id="Q6：Tree-Sum"><a href="#Q6：Tree-Sum" class="headerlink" title="Q6：Tree Sum"></a>Q6：Tree Sum</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">tree-sum</span> tree)</span><br><span class="line">    (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> tree) <span class="number">0</span>)</span><br><span class="line">        (<span class="name"><span class="built_in">else</span></span> (<span class="name"><span class="built_in">cons</span></span> ((<span class="name"><span class="built_in">null?</span></span> (<span class="name">branches</span> tree)) (<span class="name">label</span> tree))</span><br><span class="line">            (<span class="name"><span class="built_in">else</span></span> (<span class="name"><span class="built_in">+</span></span> (<span class="name">label</span> tree) (<span class="name">tree-sum</span> (<span class="name">branches</span> tree))))</span><br><span class="line">        )</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">sum</span> lst)</span><br><span class="line">    (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> lst) <span class="number">0</span>)</span><br><span class="line">        (<span class="name"><span class="built_in">else</span></span> (<span class="name"><span class="built_in">+</span></span> (<span class="name"><span class="built_in">car</span></span> lst) (<span class="name">sum</span> (<span class="name"><span class="built_in">cdr</span></span> lst))))</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> t (<span class="name">make-tree</span> <span class="number">1</span> (<span class="name"><span class="built_in">list</span></span> (<span class="name">make-tree</span> <span class="number">2</span> &#x27;()) (<span class="name">make-tree</span> <span class="number">3</span> &#x27;()))))</span><br><span class="line">(<span class="name">expect</span> (<span class="name">tree-sum</span> t) <span class="number">6</span>)</span><br></pre></td></tr></table></figure>





<h2 id="HW-08：Scheme-Lists"><a href="#HW-08：Scheme-Lists" class="headerlink" title="HW 08：Scheme Lists"></a>HW 08：Scheme Lists</h2><h3 id="Q1：My-Filter"><a href="#Q1：My-Filter" class="headerlink" title="Q1：My Filter"></a>Q1：My Filter</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">my-filter</span> func lst) </span><br><span class="line">  (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> lst) nil)                       </span><br><span class="line">    ((<span class="name">func</span> (<span class="name"><span class="built_in">car</span></span> lst)) (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">car</span></span> lst) (<span class="name">my-filter</span> func (<span class="name"><span class="built_in">cdr</span></span> lst))))</span><br><span class="line">    (<span class="name"><span class="built_in">else</span></span> (<span class="name">my-filter</span> func (<span class="name"><span class="built_in">cdr</span></span> lst)))</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="Q2：Interleave"><a href="#Q2：Interleave" class="headerlink" title="Q2：Interleave"></a>Q2：Interleave</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">interleave</span> s1 s2) </span><br><span class="line">(<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> s1) s2)</span><br><span class="line">      ((<span class="name"><span class="built_in">null?</span></span> s2) s1)</span><br><span class="line">      (<span class="name"><span class="built_in">else</span></span> (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">car</span></span> s1) (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">car</span></span> s2) (<span class="name">interleave</span> (<span class="name"><span class="built_in">cdr</span></span> s1) (<span class="name"><span class="built_in">cdr</span></span> s2)))))</span><br><span class="line">)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="Q3：Accumulate"><a href="#Q3：Accumulate" class="headerlink" title="Q3：Accumulate"></a>Q3：Accumulate</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">accumulate</span> merger start n term)</span><br><span class="line">  (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">=</span></span> n <span class="number">1</span>) (<span class="name">merger</span> start (<span class="name">term</span> n)))</span><br><span class="line">        (<span class="name"><span class="built_in">else</span></span> (<span class="name">merger</span> (<span class="name">term</span> n) (<span class="name">accumulate</span> merger start (<span class="name"><span class="built_in">-</span></span> n <span class="number">1</span>) term)))</span><br><span class="line">  )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>



<h3 id="Q4：No-Repeats"><a href="#Q4：No-Repeats" class="headerlink" title="Q4：No Repeats"></a>Q4：No Repeats</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">no-repeats</span> lst) </span><br><span class="line">  (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> lst) nil)</span><br><span class="line">        ((<span class="name"><span class="built_in">null?</span></span> (<span class="name"><span class="built_in">cdr</span></span> lst)) lst)</span><br><span class="line">        ((<span class="name"><span class="built_in">=</span></span> (<span class="name"><span class="built_in">car</span></span> lst) (<span class="name"><span class="built_in">car</span></span> (<span class="name"><span class="built_in">cdr</span></span> lst))) (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">car</span></span> lst) (<span class="name">no-repeats</span> (<span class="name"><span class="built_in">cdr</span></span> (<span class="name"><span class="built_in">cdr</span></span> lst)))))</span><br><span class="line">        ((<span class="name"><span class="built_in">not</span></span> (<span class="name"><span class="built_in">=</span></span> (<span class="name"><span class="built_in">car</span></span> lst) (<span class="name"><span class="built_in">car</span></span> (<span class="name"><span class="built_in">cdr</span></span> lst)))) (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">car</span></span> lst) (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">car</span></span> (<span class="name"><span class="built_in">cdr</span></span> lst)) (<span class="name">no-repeats</span> (<span class="name"><span class="built_in">cdr</span></span> (<span class="name"><span class="built_in">cdr</span></span> lst))))))</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line">#这个版本无法判断后面的数字是否与前面的重复</span><br></pre></td></tr></table></figure>

<p>参考了他人代码：</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">no-repeats</span> lst) </span><br><span class="line">  (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">null?</span></span> lst) nil)</span><br><span class="line">        (<span class="name"><span class="built_in">else</span></span> (<span class="name"><span class="built_in">cons</span></span> (<span class="name"><span class="built_in">car</span></span> lst) (<span class="name">no-repeats</span> (<span class="name">filter</span> (<span class="name"><span class="built_in">lambda</span></span> (x) (<span class="name"><span class="built_in">not</span></span> (<span class="name"><span class="built_in">=</span></span> x (<span class="name"><span class="built_in">car</span></span> lst)))) (<span class="name"><span class="built_in">cdr</span></span> lst))))))</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>感受就是scheme里面的括号太多了，一下子就把自己绕晕了&#x2F;&#x2F;&#x2F;</p>
<h2 id="Lab-11：Interpreters"><a href="#Lab-11：Interpreters" class="headerlink" title="Lab 11：Interpreters"></a>Lab 11：Interpreters</h2><h3 id="Problem-1-2"><a href="#Problem-1-2" class="headerlink" title="Problem 1"></a>Problem 1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pop_first</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Remove the next item from self and return it. If self has</span></span><br><span class="line"><span class="string">        exhausted its source, returns None.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 1</span></span><br><span class="line">        current=self.current()</span><br><span class="line">        self.index+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> current</span><br><span class="line">        <span class="comment"># END PROBLEM 1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">current</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Return the current element, or None if none exists.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> self.more_on_line():</span><br><span class="line">            self.index=<span class="number">0</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                <span class="comment"># BEGIN PROBLEM 1</span></span><br><span class="line">                self.current_line=<span class="built_in">next</span>(self.source)</span><br><span class="line">                <span class="comment"># END PROBLEM 1</span></span><br><span class="line">            <span class="keyword">except</span> StopIteration:</span><br><span class="line">                self.current_line = ()</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">return</span> self.current_line[self.index]</span><br></pre></td></tr></table></figure>



<h3 id="Problem-2、3"><a href="#Problem-2、3" class="headerlink" title="Problem 2、3"></a>Problem 2、3</h3><p>照着题目意思写就可以了<del>（感觉像照着答案抄一样</del></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">scheme_read</span>(<span class="params">src</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Read the next expression from SRC, a Buffer of tokens.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; scheme_read(Buffer(tokenize_lines([&#x27;nil&#x27;])))</span></span><br><span class="line"><span class="string">    nil</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; scheme_read(Buffer(tokenize_lines([&#x27;1&#x27;])))</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; scheme_read(Buffer(tokenize_lines([&#x27;true&#x27;])))</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; scheme_read(Buffer(tokenize_lines([&#x27;(+ 1 2)&#x27;])))</span></span><br><span class="line"><span class="string">    Pair(&#x27;+&#x27;, Pair(1, Pair(2, nil)))</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> src.current() <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">raise</span> EOFError</span><br><span class="line">    val = src.pop_first()  <span class="comment"># Get and remove the first token</span></span><br><span class="line">    <span class="keyword">if</span> val == <span class="string">&#x27;nil&#x27;</span>:</span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 2</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> nil</span><br><span class="line">        <span class="comment"># END PROBLEM 2</span></span><br><span class="line">    <span class="keyword">elif</span> val == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 2</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> read_tail(src)</span><br><span class="line">        <span class="comment"># END PROBLEM 2</span></span><br><span class="line">    <span class="keyword">elif</span> val == <span class="string">&quot;&#x27;&quot;</span>:</span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 3</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> Pair(<span class="string">&#x27;quote&#x27;</span>, Pair(scheme_read(src), nil))</span><br><span class="line">        <span class="comment"># END PROBLEM 3</span></span><br><span class="line">    <span class="keyword">elif</span> val <span class="keyword">not</span> <span class="keyword">in</span> DELIMITERS:</span><br><span class="line">        <span class="keyword">return</span> val</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> SyntaxError(<span class="string">&#x27;unexpected token: &#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(val))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_tail</span>(<span class="params">src</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the remainder of a list in SRC, starting before an element or ).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; read_tail(Buffer(tokenize_lines([&#x27;)&#x27;])))</span></span><br><span class="line"><span class="string">    nil</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; read_tail(Buffer(tokenize_lines([&#x27;2 3)&#x27;])))</span></span><br><span class="line"><span class="string">    Pair(2, Pair(3, nil))</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> src.current() <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">raise</span> SyntaxError(<span class="string">&#x27;unexpected end of file&#x27;</span>)</span><br><span class="line">        <span class="keyword">elif</span> src.current() == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">            <span class="comment"># BEGIN PROBLEM 2</span></span><br><span class="line">            <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">            src.pop_first()</span><br><span class="line">            <span class="keyword">return</span> nil</span><br><span class="line">            <span class="comment"># END PROBLEM 2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># BEGIN PROBLEM 2</span></span><br><span class="line">            <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">            <span class="keyword">return</span> Pair(scheme_read(src), read_tail(src))</span><br><span class="line">            <span class="comment"># END PROBLEM 2</span></span><br><span class="line">    <span class="keyword">except</span> EOFError:</span><br><span class="line">        <span class="keyword">raise</span> SyntaxError(<span class="string">&#x27;unexpected end of file&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="Disc-11：Interpreters"><a href="#Disc-11：Interpreters" class="headerlink" title="Disc 11：Interpreters"></a>Disc 11：Interpreters</h2><h3 id="Q2：New-Procedure"><a href="#Q2：New-Procedure" class="headerlink" title="Q2：New Procedure"></a>Q2：New Procedure</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calc_eval</span>(<span class="params">exp</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(exp, Pair): <span class="comment"># Call expressions</span></span><br><span class="line">        <span class="keyword">return</span> calc_apply(calc_eval(exp.first), exp.rest.<span class="built_in">map</span>(calc_eval))</span><br><span class="line">    <span class="keyword">elif</span> exp <span class="keyword">in</span> OPERATORS:      <span class="comment"># Names</span></span><br><span class="line">        <span class="keyword">return</span> OPERATORS[exp]</span><br><span class="line">    <span class="keyword">else</span>:                       <span class="comment"># Numbers</span></span><br><span class="line">        <span class="keyword">return</span> exp</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">floor_div</span>(<span class="params">expr</span>):</span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    dividend=expr.first</span><br><span class="line">    expr=expr.rest</span><br><span class="line">    <span class="keyword">while</span> expr.rest!=nil:</span><br><span class="line">        divisor=expr.first</span><br><span class="line">        dividend//=divisor</span><br><span class="line">        expr=expr.rest</span><br><span class="line">    <span class="keyword">return</span> dividend</span><br><span class="line"><span class="comment"># Assume OPERATORS[&#x27;//&#x27;] = floor_div is added for you in the code</span></span><br></pre></td></tr></table></figure>



<h3 id="Q3：New-Form"><a href="#Q3：New-Form" class="headerlink" title="Q3：New Form"></a>Q3：New Form</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calc_eval</span>(<span class="params">exp</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(exp, Pair):</span><br><span class="line">        <span class="keyword">if</span> expr.first==<span class="string">&#x27;and&#x27;</span>: <span class="comment"># and expressions</span></span><br><span class="line">            <span class="keyword">return</span> eval_and(exp.rest)</span><br><span class="line">        <span class="keyword">else</span>:                   <span class="comment"># Call expressions</span></span><br><span class="line">            <span class="keyword">return</span> calc_apply(calc_eval(exp.first), exp.rest.<span class="built_in">map</span>(calc_eval))</span><br><span class="line">    <span class="keyword">elif</span> exp <span class="keyword">in</span> OPERATORS:      <span class="comment"># Names</span></span><br><span class="line">        <span class="keyword">return</span> OPERATORS[exp]</span><br><span class="line">    <span class="keyword">else</span>:                       <span class="comment"># Numbers</span></span><br><span class="line">        <span class="keyword">return</span> exp</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">eval_and</span>(<span class="params">operands</span>):</span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    ope=operands</span><br><span class="line">    jud=<span class="literal">True</span></span><br><span class="line">    <span class="keyword">while</span> ope!=nil:</span><br><span class="line">        jud=calc_eval(ope.first)</span><br><span class="line">        <span class="keyword">if</span> jud==<span class="literal">False</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        ope=ope.rest</span><br><span class="line">    <span class="keyword">return</span> jud</span><br></pre></td></tr></table></figure>



<h3 id="Q4：Saving-Values"><a href="#Q4：Saving-Values" class="headerlink" title="Q4：Saving Values"></a>Q4：Saving Values</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">bindings = &#123;&#125;</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calc_eval</span>(<span class="params">exp</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(exp, Pair):</span><br><span class="line">        <span class="keyword">if</span> exp.first==<span class="string">&#x27;and&#x27;</span>: <span class="comment"># and expressions[paste your answer from the earlier]</span></span><br><span class="line">            <span class="keyword">return</span> eval_and(exp.rest)</span><br><span class="line">        <span class="keyword">elif</span> exp.first==<span class="string">&#x27;define&#x27;</span>: <span class="comment"># define expressions</span></span><br><span class="line">            <span class="keyword">return</span> eval_define(exp.rest)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:                   <span class="comment"># Call expressions</span></span><br><span class="line">            <span class="keyword">return</span> calc_apply(calc_eval(exp.first), exp.rest.<span class="built_in">map</span>(calc_eval))</span><br><span class="line">    <span class="keyword">elif</span> exp <span class="keyword">in</span> bindings: <span class="comment"># Looking up variables</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">return</span> bindings[exp]</span><br><span class="line">    <span class="keyword">elif</span> exp <span class="keyword">in</span> OPERATORS:      <span class="comment"># Looking up procedures</span></span><br><span class="line">        <span class="keyword">return</span> OPERATORS[exp]</span><br><span class="line">    <span class="keyword">else</span>:                       <span class="comment"># Numbers</span></span><br><span class="line">        <span class="keyword">return</span> exp</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">eval_define</span>(<span class="params">expr</span>):</span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    bindings[expr.first]=expr.rest.first</span><br><span class="line">    <span class="keyword">return</span> expr.first</span><br></pre></td></tr></table></figure>





<h2 id="HW-09：Regular-Expressions"><a href="#HW-09：Regular-Expressions" class="headerlink" title="HW 09：Regular Expressions"></a>HW 09：Regular Expressions</h2><p>这个homework告诉我有时候自学的效果更好…其次就是光听还是不行（因为你不能保证你听懂了…），还是要动手</p>
<h3 id="Q2：Roman-Numerals"><a href="#Q2：Roman-Numerals" class="headerlink" title="Q2：Roman Numerals"></a>Q2：Roman Numerals</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">roman_numerals</span>(<span class="params">text</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Finds any string of letters that could be a Roman numeral</span></span><br><span class="line"><span class="string">    (made up of the letters I, V, X, L, C, D, M).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; roman_numerals(&quot;Sir Richard IIV, can you tell Richard VI that Richard IV is on the phone?&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;IIV&#x27;, &#x27;VI&#x27;, &#x27;IV&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; roman_numerals(&quot;My TODOs: I. Groceries II. Learn how to count in Roman IV. Profit&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;I&#x27;, &#x27;II&#x27;, &#x27;IV&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; roman_numerals(&quot;I. Act 1 II. Act 2 III. Act 3 IV. Act 4 V. Act 5&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;I&#x27;, &#x27;II&#x27;, &#x27;III&#x27;, &#x27;IV&#x27;, &#x27;V&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; roman_numerals(&quot;Let&#x27;s play Civ VII&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;VII&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; roman_numerals(&quot;i love vi so much more than emacs.&quot;)</span></span><br><span class="line"><span class="string">    []</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; roman_numerals(&quot;she loves ALL editors equally.&quot;)</span></span><br><span class="line"><span class="string">    []</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> re.findall(<span class="string">r&#x27;\b([IVXLCDM]+)\b&#x27;</span>, text)</span><br></pre></td></tr></table></figure>



<h3 id="Q3：CS-Classes"><a href="#Q3：CS-Classes" class="headerlink" title="Q3：CS Classes"></a>Q3：CS Classes</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cs_classes</span>(<span class="params">post</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Returns strings that look like a Berkeley CS class,</span></span><br><span class="line"><span class="string">    starting with &quot;CS&quot;, followed by a number, optionally ending with A, B, or C</span></span><br><span class="line"><span class="string">    and potentially with a space between &quot;CS&quot; and the number.</span></span><br><span class="line"><span class="string">    Case insensitive.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cs_classes(&quot;Is it unreasonable to take CS61A, CS61B, CS70, and EE16A in the summer?&quot;)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cs_classes(&quot;how do I become a TA for cs61a? that job sounds so fun&quot;)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cs_classes(&quot;Can I take ECON101 as a CS major?&quot;)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cs_classes(&quot;Should I do the lab lites or regular labs in EE16A?&quot;)</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; cs_classes(&quot;What are some good CS upper division courses? I was thinking about CS 161 or CS 169a&quot;)</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">bool</span>(re.search(<span class="string">&#x27;[Cc][Ss][0-9]+[ABCabc]*&#x27;</span>, post)) <span class="keyword">or</span> <span class="built_in">bool</span>(re.search(<span class="string">r&#x27;[Cc][Ss]\s[0-9]+[ABCabc]*&#x27;</span>, post))</span><br></pre></td></tr></table></figure>



<h3 id="Q4：Time-for-Times"><a href="#Q4：Time-for-Times" class="headerlink" title="Q4：Time for Times"></a>Q4：Time for Times</h3><p>根据别人的提示去看了题目给的提示（没办法，英语不太好</p>
<blockquote>
<p><code>(?:...)</code>, 表示我们想匹配但是不把 <code>()</code> 里的结果保存下来返回.</p>
<p> (? : …)?后面的那个问号表示可选择性</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">match_time</span>(<span class="params">text</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_time(&quot;At 05:24AM, I had sesame bagels with cream cheese before my coffee at 7:23.&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;05:24AM&#x27;, &#x27;7:23&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_time(&quot;At 23:59 I was sound asleep as the time turned to 00:00.&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;23:59&#x27;, &#x27;00:00&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_time(&quot;Mix water in a 1:2 ratio with chicken stock.&quot;)</span></span><br><span class="line"><span class="string">    []</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; match_time(&quot;At 2:00 I pinged 127.0.0.1:80.&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;2:00&#x27;]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> re.findall(<span class="string">r&#x27;(?:[01]?[0-9]|2[0-3]):[0-5][0-9](?:AM)?&#x27;</span>, text)</span><br></pre></td></tr></table></figure>



<h3 id="Q5：Most-Common-Area-Code"><a href="#Q5：Most-Common-Area-Code" class="headerlink" title="Q5：Most Common Area Code"></a>Q5：Most Common Area Code</h3><p>区号：</p>
<ul>
<li>十位电话号码的前三位</li>
<li>可能会用空格括起来，可能会与后面的数字有空格</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">area_codes</span>(<span class="params">text</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Finds all phone numbers in text and captures the area code. Phone numbers</span></span><br><span class="line"><span class="string">    have 10 digits total and may have parentheses around the area code, and</span></span><br><span class="line"><span class="string">    hyphens or spaces after the third and sixth digits.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; area_codes(&#x27;(111) 111 1111, 1234567890 and 123 345 6789 should be matched.&#x27;)</span></span><br><span class="line"><span class="string">    [&#x27;111&#x27;, &#x27;123&#x27;, &#x27;123&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; area_codes(&quot;1234567890 should, but 54321 and 654 456 78901 should not match&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;123&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; area_codes(&quot;no matches for 12 3456 7890 or 09876-54321&quot;)</span></span><br><span class="line"><span class="string">    []</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> re.findall(<span class="string">r&#x27;(?:\()?(\d&#123;3&#125;)(?:\))?(?:\s|-)?\d&#123;3&#125;(?:\s|-)?\d&#123;4&#125;\b&#x27;</span>, text)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>\d等同于[0-9]</p>
<p>\d{n}表示有n个[0-9]数</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下面这个求最常见的区号方法比较常规</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">most_common_code</span>(<span class="params">text</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Takes in an input string which contains at least one phone number (and</span></span><br><span class="line"><span class="string">    may contain more) and returns the most common area code among all phone</span></span><br><span class="line"><span class="string">    numbers in the input. If there are multiple area codes with the same</span></span><br><span class="line"><span class="string">    frequency, return the first one that appears in the input text.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; most_common_code(&#x27;(501) 333 3333&#x27;)</span></span><br><span class="line"><span class="string">    &#x27;501&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; input_text = &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    ... (123) 000 1234 and 12454, 098-123-0941, 123 451 0951 and 410-501-3021 has</span></span><br><span class="line"><span class="string">    ... some phone numbers. &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; most_common_code(input_text)</span></span><br><span class="line"><span class="string">    &#x27;123&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    mylist=area_codes(text)</span><br><span class="line">    mycount=<span class="number">0</span></span><br><span class="line">    <span class="built_in">max</span>=<span class="number">0</span></span><br><span class="line">    mycode=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> code <span class="keyword">in</span> mylist:</span><br><span class="line">        mycount=mylist.count(code)</span><br><span class="line">        <span class="keyword">if</span> mycount&gt;<span class="built_in">max</span>:</span><br><span class="line">            <span class="built_in">max</span>=mycount</span><br><span class="line">            mycode=code</span><br><span class="line">    <span class="keyword">return</span> mycode</span><br></pre></td></tr></table></figure>

<p><strong>注意list.count的使用</strong></p>
<blockquote>
<p><code>list.count</code>(<em>x</em>)</p>
<p>Return the number of times <em>x</em> appears in the list.</p>
</blockquote>
<h2 id="Project-4：Scheme"><a href="#Project-4：Scheme" class="headerlink" title="Project 4：Scheme"></a>Project 4：Scheme</h2><h3 id="Problem-1-3"><a href="#Problem-1-3" class="headerlink" title="Problem 1"></a>Problem 1</h3><p>把题目说的三种情况都写出来就可以了，注意第二种情况是调用lookup函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">define</span>(<span class="params">self, symbol, value</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Define Scheme SYMBOL to have VALUE.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 1</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        self.bindings[symbol]=value</span><br><span class="line">        <span class="comment"># END PROBLEM 1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lookup</span>(<span class="params">self, symbol</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Return the value bound to SYMBOL. Errors if SYMBOL is not found.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 1</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="keyword">if</span> symbol <span class="keyword">in</span> self.bindings:</span><br><span class="line">            <span class="keyword">return</span> self.bindings[symbol]</span><br><span class="line">        <span class="comment"># END PROBLEM 1</span></span><br><span class="line">        <span class="keyword">elif</span> self.parent!=<span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> self.parent.lookup(symbol)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> SchemeError(<span class="string">&#x27;unknown identifier: &#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(symbol))</span><br></pre></td></tr></table></figure>

<h3 id="Problem-2-2"><a href="#Problem-2-2" class="headerlink" title="Problem 2"></a>Problem 2</h3><p>可以记住把link化成list的方式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">isinstance</span>(procedure, BuiltinProcedure):</span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 2</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        <span class="comment">#第一步：把args转化为list</span></span><br><span class="line">        args_list=[]</span><br><span class="line">        <span class="keyword">while</span> args:</span><br><span class="line">            args_list.append(args.first)</span><br><span class="line">            args=args.rest</span><br><span class="line">        <span class="keyword">if</span> procedure.expect_env:</span><br><span class="line">            args_list.append(env)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">return</span> procedure.py_func(*args_list)</span><br><span class="line">        <span class="keyword">except</span> TypeError:</span><br><span class="line">            <span class="keyword">raise</span> SchemeError(<span class="string">&#x27;incorrect number of arguments&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>一遍过的感觉真爽</p>
<h3 id="Problem-3-2"><a href="#Problem-3-2" class="headerlink" title="Problem 3"></a>Problem 3</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># All non-atomic expressions are lists (combinations)</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> scheme_listp(expr):</span><br><span class="line">        <span class="keyword">raise</span> SchemeError(<span class="string">&#x27;malformed list: &#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(repl_str(expr)))</span><br><span class="line">    first, rest = expr.first, expr.rest</span><br><span class="line">    <span class="keyword">if</span> scheme_symbolp(first) <span class="keyword">and</span> first <span class="keyword">in</span> scheme_forms.SPECIAL_FORMS:</span><br><span class="line">        <span class="keyword">return</span> scheme_forms.SPECIAL_FORMS[first](rest, env)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 3</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        operator=scheme_eval(first,env)</span><br><span class="line">        operands=rest.<span class="built_in">map</span>(<span class="keyword">lambda</span> x:scheme_eval(x,env))</span><br><span class="line">        <span class="keyword">return</span> scheme_apply(operator,operands,env)</span><br><span class="line">        <span class="comment"># END PROBLEM 3</span></span><br></pre></td></tr></table></figure>

<h3 id="Problem-4-2"><a href="#Problem-4-2" class="headerlink" title="Problem 4"></a>Problem 4</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> scheme_symbolp(signature):</span><br><span class="line">        <span class="comment"># assigning a name to a value e.g. (define x (+ 1 2))</span></span><br><span class="line">        validate_form(expressions, <span class="number">2</span>, <span class="number">2</span>)  <span class="comment"># Checks that expressions is a list of length exactly 2</span></span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 4</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        env.define(signature,scheme_eval(expressions.rest.first,env))</span><br><span class="line">        <span class="keyword">return</span> signature</span><br><span class="line">        <span class="comment"># END PROBLEM 4</span></span><br></pre></td></tr></table></figure>

<h3 id="Problem-5-2"><a href="#Problem-5-2" class="headerlink" title="Problem 5"></a>Problem 5</h3><p>注意expressions的结构：</p>
<blockquote>
<p>Pair(A, nil)</p>
<p>A is the quoted expression</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">do_quote_form</span>(<span class="params">expressions, env</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Evaluate a quote form.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; env = create_global_frame()</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_quote_form(read_line(&quot;((+ x 2))&quot;), env) # evaluating (quote (+ x 2))</span></span><br><span class="line"><span class="string">    Pair(&#x27;+&#x27;, Pair(&#x27;x&#x27;, Pair(2, nil)))</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    validate_form(expressions, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 5</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> expressions.first</span><br><span class="line">    <span class="comment"># END PROBLEM 5</span></span><br></pre></td></tr></table></figure>



<h3 id="Problem-6-2"><a href="#Problem-6-2" class="headerlink" title="Problem 6"></a>Problem 6</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">eval_all</span>(<span class="params">expressions, env</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Evaluate each expression in the Scheme list EXPRESSIONS in</span></span><br><span class="line"><span class="string">    Frame ENV (the current environment) and return the value of the last.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; eval_all(read_line(&quot;(1)&quot;), create_global_frame())</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; eval_all(read_line(&quot;(1 2)&quot;), create_global_frame())</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x = eval_all(read_line(&quot;((print 1) 2)&quot;), create_global_frame())</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; x</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; eval_all(read_line(&quot;((define x 2) x)&quot;), create_global_frame())</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 6</span></span><br><span class="line">    <span class="keyword">if</span> expressions==nil:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    res=nil</span><br><span class="line">    <span class="keyword">while</span> expressions!=nil:</span><br><span class="line">        res=scheme_eval(expressions.first,env)</span><br><span class="line">        expressions=expressions.rest</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">    <span class="comment"># END PROBLEM 6</span></span><br></pre></td></tr></table></figure>

<h3 id="Problem-7-2"><a href="#Problem-7-2" class="headerlink" title="Problem 7"></a>Problem 7</h3><p>unlocked questions:</p>
<blockquote>
<p>lambda_line &#x3D; read_line(“(lambda (a b c) (+ a b c))”)</p>
<p>lambda_proc &#x3D; do_lambda_form(lambda_line.rest, env)</p>
<p>lambda_proc.formals:</p>
<p>—Pair(‘a’, Pair(‘b’, Pair(‘c’, nil)))</p>
<p>lambda_proc.body:</p>
<p>—Pair(Pair(‘+’, Pair(‘a’, Pair(‘b’, Pair(‘c’, nil)))), nil)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">do_lambda_form</span>(<span class="params">expressions, env</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Evaluate a lambda form.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; env = create_global_frame()</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_lambda_form(read_line(&quot;((x) (+ x 2))&quot;), env) # evaluating (lambda (x) (+ x 2))</span></span><br><span class="line"><span class="string">    LambdaProcedure(Pair(&#x27;x&#x27;, nil), Pair(Pair(&#x27;+&#x27;, Pair(&#x27;x&#x27;, Pair(2, nil))), nil), &lt;Global Frame&gt;)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    validate_form(expressions, <span class="number">2</span>)</span><br><span class="line">    formals = expressions.first</span><br><span class="line">    validate_formals(formals)</span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 7</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> LambdaProcedure(formals,expressions.rest,env)</span><br><span class="line">    <span class="comment"># END PROBLEM 7</span></span><br></pre></td></tr></table></figure>

<p>搞清楚formals&#x3D;expressions.first，body&#x3D;expressions.rest</p>
<h3 id="Problem-8-2"><a href="#Problem-8-2" class="headerlink" title="Problem 8"></a>Problem 8</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">make_child_frame</span>(<span class="params">self, formals, vals</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Return a new local frame whose parent is SELF, in which the symbols</span></span><br><span class="line"><span class="string">        in a Scheme list of formal parameters FORMALS are bound to the Scheme</span></span><br><span class="line"><span class="string">        values in the Scheme list VALS. Both FORMALS and VALS are represented as Pairs.</span></span><br><span class="line"><span class="string">        Raise an error if too many or too few</span></span><br><span class="line"><span class="string">        vals are given.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; env = create_global_frame()</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; formals, expressions = read_line(&#x27;(a b c)&#x27;), read_line(&#x27;(1 2 3)&#x27;)</span></span><br><span class="line"><span class="string">        &gt;&gt;&gt; env.make_child_frame(formals, expressions)</span></span><br><span class="line"><span class="string">        &lt;&#123;a: 1, b: 2, c: 3&#125; -&gt; &lt;Global Frame&gt;&gt;</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(formals) != <span class="built_in">len</span>(vals):</span><br><span class="line">            <span class="keyword">raise</span> SchemeError(<span class="string">&#x27;Incorrect number of arguments to function call&#x27;</span>)</span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 8</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        child_frame=Frame(self)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(formals)):</span><br><span class="line">            child_frame.define(formals.first,vals.first)</span><br><span class="line">            formals=formals.rest</span><br><span class="line">            vals=vals.rest</span><br><span class="line">        <span class="keyword">return</span> child_frame</span><br><span class="line">        <span class="comment"># END PROBLEM 8</span></span><br></pre></td></tr></table></figure>

<h3 id="Problem-9-2"><a href="#Problem-9-2" class="headerlink" title="Problem 9"></a>Problem 9</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">elif</span> <span class="built_in">isinstance</span>(procedure, LambdaProcedure):</span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 9</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        expr=procedure.env.make_child_frame(procedure.formals,args)</span><br><span class="line">        <span class="keyword">return</span> eval_all(procedure.body,expr)</span><br></pre></td></tr></table></figure>

<h3 id="Problem-10-2"><a href="#Problem-10-2" class="headerlink" title="Problem 10"></a>Problem 10</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">elif</span> <span class="built_in">isinstance</span>(signature, Pair) <span class="keyword">and</span> scheme_symbolp(signature.first):</span><br><span class="line">        <span class="comment"># defining a named procedure e.g. (define (f x y) (+ x y))</span></span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 10</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        formals=signature.rest</span><br><span class="line">        validate_formals(formals)</span><br><span class="line">        env.define(signature.first,LambdaProcedure(formals,expressions.rest,env))</span><br><span class="line">        <span class="keyword">return</span> signature.first</span><br><span class="line">        <span class="comment"># END PROBLEM 10</span></span><br></pre></td></tr></table></figure>

<h3 id="Problem-11-1"><a href="#Problem-11-1" class="headerlink" title="Problem 11"></a>Problem 11</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">elif</span> <span class="built_in">isinstance</span>(procedure, MuProcedure):</span><br><span class="line">        <span class="comment"># BEGIN PROBLEM 11</span></span><br><span class="line">        <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">        child=env.make_child_frame(procedure.formals,args)</span><br><span class="line">        <span class="keyword">return</span> eval_all(procedure.body,child)</span><br><span class="line">        <span class="comment"># END PROBLEM 11</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">do_mu_form</span>(<span class="params">expressions, env</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Evaluate a mu form.&quot;&quot;&quot;</span></span><br><span class="line">    validate_form(expressions, <span class="number">2</span>)</span><br><span class="line">    formals = expressions.first</span><br><span class="line">    validate_formals(formals)</span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 11</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> MuProcedure(formals,expressions.rest)</span><br><span class="line">    <span class="comment"># END PROBLEM 11</span></span><br></pre></td></tr></table></figure>

<h3 id="Problem-12"><a href="#Problem-12" class="headerlink" title="Problem 12"></a>Problem 12</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">do_and_form</span>(<span class="params">expressions, env</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Evaluate a (short-circuited) and form.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; env = create_global_frame()</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_and_form(read_line(&quot;(#f (print 1))&quot;), env) # evaluating (and #f (print 1))</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # evaluating (and (print 1) (print 2) (print 4) 3 #f)</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_and_form(read_line(&quot;((print 1) (print 2) (print 3) (print 4) 3 #f)&quot;), env)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 12</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> expressions==nil:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> expressions.rest==nil:</span><br><span class="line">        <span class="keyword">return</span> scheme_eval(expressions.first,env)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        first_expr=scheme_eval(expressions.first,env)</span><br><span class="line">        <span class="keyword">if</span> is_scheme_true(first_expr):</span><br><span class="line">            <span class="keyword">return</span> do_and_form(expressions.rest,env)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="comment"># END PROBLEM 12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">do_or_form</span>(<span class="params">expressions, env</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Evaluate a (short-circuited) or form.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; env = create_global_frame()</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_or_form(read_line(&quot;(10 (print 1))&quot;), env) # evaluating (or 10 (print 1))</span></span><br><span class="line"><span class="string">    10</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_or_form(read_line(&quot;(#f 2 3 #t #f)&quot;), env) # evaluating (or #f 2 3 #t #f)</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; # evaluating (or (begin (print 1) #f) (begin (print 2) #f) 6 (begin (print 3) 7))</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_or_form(read_line(&quot;((begin (print 1) #f) (begin (print 2) #f) 6 (begin (print 3) 7))&quot;), env)</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 12</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> expressions==nil:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> expressions.rest==nil:</span><br><span class="line">        <span class="keyword">return</span> scheme_eval(expressions.first,env)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        fir=scheme_eval(expressions.first,env)</span><br><span class="line">        <span class="keyword">if</span> is_scheme_false(fir):</span><br><span class="line">            <span class="keyword">return</span> do_or_form(expressions.rest,env)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> fir</span><br><span class="line">    <span class="comment"># END PROBLEM 12</span></span><br></pre></td></tr></table></figure>

<h3 id="Problem-13"><a href="#Problem-13" class="headerlink" title="Problem 13"></a>Problem 13</h3><p>这个比较简单</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">do_cond_form</span>(<span class="params">expressions, env</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Evaluate a cond form.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; do_cond_form(read_line(&quot;((#f (print 2)) (#t 3))&quot;), create_global_frame())</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">while</span> expressions <span class="keyword">is</span> <span class="keyword">not</span> nil:</span><br><span class="line">        clause = expressions.first</span><br><span class="line">        validate_form(clause, <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> clause.first == <span class="string">&#x27;else&#x27;</span>:</span><br><span class="line">            test = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">if</span> expressions.rest != nil:</span><br><span class="line">                <span class="keyword">raise</span> SchemeError(<span class="string">&#x27;else must be last&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            test = scheme_eval(clause.first, env)</span><br><span class="line">        <span class="keyword">if</span> is_scheme_true(test):</span><br><span class="line">            <span class="comment"># BEGIN PROBLEM 13</span></span><br><span class="line">            <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">            <span class="keyword">if</span> clause.rest==nil:</span><br><span class="line">                <span class="keyword">return</span> test</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> eval_all(clause.rest,env)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># END PROBLEM 13</span></span><br><span class="line">            expressions = expressions.rest</span><br></pre></td></tr></table></figure>

<h3 id="Problem-14"><a href="#Problem-14" class="headerlink" title="Problem 14"></a>Problem 14</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">make_let_frame</span>(<span class="params">bindings, env</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Create a child frame of Frame ENV that contains the definitions given in</span></span><br><span class="line"><span class="string">    BINDINGS. The Scheme list BINDINGS must have the form of a proper bindings</span></span><br><span class="line"><span class="string">    list in a let expression: each item must be a list containing a symbol</span></span><br><span class="line"><span class="string">    and a Scheme expression.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> scheme_listp(bindings):</span><br><span class="line">        <span class="keyword">raise</span> SchemeError(<span class="string">&#x27;bad bindings list in let form&#x27;</span>)</span><br><span class="line">    names = values = nil</span><br><span class="line">    <span class="comment"># BEGIN PROBLEM 14</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">while</span> bindings!=nil:</span><br><span class="line">        validate_form(bindings.first,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">        names=Pair(bindings.first.first,names)</span><br><span class="line">        values=Pair(scheme_eval(bindings.first.rest.first,env),values)</span><br><span class="line">        bindings=bindings.rest</span><br><span class="line">    validate_formals(names)</span><br><span class="line">    <span class="comment"># END PROBLEM 14</span></span><br><span class="line">    <span class="keyword">return</span> env.make_child_frame(names, values)</span><br></pre></td></tr></table></figure>

<h3 id="Problem-15"><a href="#Problem-15" class="headerlink" title="Problem 15"></a>Problem 15</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(define (<span class="built_in">enumerate</span> s)</span><br><span class="line">  ; BEGIN PROBLEM <span class="number">15</span></span><br><span class="line">  (define (helper index s)</span><br><span class="line">    (<span class="keyword">if</span> (null? s) nil</span><br><span class="line">        (cons (<span class="built_in">list</span> index (car s)) (helper (+ <span class="number">1</span> index) (cdr s)))</span><br><span class="line">    )</span><br><span class="line">    )</span><br><span class="line">    (helper <span class="number">0</span> s)</span><br><span class="line">  )</span><br><span class="line">  ; END PROBLEM <span class="number">15</span></span><br></pre></td></tr></table></figure>



<h3 id="Problem-16"><a href="#Problem-16" class="headerlink" title="Problem 16"></a>Problem 16</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(define (merge inorder? list1 list2)</span><br><span class="line">  ; BEGIN PROBLEM <span class="number">16</span></span><br><span class="line">  (cond ((null? list1) list2)</span><br><span class="line">        ((null? list2) list1)</span><br><span class="line">        ((inorder? (car list1) (car list2)) (cons (car list1) (merge inorder? (cdr list1) list2)))</span><br><span class="line">        (<span class="keyword">else</span> (cons (car list2) (merge inorder? list1 (cdr list2))))</span><br><span class="line">  )</span><br><span class="line">  )</span><br><span class="line">  ; END PROBLEM <span class="number">16</span></span><br></pre></td></tr></table></figure>

<p>终于把scheme这个project写完了</p>
<p>（虽然有好几题都是参考别人的思路与代码，因为不太能理解题目的英文以及不熟悉题目给的函数ww</p>
<h2 id="Lab-12：Regular-Expressions-BNF"><a href="#Lab-12：Regular-Expressions-BNF" class="headerlink" title="Lab 12：Regular Expressions, BNF"></a>Lab 12：Regular Expressions, BNF</h2><h3 id="Q1：Calculator-Ops"><a href="#Q1：Calculator-Ops" class="headerlink" title="Q1：Calculator Ops"></a>Q1：Calculator Ops</h3><p>就是要找出类似“(* 2 4)”这样的格式</p>
<p>注意多位数是由[0-9]+打出来的，不要漏了+号</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculator_ops</span>(<span class="params">calc_str</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Finds expressions from the Calculator language that have two</span></span><br><span class="line"><span class="string">    numeric operands and returns the expression without the parentheses.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; calculator_ops(&quot;(* 2 4)&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;* 2 4&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; calculator_ops(&quot;(+ (* 3 (+ (* 2 4) (+ 3 5))) (+ (- 10 7) 6))&quot;)</span></span><br><span class="line"><span class="string">    [&#x27;* 2 4&#x27;, &#x27;+ 3 5&#x27;, &#x27;- 10 7&#x27;]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; calculator_ops(&quot;(* 2)&quot;)</span></span><br><span class="line"><span class="string">    []</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> re.findall(<span class="string">r&#x27;[+*-/]\s[0-9]+\s[0-9]+&#x27;</span>, calc_str)</span><br></pre></td></tr></table></figure>

<h3 id="Q3：Linked-List-BNF"><a href="#Q3：Linked-List-BNF" class="headerlink" title="Q3：Linked List BNF"></a>Q3：Linked List BNF</h3><p>就是要写一个能匹配链表的grammer</p>
<p>注：NUMBER指数字</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">link: &quot;Link(&quot;link_first&quot;)&quot;|&quot;Link(&quot;link_first&quot;,&quot;link_rest&quot;)&quot;</span><br><span class="line">    </span><br><span class="line">    ?link_first: NUMBER | link</span><br><span class="line">    </span><br><span class="line">    ?link_rest: NUMBER | link</span><br><span class="line">    </span><br><span class="line">    %ignore /\s+/</span><br><span class="line">    %import common.NUMBER</span><br></pre></td></tr></table></figure>

<h3 id="Q4：Tree-BNF"><a href="#Q4：Tree-BNF" class="headerlink" title="Q4：Tree BNF"></a>Q4：Tree BNF</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">tree_node: &quot;Tree(&quot;label&quot;)&quot;|&quot;Tree(&quot;label&quot;,&quot;branches&quot;)&quot;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    ?label: NUMBER</span><br><span class="line">    </span><br><span class="line">    branches: &quot;[&quot;tree_node&quot;]&quot;|&quot;[&quot;tree_node&quot;,&quot;tree_node+&quot;]&quot;</span><br><span class="line">    </span><br><span class="line">    %ignore /\s+/</span><br><span class="line">    %import common.NUMBER</span><br></pre></td></tr></table></figure>



<h2 id="Disc-12：Regular-Expressions-BNF-SQL"><a href="#Disc-12：Regular-Expressions-BNF-SQL" class="headerlink" title="Disc 12：Regular Expressions, BNF, SQL"></a>Disc 12：Regular Expressions, BNF, SQL</h2><h3 id="Q2：SELECTs-in-BNF"><a href="#Q2：SELECTs-in-BNF" class="headerlink" title="Q2：SELECTs in BNF"></a>Q2：SELECTs in BNF</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Q3-5"><a href="#Q3-5" class="headerlink" title="Q3~5"></a>Q3~5</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name <span class="keyword">FROM</span> records <span class="keyword">WHERE</span> supervisor<span class="operator">=</span>&quot;Oliver Warbucks&quot;;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name <span class="keyword">FROM</span> records <span class="keyword">WHERE</span> supervisor<span class="operator">=</span>name</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name <span class="keyword">FROM</span> records <span class="keyword">WHERE</span> salary<span class="operator">&gt;</span><span class="number">50000</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> name <span class="keyword">asc</span></span><br></pre></td></tr></table></figure>

<h3 id="Q6：Email-Domain-Validator"><a href="#Q6：Email-Domain-Validator" class="headerlink" title="Q6：Email Domain Validator"></a>Q6：Email Domain Validator</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">email_validator</span>(<span class="params">email, domains</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; email_validator(&quot;oski@berkeley.edu&quot;, [&quot;berkeley.edu&quot;, &quot;gmail.com&quot;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; email_validator(&quot;oski@gmail.com&quot;, [&quot;berkeley.edu&quot;, &quot;gmail.com&quot;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; email_validator(&quot;oski@berkeley.com&quot;, [&quot;berkeley.edu&quot;, &quot;gmail.com&quot;])</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; email_validator(&quot;oski@berkeley.edu&quot;, [&quot;yahoo.com&quot;])</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; email_validator(&quot;xX123_iii_OSKI_iii_123Xx@berkeley.edu&quot;, [&quot;berkeley.edu&quot;, &quot;gmail.com&quot;])</span></span><br><span class="line"><span class="string">    True</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; email_validator(&quot;oski@oski@berkeley.edu&quot;, [&quot;berkeley.edu&quot;, &quot;gmail.com&quot;])</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; email_validator(&quot;oski@berkeleysedu&quot;, [&quot;berkeley.edu&quot;, &quot;gmail.com&quot;])</span></span><br><span class="line"><span class="string">    False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    pattern = <span class="string">r&quot;^\w+@(&quot;</span></span><br><span class="line">    <span class="keyword">for</span> domain <span class="keyword">in</span> domains:</span><br><span class="line">        <span class="keyword">if</span> domain ==domains[-<span class="number">1</span>]:</span><br><span class="line">            pattern+=domain[:-<span class="number">4</span>]+<span class="string">r&quot;\.&quot;</span>+domain[-<span class="number">3</span>:]+<span class="string">r&quot;)$&quot;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            pattern+=domain[:-<span class="number">4</span>]+<span class="string">r&quot;\.&quot;</span>+domain[-<span class="number">3</span>:]+<span class="string">&quot;|&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">bool</span>(re.search(pattern, email))</span><br></pre></td></tr></table></figure>



<h2 id="HW-10：BNF-SQL"><a href="#HW-10：BNF-SQL" class="headerlink" title="HW 10：BNF, SQL"></a>HW 10：BNF, SQL</h2><p>决定了，从这里开始暂时都鸽掉…</p>
<h3 id="Q4：Size-of-Dogs"><a href="#Q4：Size-of-Dogs" class="headerlink" title="Q4：Size of Dogs"></a>Q4：Size of Dogs</h3><p>将两个table联系起来可以用dot</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> size_of_dogs <span class="keyword">AS</span></span><br><span class="line">  <span class="keyword">SELECT</span> d.name, s.size <span class="keyword">from</span> dogs <span class="keyword">as</span> d, sizes <span class="keyword">as</span> s <span class="keyword">where</span> d.height<span class="operator">&lt;=</span>s.max <span class="keyword">and</span> d.height<span class="operator">&gt;</span>s.min;</span><br></pre></td></tr></table></figure>

<h3 id="Q5：By-Parent-Height"><a href="#Q5：By-Parent-Height" class="headerlink" title="Q5：By Parent Height"></a>Q5：By Parent Height</h3><h2 id="Lab-13：SQL"><a href="#Lab-13：SQL" class="headerlink" title="Lab 13：SQL"></a>Lab 13：SQL</h2><h2 id="Lab-14：Final-Review"><a href="#Lab-14：Final-Review" class="headerlink" title="Lab 14：Final Review"></a>Lab 14：Final Review</h2><h2 id="Disc-14：Final-Review"><a href="#Disc-14：Final-Review" class="headerlink" title="Disc 14：Final Review"></a>Disc 14：Final Review</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://liuydd.github.io">Sheeta Liu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://liuydd.github.io/2022/07/02/cs61aa/">http://liuydd.github.io/2022/07/02/cs61aa/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://liuydd.github.io" target="_blank">等到天亮我们都寻找到最漂亮的愿望</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="../../../../tags/cs-python/">cs, python</a></div><div class="post_share"><div class="social-share" data-image="../../../../images/cover12.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="../../06/shumo/"><img class="prev-cover" src="../../../../images/cover10.jpg" onerror="onerror=null;src='../../../../img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数学模型：人类的构思</div></div></a></div><div class="next-post pull-right"><a href="../../01/stars/"><img class="next-cover" src="../../../../images/cover7.jpg" onerror="onerror=null;src='../../../../img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">种星星的人</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="../../../09/06/pc/" title="爬虫&amp;数据库"><img class="cover" src="../../../../images/cover9.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-06</div><div class="title">爬虫&amp;数据库</div></div></a></div><div><a href="../../../06/30/cs61a/" title="cs61a：从入门到入土"><img class="cover" src="../../../../images/cover6.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-06-30</div><div class="title">cs61a：从入门到入土</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="../img/touxiang2.jpg" onerror="this.onerror=null;this.src='../img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sheeta Liu</div><div class="author-info__description">生活不需要意义，吃点好的，我也爱你</div></div><div class="card-info-data site-data is-center"><a href="../archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="../tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/liuydd"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">众生皆苦，唯有自渡...</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Readme"><span class="toc-number">1.</span> <span class="toc-text">Readme</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW-01-Control"><span class="toc-number">2.</span> <span class="toc-text">HW 01:Control</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2-A-Plus-Abs-B"><span class="toc-number">2.1.</span> <span class="toc-text">Q2:A Plus Abs B</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3-Two-of-Three"><span class="toc-number">2.2.</span> <span class="toc-text">Q3: Two of Three</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4-Largest-Factor"><span class="toc-number">2.3.</span> <span class="toc-text">Q4: Largest Factor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6-Hailstone"><span class="toc-number">2.4.</span> <span class="toc-text">Q6: Hailstone</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-01-Variables-amp-Functions-Control"><span class="toc-number">3.</span> <span class="toc-text">Lab 01: Variables &amp; Functions,Control</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9A-Falling-Factorial"><span class="toc-number">3.1.</span> <span class="toc-text">Q4： Falling Factorial</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5-Sum-Digits"><span class="toc-number">3.2.</span> <span class="toc-text">Q5: Sum Digits</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7-Double-Eights"><span class="toc-number">3.3.</span> <span class="toc-text">Q7: Double Eights</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Project1%EF%BC%9AThe-Game-of-Hog"><span class="toc-number">4.</span> <span class="toc-text">Project1：The Game of Hog</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Rules"><span class="toc-number">4.1.</span> <span class="toc-text">Rules</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Phase1-Simulator"><span class="toc-number">4.2.</span> <span class="toc-text">Phase1: Simulator</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-0"><span class="toc-number">4.2.1.</span> <span class="toc-text">Problem 0</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-1"><span class="toc-number">4.2.2.</span> <span class="toc-text">Problem 1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-2"><span class="toc-number">4.2.3.</span> <span class="toc-text">Problem 2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-3"><span class="toc-number">4.2.4.</span> <span class="toc-text">Problem 3</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-4"><span class="toc-number">4.2.5.</span> <span class="toc-text">Problem 4</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-5"><span class="toc-number">4.2.6.</span> <span class="toc-text">Problem 5</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Phase-2%EF%BC%9ACommentary"><span class="toc-number">4.3.</span> <span class="toc-text">Phase 2：Commentary</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-6"><span class="toc-number">4.3.1.</span> <span class="toc-text">Problem 6</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-7"><span class="toc-number">4.3.2.</span> <span class="toc-text">Problem 7</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Phase3%EF%BC%9AStrategies"><span class="toc-number">4.4.</span> <span class="toc-text">Phase3：Strategies</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-8"><span class="toc-number">4.4.1.</span> <span class="toc-text">Problem 8</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-9"><span class="toc-number">4.4.2.</span> <span class="toc-text">Problem 9</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-10"><span class="toc-number">4.4.3.</span> <span class="toc-text">Problem 10</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-11"><span class="toc-number">4.4.4.</span> <span class="toc-text">Problem 11</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Some-feelings-when-finishing-the-project"><span class="toc-number">4.5.</span> <span class="toc-text">Some feelings when finishing the project</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW-02-Higher-Order-Functions"><span class="toc-number">5.</span> <span class="toc-text">HW 02: Higher-Order Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Required-questions"><span class="toc-number">5.1.</span> <span class="toc-text">Required questions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9AProduct"><span class="toc-number">5.2.</span> <span class="toc-text">Q1：Product</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AAccumulate"><span class="toc-number">5.3.</span> <span class="toc-text">Q2：Accumulate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9AChurch-numerals%EF%BC%88just-for-fun-question"><span class="toc-number">5.4.</span> <span class="toc-text">Q3：Church numerals（just for fun question)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab2%EF%BC%9AHigher-Order-Functions%EF%BC%8CLambda-Expressions"><span class="toc-number">6.</span> <span class="toc-text">Lab2：Higher-Order Functions，Lambda Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9ALambdas-and-Currying"><span class="toc-number">6.1.</span> <span class="toc-text">Q3：Lambdas and Currying</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ACount-van-Count"><span class="toc-number">6.2.</span> <span class="toc-text">Q4：Count van Count</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7%EF%BC%9AComposite-Identity-Function"><span class="toc-number">6.3.</span> <span class="toc-text">Q7：Composite Identity Function</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q8%EF%BC%9AI-Heard-You-Liked-Functions%E2%80%A6"><span class="toc-number">6.4.</span> <span class="toc-text">Q8：I Heard You Liked Functions…</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-2%EF%BC%9AHigher-Order-Functions%EF%BC%8CSelf-Reference"><span class="toc-number">7.</span> <span class="toc-text">Disc 2：Higher-Order Functions，Self Reference</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9AMake-Keeper"><span class="toc-number">7.1.</span> <span class="toc-text">Q1：Make Keeper</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9APrint-N"><span class="toc-number">7.2.</span> <span class="toc-text">Q5：Print N</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q8%EF%BC%9AMatch-Maker"><span class="toc-number">7.3.</span> <span class="toc-text">Q8：Match Maker</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q9%EF%BC%9AThree-Memory-amp-Q10%EF%BC%9ANatural-Chain"><span class="toc-number">7.4.</span> <span class="toc-text">Q9：Three Memory &amp; Q10：Natural Chain</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-3%EF%BC%9AMidterm-Review"><span class="toc-number">8.</span> <span class="toc-text">Lab 3：Midterm Review</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9AUnique-Digits"><span class="toc-number">8.1.</span> <span class="toc-text">Q1：Unique Digits</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AOrdered-Digits"><span class="toc-number">8.2.</span> <span class="toc-text">Q2：Ordered Digits</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9AK-Runner"><span class="toc-number">8.3.</span> <span class="toc-text">Q3：K Runner</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AMake-Repeater"><span class="toc-number">8.4.</span> <span class="toc-text">Q4：Make Repeater</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AApply-Twice"><span class="toc-number">8.5.</span> <span class="toc-text">Q5：Apply Twice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q8-Protected-Secret"><span class="toc-number">8.6.</span> <span class="toc-text">Q8 Protected Secret</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-3%EF%BC%9ARecursive"><span class="toc-number">9.</span> <span class="toc-text">Disc 3：Recursive</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9AWarm-Up%EF%BC%9ARecursive-Multiplication"><span class="toc-number">9.1.</span> <span class="toc-text">Q1：Warm Up：Recursive Multiplication</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AIs-Prime"><span class="toc-number">9.2.</span> <span class="toc-text">Q4：Is Prime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9ARecursive-Hailstone"><span class="toc-number">9.3.</span> <span class="toc-text">Q5：Recursive Hailstone</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9AMerge-Numbers"><span class="toc-number">9.4.</span> <span class="toc-text">Q6：Merge Numbers</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW03%EF%BC%9ARecursion%EF%BC%8CTree-Recursion"><span class="toc-number">10.</span> <span class="toc-text">HW03：Recursion，Tree Recursion</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9ANum-eights"><span class="toc-number">10.1.</span> <span class="toc-text">Q1：Num eights</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9APing-pong"><span class="toc-number">10.2.</span> <span class="toc-text">Q2：Ping-pong</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9AMissing-Digits"><span class="toc-number">10.3.</span> <span class="toc-text">Q3：Missing Digits</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ACount-coins%EF%BC%88to-be-continued"><span class="toc-number">10.4.</span> <span class="toc-text">Q4：Count coins（to be continued</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-4%EF%BC%9ARecursion%EF%BC%8CTree-Recursion%EF%BC%8CPython-Lists"><span class="toc-number">11.</span> <span class="toc-text">Lab 4：Recursion，Tree Recursion，Python Lists</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9ASummation"><span class="toc-number">11.1.</span> <span class="toc-text">Q2：Summation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9APascal%E2%80%99s-Triangle"><span class="toc-number">11.2.</span> <span class="toc-text">Q3：Pascal’s Triangle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AInsect-Combinatorics"><span class="toc-number">11.3.</span> <span class="toc-text">Q4：Insect Combinatorics</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9ACouple"><span class="toc-number">11.4.</span> <span class="toc-text">Q5：Couple</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9ACoordinates"><span class="toc-number">11.5.</span> <span class="toc-text">Q6：Coordinates</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7%EF%BC%9ARiffle-Shuffle"><span class="toc-number">11.6.</span> <span class="toc-text">Q7：Riffle Shuffle</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-4%EF%BC%9ATree-Recursion%EF%BC%8CPython-Lists"><span class="toc-number">12.</span> <span class="toc-text">Disc 4：Tree Recursion，Python Lists</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9ACount-Stair-Ways"><span class="toc-number">12.1.</span> <span class="toc-text">Q1：Count Stair Ways</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9ACount-K"><span class="toc-number">12.2.</span> <span class="toc-text">Q2：Count K</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AMax-Product"><span class="toc-number">12.3.</span> <span class="toc-text">Q5：Max Product</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Project-2%EF%BC%9ACS61A-Autocorrected-Typing-Software%E2%80%94%E2%80%94Cats"><span class="toc-number">13.</span> <span class="toc-text">Project 2：CS61A Autocorrected Typing Software——Cats</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Phase-1%EF%BC%9ATyping"><span class="toc-number">13.1.</span> <span class="toc-text">Phase 1：Typing</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-1-1"><span class="toc-number">13.1.1.</span> <span class="toc-text">Problem 1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-2-1"><span class="toc-number">13.1.2.</span> <span class="toc-text">Problem 2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-3-1"><span class="toc-number">13.1.3.</span> <span class="toc-text">Problem 3</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-4-1"><span class="toc-number">13.1.4.</span> <span class="toc-text">Problem 4</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Phase-2%EF%BC%9AAutocorrect"><span class="toc-number">13.2.</span> <span class="toc-text">Phase 2：Autocorrect</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-5-1"><span class="toc-number">13.2.1.</span> <span class="toc-text">Problem 5</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-6-1"><span class="toc-number">13.2.2.</span> <span class="toc-text">Problem 6</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-7-1"><span class="toc-number">13.2.3.</span> <span class="toc-text">Problem 7</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Phase-3%EF%BC%9AMultiplayer"><span class="toc-number">13.3.</span> <span class="toc-text">Phase 3：Multiplayer</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-8-1"><span class="toc-number">13.3.1.</span> <span class="toc-text">Problem 8</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-9-1"><span class="toc-number">13.3.2.</span> <span class="toc-text">Problem 9</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Problem-10-1"><span class="toc-number">13.3.3.</span> <span class="toc-text">Problem 10</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Some-feelings"><span class="toc-number">13.3.4.</span> <span class="toc-text">Some feelings</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-5%EF%BC%9APython-Lists-Trees"><span class="toc-number">14.</span> <span class="toc-text">Lab 5：Python Lists, Trees</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9AFactors-List"><span class="toc-number">14.1.</span> <span class="toc-text">Q1：Factors List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AFlatten"><span class="toc-number">14.2.</span> <span class="toc-text">Q2：Flatten</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9ADistance"><span class="toc-number">14.3.</span> <span class="toc-text">Q3：Distance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ACloser-city"><span class="toc-number">14.4.</span> <span class="toc-text">Q4：Closer city</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9AFinding-Berries"><span class="toc-number">14.5.</span> <span class="toc-text">Q6：Finding Berries!</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7%EF%BC%9ASprout-leaves"><span class="toc-number">14.6.</span> <span class="toc-text">Q7：Sprout leaves</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-5%EF%BC%9ATrees-Data-Abstraction-Sequences"><span class="toc-number">15.</span> <span class="toc-text">Disc 5：Trees, Data Abstraction, Sequences</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AHeight"><span class="toc-number">15.1.</span> <span class="toc-text">Q2：Height</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9AMaximum-Path-Sum"><span class="toc-number">15.2.</span> <span class="toc-text">Q3：Maximum Path Sum</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AFind-Path"><span class="toc-number">15.3.</span> <span class="toc-text">Q4：Find Path</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AMap-Filter-Reduce"><span class="toc-number">15.4.</span> <span class="toc-text">Q5：Map, Filter, Reduce</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9ACount-palindromes"><span class="toc-number">15.5.</span> <span class="toc-text">Q6：Count palindromes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7%EF%BC%9APerfectly-Balanced"><span class="toc-number">15.6.</span> <span class="toc-text">Q7：Perfectly Balanced</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q8%EF%BC%9AHailstone-Tree"><span class="toc-number">15.7.</span> <span class="toc-text">Q8：Hailstone Tree</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW-4%EF%BC%9AData-Abstraction%EF%BC%8CTrees"><span class="toc-number">16.</span> <span class="toc-text">HW 4：Data Abstraction，Trees</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AWeights"><span class="toc-number">16.1.</span> <span class="toc-text">Q2：Weights</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9ABalanced"><span class="toc-number">16.2.</span> <span class="toc-text">Q3：Balanced</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ATotals"><span class="toc-number">16.3.</span> <span class="toc-text">Q4：Totals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AReplace-Loki-at-Leaf"><span class="toc-number">16.4.</span> <span class="toc-text">Q5：Replace Loki at Leaf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9AHas-Path"><span class="toc-number">16.5.</span> <span class="toc-text">Q6：Has Path</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7%EF%BC%9APreorder"><span class="toc-number">16.6.</span> <span class="toc-text">Q7：Preorder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q8%EF%BC%9AInterval-Abstraction"><span class="toc-number">16.7.</span> <span class="toc-text">Q8：Interval Abstraction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q9%EF%BC%9AInterval-Arithmetic"><span class="toc-number">16.8.</span> <span class="toc-text">Q9：Interval Arithmetic</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-06%EF%BC%9AMutability-Iterators"><span class="toc-number">17.</span> <span class="toc-text">Lab 06：Mutability, Iterators</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AInsert-Items"><span class="toc-number">17.1.</span> <span class="toc-text">Q2：Insert Items</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ACount-Occurrences"><span class="toc-number">17.2.</span> <span class="toc-text">Q4：Count Occurrences</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9ARepeated"><span class="toc-number">17.3.</span> <span class="toc-text">Q5：Repeated</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-06%EF%BC%9AMutability-Iterators-and-Generators"><span class="toc-number">18.</span> <span class="toc-text">Disc 06：Mutability, Iterators and Generators</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AAdd-This-Many"><span class="toc-number">18.1.</span> <span class="toc-text">Q2：Add This Many</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AFilter-Iter"><span class="toc-number">18.2.</span> <span class="toc-text">Q4：Filter-Iter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AMerge"><span class="toc-number">18.3.</span> <span class="toc-text">Q5：Merge</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9APrimes-Generator"><span class="toc-number">18.4.</span> <span class="toc-text">Q6：Primes Generator</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW-05%EF%BC%9AIterators-and-Generators"><span class="toc-number">19.</span> <span class="toc-text">HW 05：Iterators and Generators</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9AGenerate-Permutations"><span class="toc-number">19.1.</span> <span class="toc-text">Q1：Generate Permutations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AYield-Paths"><span class="toc-number">19.2.</span> <span class="toc-text">Q2：Yield Paths</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9APreorder"><span class="toc-number">19.3.</span> <span class="toc-text">Q3：Preorder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AGenerate-Preorder"><span class="toc-number">19.4.</span> <span class="toc-text">Q4：Generate Preorder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9ARemainder-Generator"><span class="toc-number">19.5.</span> <span class="toc-text">Q5：Remainder Generator</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-07%EF%BC%9AObject-Oriented-Programming"><span class="toc-number">20.</span> <span class="toc-text">Lab 07：Object-Oriented Programming</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9ARetirement"><span class="toc-number">20.1.</span> <span class="toc-text">Q2：Retirement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9AFreeChecking"><span class="toc-number">20.2.</span> <span class="toc-text">Q3：FreeChecking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AMaking-Cards"><span class="toc-number">20.3.</span> <span class="toc-text">Q4：Making Cards</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AMaking-a-Player"><span class="toc-number">20.4.</span> <span class="toc-text">Q5：Making a Player</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9AALs%EF%BC%9ADefenders"><span class="toc-number">20.5.</span> <span class="toc-text">Q6：ALs：Defenders</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7%EF%BC%9ATutors%EF%BC%9AFlummox"><span class="toc-number">20.6.</span> <span class="toc-text">Q7：Tutors：Flummox</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q8%EF%BC%9ATAs%EF%BC%9AShift"><span class="toc-number">20.7.</span> <span class="toc-text">Q8：TAs：Shift</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q9%EF%BC%9AThe-Instructor-Arrives"><span class="toc-number">20.8.</span> <span class="toc-text">Q9：The Instructor Arrives</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Project-03%EF%BC%9AAnts"><span class="toc-number">21.</span> <span class="toc-text">Project 03：Ants</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-07%EF%BC%9AObject-Oriented-Programming-String-Repredentation"><span class="toc-number">22.</span> <span class="toc-text">Disc 07：Object-Oriented Programming, String Repredentation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AKeyboard"><span class="toc-number">22.1.</span> <span class="toc-text">Q2：Keyboard</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9ACat"><span class="toc-number">22.2.</span> <span class="toc-text">Q3：Cat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ANoisyCat"><span class="toc-number">22.3.</span> <span class="toc-text">Q4：NoisyCat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9ACat-Adoption%EF%BC%88cls%E7%94%A8%E6%B3%95"><span class="toc-number">22.4.</span> <span class="toc-text">Q5：Cat Adoption（cls用法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW-06%EF%BC%9AObject-Oriented-Programming-Linked-Lists"><span class="toc-number">23.</span> <span class="toc-text">HW 06：Object-Oriented Programming, Linked Lists</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1-Vending-Machine"><span class="toc-number">23.1.</span> <span class="toc-text">Q1:Vending Machine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AMint"><span class="toc-number">23.2.</span> <span class="toc-text">Q2：Mint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9AStore-Digits"><span class="toc-number">23.3.</span> <span class="toc-text">Q3：Store Digits</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AMutable-Mapping"><span class="toc-number">23.4.</span> <span class="toc-text">Q4：Mutable Mapping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5-Two-List"><span class="toc-number">23.5.</span> <span class="toc-text">Q5:Two List</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-08%EF%BC%9ALinked-Lists-Mutable-Trees"><span class="toc-number">24.</span> <span class="toc-text">Lab 08：Linked Lists, Mutable Trees</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AConvert-Link"><span class="toc-number">24.1.</span> <span class="toc-text">Q2：Convert Link</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ASquare"><span class="toc-number">24.2.</span> <span class="toc-text">Q4：Square</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9ACumulative-Mul"><span class="toc-number">24.3.</span> <span class="toc-text">Q5：Cumulative Mul</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9AAdd-Leaves"><span class="toc-number">24.4.</span> <span class="toc-text">Q6：Add Leaves</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-08%EF%BC%9ALinked-Lists-Trees"><span class="toc-number">25.</span> <span class="toc-text">Disc 08：Linked Lists, Trees</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3-Sum-Nums"><span class="toc-number">25.1.</span> <span class="toc-text">Q3:Sum Nums</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AMultiply-Links"><span class="toc-number">25.2.</span> <span class="toc-text">Q4：Multiply Links</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AFlip-Two"><span class="toc-number">25.3.</span> <span class="toc-text">Q5：Flip Two</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9AMake-Even"><span class="toc-number">25.4.</span> <span class="toc-text">Q6：Make Even</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7%EF%BC%9ALeaves"><span class="toc-number">25.5.</span> <span class="toc-text">Q7：Leaves</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-09%EF%BC%9AMidterm-Review%EF%BC%88Optional%EF%BC%89"><span class="toc-number">26.</span> <span class="toc-text">Lab 09：Midterm Review（Optional）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9ASubsequences"><span class="toc-number">26.1.</span> <span class="toc-text">Q1：Subsequences</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9ANon-Decreasing-Subsequences"><span class="toc-number">26.2.</span> <span class="toc-text">Q2：Non-Decreasing Subsequences</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9ANumber-of-Trees"><span class="toc-number">26.3.</span> <span class="toc-text">Q3：Number of Trees</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AMerge"><span class="toc-number">26.4.</span> <span class="toc-text">Q4：Merge</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9ABank-Account"><span class="toc-number">26.5.</span> <span class="toc-text">Q5：Bank Account</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9ATrade"><span class="toc-number">26.6.</span> <span class="toc-text">Q6：Trade</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7-Shuffle"><span class="toc-number">26.7.</span> <span class="toc-text">Q7:Shuffle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q8%EF%BC%9AInsert"><span class="toc-number">26.8.</span> <span class="toc-text">Q8：Insert</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q9%EF%BC%9ADeep-Linked-List-Length"><span class="toc-number">26.9.</span> <span class="toc-text">Q9：Deep Linked List Length</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q10%EF%BC%9ALinked-Lists-as-Strings"><span class="toc-number">26.10.</span> <span class="toc-text">Q10：Linked Lists as Strings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q11%EF%BC%9ALong-Paths"><span class="toc-number">26.11.</span> <span class="toc-text">Q11：Long Paths</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-10%EF%BC%9AScheme"><span class="toc-number">27.</span> <span class="toc-text">Lab 10：Scheme</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AOver-or-Under"><span class="toc-number">27.1.</span> <span class="toc-text">Q2：Over or Under</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9AMake-Adder"><span class="toc-number">27.2.</span> <span class="toc-text">Q3：Make Adder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ACompose"><span class="toc-number">27.3.</span> <span class="toc-text">Q4：Compose</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AMake-a-List"><span class="toc-number">27.4.</span> <span class="toc-text">Q5：Make a List</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW-07%EF%BC%9AScheme"><span class="toc-number">28.</span> <span class="toc-text">HW 07：Scheme</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9AThane-of-Cadr"><span class="toc-number">28.1.</span> <span class="toc-text">Q1：Thane of Cadr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AOrdered"><span class="toc-number">28.2.</span> <span class="toc-text">Q2：Ordered</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9APow"><span class="toc-number">28.3.</span> <span class="toc-text">Q3：Pow</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-10%EF%BC%9AScheme-Scheme-Lists"><span class="toc-number">29.</span> <span class="toc-text">Disc 10：Scheme, Scheme Lists</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9AVirahanka-Fibonacci"><span class="toc-number">29.1.</span> <span class="toc-text">Q1：Virahanka-Fibonacci</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AList-Making"><span class="toc-number">29.2.</span> <span class="toc-text">Q2：List Making</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9AList-Concatenation"><span class="toc-number">29.3.</span> <span class="toc-text">Q3：List Concatenation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9AMap"><span class="toc-number">29.4.</span> <span class="toc-text">Q4：Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AMake-Tree"><span class="toc-number">29.5.</span> <span class="toc-text">Q5：Make Tree</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9ATree-Sum"><span class="toc-number">29.6.</span> <span class="toc-text">Q6：Tree Sum</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW-08%EF%BC%9AScheme-Lists"><span class="toc-number">30.</span> <span class="toc-text">HW 08：Scheme Lists</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9AMy-Filter"><span class="toc-number">30.1.</span> <span class="toc-text">Q1：My Filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9AInterleave"><span class="toc-number">30.2.</span> <span class="toc-text">Q2：Interleave</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9AAccumulate"><span class="toc-number">30.3.</span> <span class="toc-text">Q3：Accumulate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ANo-Repeats"><span class="toc-number">30.4.</span> <span class="toc-text">Q4：No Repeats</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-11%EF%BC%9AInterpreters"><span class="toc-number">31.</span> <span class="toc-text">Lab 11：Interpreters</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-1-2"><span class="toc-number">31.1.</span> <span class="toc-text">Problem 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-2%E3%80%813"><span class="toc-number">31.2.</span> <span class="toc-text">Problem 2、3</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-11%EF%BC%9AInterpreters"><span class="toc-number">32.</span> <span class="toc-text">Disc 11：Interpreters</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9ANew-Procedure"><span class="toc-number">32.1.</span> <span class="toc-text">Q2：New Procedure</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9ANew-Form"><span class="toc-number">32.2.</span> <span class="toc-text">Q3：New Form</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ASaving-Values"><span class="toc-number">32.3.</span> <span class="toc-text">Q4：Saving Values</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW-09%EF%BC%9ARegular-Expressions"><span class="toc-number">33.</span> <span class="toc-text">HW 09：Regular Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9ARoman-Numerals"><span class="toc-number">33.1.</span> <span class="toc-text">Q2：Roman Numerals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9ACS-Classes"><span class="toc-number">33.2.</span> <span class="toc-text">Q3：CS Classes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ATime-for-Times"><span class="toc-number">33.3.</span> <span class="toc-text">Q4：Time for Times</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9AMost-Common-Area-Code"><span class="toc-number">33.4.</span> <span class="toc-text">Q5：Most Common Area Code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Project-4%EF%BC%9AScheme"><span class="toc-number">34.</span> <span class="toc-text">Project 4：Scheme</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-1-3"><span class="toc-number">34.1.</span> <span class="toc-text">Problem 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-2-2"><span class="toc-number">34.2.</span> <span class="toc-text">Problem 2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-3-2"><span class="toc-number">34.3.</span> <span class="toc-text">Problem 3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-4-2"><span class="toc-number">34.4.</span> <span class="toc-text">Problem 4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-5-2"><span class="toc-number">34.5.</span> <span class="toc-text">Problem 5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-6-2"><span class="toc-number">34.6.</span> <span class="toc-text">Problem 6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-7-2"><span class="toc-number">34.7.</span> <span class="toc-text">Problem 7</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-8-2"><span class="toc-number">34.8.</span> <span class="toc-text">Problem 8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-9-2"><span class="toc-number">34.9.</span> <span class="toc-text">Problem 9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-10-2"><span class="toc-number">34.10.</span> <span class="toc-text">Problem 10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-11-1"><span class="toc-number">34.11.</span> <span class="toc-text">Problem 11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-12"><span class="toc-number">34.12.</span> <span class="toc-text">Problem 12</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-13"><span class="toc-number">34.13.</span> <span class="toc-text">Problem 13</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-14"><span class="toc-number">34.14.</span> <span class="toc-text">Problem 14</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-15"><span class="toc-number">34.15.</span> <span class="toc-text">Problem 15</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-16"><span class="toc-number">34.16.</span> <span class="toc-text">Problem 16</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-12%EF%BC%9ARegular-Expressions-BNF"><span class="toc-number">35.</span> <span class="toc-text">Lab 12：Regular Expressions, BNF</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1%EF%BC%9ACalculator-Ops"><span class="toc-number">35.1.</span> <span class="toc-text">Q1：Calculator Ops</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3%EF%BC%9ALinked-List-BNF"><span class="toc-number">35.2.</span> <span class="toc-text">Q3：Linked List BNF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ATree-BNF"><span class="toc-number">35.3.</span> <span class="toc-text">Q4：Tree BNF</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-12%EF%BC%9ARegular-Expressions-BNF-SQL"><span class="toc-number">36.</span> <span class="toc-text">Disc 12：Regular Expressions, BNF, SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2%EF%BC%9ASELECTs-in-BNF"><span class="toc-number">36.1.</span> <span class="toc-text">Q2：SELECTs in BNF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3-5"><span class="toc-number">36.2.</span> <span class="toc-text">Q3~5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6%EF%BC%9AEmail-Domain-Validator"><span class="toc-number">36.3.</span> <span class="toc-text">Q6：Email Domain Validator</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HW-10%EF%BC%9ABNF-SQL"><span class="toc-number">37.</span> <span class="toc-text">HW 10：BNF, SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4%EF%BC%9ASize-of-Dogs"><span class="toc-number">37.1.</span> <span class="toc-text">Q4：Size of Dogs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5%EF%BC%9ABy-Parent-Height"><span class="toc-number">37.2.</span> <span class="toc-text">Q5：By Parent Height</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-13%EF%BC%9ASQL"><span class="toc-number">38.</span> <span class="toc-text">Lab 13：SQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lab-14%EF%BC%9AFinal-Review"><span class="toc-number">39.</span> <span class="toc-text">Lab 14：Final Review</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disc-14%EF%BC%9AFinal-Review"><span class="toc-number">40.</span> <span class="toc-text">Disc 14：Final Review</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="../2022/11/20/zcx/" title="记录与赵导一次很有启发的谈话"><img src="../images/cover19.jpg" onerror="this.onerror=null;this.src='../img/404.jpg'" alt="记录与赵导一次很有启发的谈话"/></a><div class="content"><a class="title" href="../2022/11/20/zcx/" title="记录与赵导一次很有启发的谈话">记录与赵导一次很有启发的谈话</a><time datetime="2022-11-20T15:59:00.000Z" title="发表于 2022-11-20 23:59:00">2022-11-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="../2022/11/19/wyp/" title="Some feelings for 《程序设计基础》"><img src="../images/cover24.jpg" onerror="this.onerror=null;this.src='../img/404.jpg'" alt="Some feelings for 《程序设计基础》"/></a><div class="content"><a class="title" href="../2022/11/19/wyp/" title="Some feelings for 《程序设计基础》">Some feelings for 《程序设计基础》</a><time datetime="2022-11-19T07:37:18.000Z" title="发表于 2022-11-19 15:37:18">2022-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="../2022/09/23/cs106l/" title="cs106l：破晓"><img src="../images/cover20.jpg" onerror="this.onerror=null;this.src='../img/404.jpg'" alt="cs106l：破晓"/></a><div class="content"><a class="title" href="../2022/09/23/cs106l/" title="cs106l：破晓">cs106l：破晓</a><time datetime="2022-09-23T00:20:05.000Z" title="发表于 2022-09-23 08:20:05">2022-09-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="../2022/09/12/moyu2/" title="Sheetaの摸鱼日记（二）"><img src="../images/cover14.jpeg" onerror="this.onerror=null;this.src='../img/404.jpg'" alt="Sheetaの摸鱼日记（二）"/></a><div class="content"><a class="title" href="../2022/09/12/moyu2/" title="Sheetaの摸鱼日记（二）">Sheetaの摸鱼日记（二）</a><time datetime="2022-09-11T16:04:46.000Z" title="发表于 2022-09-12 00:04:46">2022-09-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="../2022/09/06/pc/" title="爬虫&amp;数据库"><img src="../images/cover9.jpg" onerror="this.onerror=null;this.src='../img/404.jpg'" alt="爬虫&amp;数据库"/></a><div class="content"><a class="title" href="../2022/09/06/pc/" title="爬虫&amp;数据库">爬虫&amp;数据库</a><time datetime="2022-09-06T09:25:47.000Z" title="发表于 2022-09-06 17:25:47">2022-09-06</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By Sheeta Liu</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><canvas class="fireworks" style="position: fixed; left: 0; top: 0; z-index: 1; pointer-events: none;" ></canvas>
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
<script type="text/javascript" src="/js/fireworks.js"></script>
<% } %></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="../../../../js/utils.js"></script><script src="../../../../js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="../../../../js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-lake-alpha-67.vercel.app',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-lake-alpha-67.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"superSample":2,"position":"left","width":150,"height":300,"hOffset":20,"vOffset":-90},"mobile":{"show":false,"scale":1},"react":{"opacityDefault":0.3,"opacityOnHover":0.3,"opacity":0.95},"log":false});</script></body></html>